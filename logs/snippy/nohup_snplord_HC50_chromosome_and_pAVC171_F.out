Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 40
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	2	fasttree
	2	gubbins
	2	snippy_clean
	2	snippy_core
	108	snippy_run
	2	snp_dists
	2	snp_sites
	121

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out
    jobid: 19
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_SA8312AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out
    jobid: 95
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HA6332AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out
    jobid: 11
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_BA8511AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out
    jobid: 93
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_SA8273AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out
    jobid: 49
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HA6420AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out
    jobid: 13
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_VA0598AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out
    jobid: 39
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4064AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta

[Thu Sep 10 09:08:09 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out
    jobid: 59
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HB8007AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:10] This is snippy 4.4.3
[09:08:10] This is snippy 4.4.3
[09:08:10] Written by Torsten Seemann
[09:08:10] Written by Torsten Seemann
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Detected operating system: linux
[09:08:10] Detected operating system: linux
[09:08:10] Enabling bundled linux tools.
[09:08:10] Enabling bundled linux tools.
[09:08:10] This is snippy 4.4.3
[09:08:10] Written by Torsten Seemann
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Detected operating system: linux
[09:08:10] This is snippy 4.4.3
[09:08:10] Enabling bundled linux tools.
[09:08:10] Written by Torsten Seemann
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Detected operating system: linux
[09:08:10] Enabling bundled linux tools.
[09:08:10] This is snippy 4.4.3
[09:08:10] Written by Torsten Seemann
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Detected operating system: linux
[09:08:10] Enabling bundled linux tools.
[09:08:10] This is snippy 4.4.3
[09:08:10] This is snippy 4.4.3
[09:08:10] This is snippy 4.4.3
[09:08:10] Written by Torsten Seemann
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Detected operating system: linux
[09:08:10] Written by Torsten Seemann
[09:08:10] Enabling bundled linux tools.
[09:08:10] Written by Torsten Seemann
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Obtained from https://github.com/tseemann/snippy
[09:08:10] Detected operating system: linux
[09:08:10] Detected operating system: linux
[09:08:10] Enabling bundled linux tools.
[09:08:10] Enabling bundled linux tools.
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found gzip - /usr/bin/gzip
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Treating reference as 'fasta' format.
[09:08:11] Will use 8 CPU cores.
[09:08:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta
[09:08:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out
[09:08:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out
[09:08:11] Creating reference folder: reference
[09:08:11] Extracting FASTA and GFF from reference.
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta into pseudo-reads
[09:08:11] Wrote 1 sequences to ref.fa
[09:08:11] Wrote 0 features to ref.gff
[09:08:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta into pseudo-reads
[09:08:15] Wrote 435872 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:15] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:15] Using BAM RG (Read Group) ID: ESC_SA8273AA_AS.out
[09:08:15] Wrote 440276 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:15] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:15] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:15] Using BAM RG (Read Group) ID: ESC_SA8312AA_AS.out
[09:08:16] Wrote 440510 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:16] Wrote 440980 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:16] Wrote 437900 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:16] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:16] Using BAM RG (Read Group) ID: ESC_HB8007AA_AS.out
[09:08:16] Using BAM RG (Read Group) ID: ESC_HA6420AA_AS.out
[09:08:16] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:16] Using BAM RG (Read Group) ID: ESC_VA0598AA_AS.out
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Wrote 443754 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:16] Using BAM RG (Read Group) ID: ESC_HA6332AA_AS.out
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Wrote 447112 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:16] Wrote 453578 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:16] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:16] Using BAM RG (Read Group) ID: ESC_BA8511AA_AS.out
[09:08:16] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:16] Using BAM RG (Read Group) ID: ESC_NA4064AA_AS.out
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:16] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:19] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:19] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:19] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:19] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:19] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:19] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:19] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8312AA_AS.out\tSM:ESC_SA8312AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:19] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8273AA_AS.out\tSM:ESC_SA8273AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa . 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:08:19] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:08:19] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:19] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:19] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HB8007AA_AS.out\tSM:ESC_HB8007AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:19] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6332AA_AS.out\tSM:ESC_HA6332AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320326 sequences (80000378 bp)...
[M::process] read 320052 sequences (80000174 bp)...
[M::process] read 320018 sequences (80000164 bp)...
[M::process] read 320068 sequences (80000032 bp)...
[09:08:19] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:19] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:20] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:20] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:20] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:20] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:20] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:20] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:20] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:20] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4064AA_AS.out\tSM:ESC_NA4064AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::process] read 123686 sequences (30918376 bp)...
[09:08:20] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:20] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:20] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:20] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:20] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:08:20] Running: bwa mem  -Y -M -R '@RG\tID:ESC_VA0598AA_AS.out\tSM:ESC_VA0598AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:20] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[09:08:20] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:08:20] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6420AA_AS.out\tSM:ESC_HA6420AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:08:20] Running: bwa mem  -Y -M -R '@RG\tID:ESC_BA8511AA_AS.out\tSM:ESC_BA8511AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 119950 sequences (29987500 bp)...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320142 sequences (80000350 bp)...
[M::process] read 320014 sequences (80000098 bp)...
[M::process] read 320062 sequences (80000166 bp)...
[M::process] read 320112 sequences (80000494 bp)...
[M::process] read 127050 sequences (31755156 bp)...
[M::process] read 120868 sequences (30194564 bp)...
[M::process] read 133436 sequences (33317366 bp)...
[M::process] read 120492 sequences (30123000 bp)...
[M::process] read 115820 sequences (28955000 bp)...
[M::mem_process_seqs] Processed 320326 reads in 25.134 CPU sec, 7.975 real sec
[M::process] read 117886 sequences (29471500 bp)...
[M::mem_process_seqs] Processed 119950 reads in 7.687 CPU sec, 1.395 real sec
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320068 reads in 26.448 CPU sec, 10.172 real sec
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 320062 reads in 24.614 CPU sec, 9.521 real sec
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8312AA_AS.out\tSM:ESC_SA8312AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.259 sec; CPU: 33.640 sec
[samclip] Total SAM records 441687, removed 6748, allowed 676, passed 434939
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 123686 reads in 8.316 CPU sec, 1.125 real sec
[M::mem_process_seqs] Processed 320052 reads in 22.187 CPU sec, 11.346 real sec
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320142 reads in 25.838 CPU sec, 11.179 real sec
[M::mem_process_seqs] Processed 127050 reads in 10.914 CPU sec, 1.698 real sec
[samclip] Processed 300000 records...
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 320112 reads in 25.874 CPU sec, 11.309 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 200000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6332AA_AS.out\tSM:ESC_HA6332AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.367 sec; CPU: 35.517 sec
[samclip] Total SAM records 445038, removed 6088, allowed 807, passed 438950
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 115820 reads in 7.762 CPU sec, 2.035 real sec
[M::mem_process_seqs] Processed 320018 reads in 25.344 CPU sec, 13.400 real sec
[samclip] Processed 100000 records...
[samclip] Processed 400000 records...
[M::mem_process_seqs] Processed 120868 reads in 7.612 CPU sec, 1.268 real sec
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 133436 reads in 11.566 CPU sec, 1.908 real sec
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_BA8511AA_AS.out\tSM:ESC_BA8511AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.395 sec; CPU: 36.354 sec
[samclip] Total SAM records 448153, removed 4641, allowed 617, passed 443512
[samclip] Header contained 3 lines
[samclip] Done.
[09:08:33] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[09:08:33] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[samclip] Processed 100000 records...
[09:08:34] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::mem_process_seqs] Processed 320014 reads in 26.360 CPU sec, 13.432 real sec
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 400000 records...
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8273AA_AS.out\tSM:ESC_SA8273AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 15.355 sec; CPU: 30.670 sec
[samclip] Total SAM records 436464, removed 2681, allowed 230, passed 433783
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 120492 reads in 10.479 CPU sec, 1.725 real sec
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6420AA_AS.out\tSM:ESC_HA6420AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 15.144 sec; CPU: 34.340 sec
[samclip] Total SAM records 442027, removed 5105, allowed 629, passed 436922
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 117886 reads in 7.752 CPU sec, 1.319 real sec
[samclip] Processed 400000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4064AA_AS.out\tSM:ESC_NA4064AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 15.628 sec; CPU: 38.291 sec
[samclip] Total SAM records 455436, removed 7443, allowed 799, passed 447993
[samclip] Header contained 3 lines
[samclip] Done.
[samclip] Processed 300000 records...
[09:08:35] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:08:36] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:08:36] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 200000 records...
[samclip] Processed 400000 records...
[samclip] Processed 300000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:08:36] Running: samtools index snps.bam 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HB8007AA_AS.out\tSM:ESC_HB8007AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 17.399 sec; CPU: 36.559 sec
[samclip] Total SAM records 442081, removed 6511, allowed 674, passed 435570
[samclip] Header contained 3 lines
[samclip] Done.
[09:08:36] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:08:37] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_VA0598AA_AS.out\tSM:ESC_VA0598AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 17.267 sec; CPU: 35.047 sec
[samclip] Total SAM records 439116, removed 5468, allowed 585, passed 433648
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:08:38] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 8
          no. right trimmed                     : 28
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 40

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 40
       total no. variants observed              : 3321
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:38] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:38] Running: samtools index snps.bam 2>> snps.log
[09:08:38] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:08:38] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:08:38] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:08:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:38] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:08:38] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:08:39] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:39] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:39] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:39] Running: samtools index snps.bam 2>> snps.log
[09:08:39] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:08:39] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:08:39] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:08:39] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:40] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:08:40] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 8
          no. right trimmed                     : 23
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3285
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:40] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:40] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:40] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:40] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:40] Running: samtools index snps.bam 2>> snps.log
[09:08:40] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:41] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:08:41] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:08:41] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 31
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 42

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 42
       total no. variants observed              : 3269
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:41] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:08:41] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:42] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:42] Running: samtools index snps.bam 2>> snps.log
[09:08:42] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:42] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:08:42] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:42] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:08:42] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:08:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:43] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:43] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:08:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 7
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 7

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 7
       total no. variants observed              : 118
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:08:43] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:43] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:43] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:43] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:43] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:08:43] Running: rm -f fake_reads\.fq 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:08:43] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:43] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 26
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3187
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:44] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:44] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:08:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:44] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:44] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:44] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:08:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:44] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:44] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:44] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:08:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:44] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:08:44] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:44] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:08:44] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 9
          no. right trimmed                     : 35
          no. left and right trimmed            : 7
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 51

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 51
       total no. variants observed              : 3048
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:44] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:44] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:44] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:44] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:44] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:44] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:08:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:45] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:45] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:08:45] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:45] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:45] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:45] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:45] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:45] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:45] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:08:45] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:45] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:08:45] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:45] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:45] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:46] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:08:47] Marked 661 heterozygous sites with 'n'
[09:08:47] Creating extra output files: BED GFF CSV TXT HTML

stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 31
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 40

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 40
       total no. variants observed              : 3444
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:47] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:47] Identified 3321 variants.
[09:08:47] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out
[09:08:47] Result files:
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.aligned.fa
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.bam
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.bam.bai
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.bed
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.consensus.fa
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.consensus.subs.fa
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.csv
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.filt.vcf
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.gff
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.html
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.log
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.raw.vcf
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.subs.vcf
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.tab
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.txt
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.vcf
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.vcf.gz
[09:08:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out/snps.vcf.gz.csi
[09:08:47] Walltime used: 37 seconds
[09:08:47] May the SNPs be with you.
[09:08:47] Done.
[Thu Sep 10 09:08:47 2020]
Finished job 19.
1 of 121 steps (0.83%) done

[Thu Sep 10 09:08:47 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out
    jobid: 91
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_GB6943AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta
[09:08:47] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 31
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 42

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 42
       total no. variants observed              : 3220
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:08:47] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:08:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:08:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:47] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:47] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:08:47] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:08:47] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:08:47] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:08:47] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:47] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:08:47] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:08:47] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:47] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:08:47] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:08:47] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:08:47] Running: rm -f fake_reads\.fq 2>> snps.log
[09:08:48] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:08:48] This is snippy 4.4.3
[09:08:48] Written by Torsten Seemann
[09:08:48] Obtained from https://github.com/tseemann/snippy
[09:08:48] Detected operating system: linux
[09:08:48] Enabling bundled linux tools.
[09:08:48] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:48] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:48] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:48] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:48] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:48] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:48] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:48] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:48] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:48] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:48] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:48] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:48] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:48] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:48] Found gzip - /usr/bin/gzip
[09:08:48] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:48] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:48] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:48] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:48] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:48] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:48] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:48] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:48] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:48] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:48] Treating reference as 'fasta' format.
[09:08:48] Will use 8 CPU cores.
[09:08:48] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta
[09:08:48] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out
[09:08:48] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out
[09:08:48] Creating reference folder: reference
[09:08:48] Extracting FASTA and GFF from reference.
[09:08:48] Wrote 1 sequences to ref.fa
[09:08:48] Wrote 0 features to ref.gff
[09:08:48] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta into pseudo-reads
[09:08:49] Marked 683 heterozygous sites with 'n'
[09:08:49] Creating extra output files: BED GFF CSV TXT HTML
[09:08:49] Identified 3285 variants.
[09:08:49] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out
[09:08:49] Result files:
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.aligned.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.bam
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.bam.bai
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.bed
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.consensus.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.consensus.subs.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.csv
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.filt.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.gff
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.html
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.log
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.raw.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.subs.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.tab
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.txt
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.vcf.gz
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out/snps.vcf.gz.csi
[09:08:49] Walltime used: 39 seconds
[09:08:49] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:08:49] Done.
[Thu Sep 10 09:08:49 2020]
Finished job 95.
2 of 121 steps (2%) done

[Thu Sep 10 09:08:49 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out
    jobid: 61
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4052AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta
[09:08:49] Marked 203 heterozygous sites with 'n'
[09:08:49] Creating extra output files: BED GFF CSV TXT HTML
[09:08:49] Identified 3269 variants.
[09:08:49] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out
[09:08:49] Result files:
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.aligned.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.bam
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.bam.bai
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.bed
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.consensus.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.consensus.subs.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.csv
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.filt.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.gff
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.html
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.log
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.raw.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.subs.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.tab
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.txt
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.vcf.gz
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out/snps.vcf.gz.csi
[09:08:49] Walltime used: 39 seconds
[09:08:49] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:08:49] Done.
[Thu Sep 10 09:08:49 2020]
Finished job 11.
3 of 121 steps (2%) done

[Thu Sep 10 09:08:49 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out
    jobid: 55
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HA6342AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta
[09:08:49] Marked 182 heterozygous sites with 'n'
[09:08:49] Creating extra output files: BED GFF CSV TXT HTML
[09:08:49] Identified 118 variants.
[09:08:49] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out
[09:08:49] Result files:
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.aligned.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.bam
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.bam.bai
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.bed
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.consensus.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.consensus.subs.fa
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.csv
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.filt.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.gff
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.html
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.log
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.raw.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.subs.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.tab
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.txt
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.vcf
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.vcf.gz
[09:08:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out/snps.vcf.gz.csi
[09:08:49] Walltime used: 39 seconds
[09:08:49] Wishing you a life free of homopolymer errors.
[09:08:49] Done.
[Thu Sep 10 09:08:49 2020]
Finished job 93.
4 of 121 steps (3%) done

[Thu Sep 10 09:08:49 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out
    jobid: 5
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HA6418AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:49] Marked 259 heterozygous sites with 'n'
[09:08:50] Creating extra output files: BED GFF CSV TXT HTML
[09:08:50] Identified 3187 variants.
[09:08:50] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out
[09:08:50] Result files:
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.aligned.fa
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.bam
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.bam.bai
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.bed
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.consensus.fa
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.consensus.subs.fa
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.csv
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.filt.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.gff
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.html
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.log
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.raw.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.subs.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.tab
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.txt
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.vcf.gz
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out/snps.vcf.gz.csi
[09:08:50] Walltime used: 40 seconds
[09:08:50] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:08:50] Done.
[Thu Sep 10 09:08:50 2020]
Finished job 49.
5 of 121 steps (4%) done

[Thu Sep 10 09:08:50 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out
    jobid: 21
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_SA8291AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:50] This is snippy 4.4.3
[09:08:50] Written by Torsten Seemann
[09:08:50] Obtained from https://github.com/tseemann/snippy
[09:08:50] Detected operating system: linux
[09:08:50] Enabling bundled linux tools.
[09:08:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:50] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:50] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:50] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:50] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:50] Found gzip - /usr/bin/gzip
[09:08:50] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:50] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:50] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:50] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:50] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:50] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:50] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:50] This is snippy 4.4.3
[09:08:50] Written by Torsten Seemann
[09:08:50] Obtained from https://github.com/tseemann/snippy
[09:08:50] Detected operating system: linux
[09:08:50] Enabling bundled linux tools.
[09:08:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:50] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:50] Marked 105 heterozygous sites with 'n'
[09:08:50] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:50] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:50] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:50] Found gzip - /usr/bin/gzip
[09:08:50] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:50] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:50] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:50] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:50] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:50] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:50] Treating reference as 'fasta' format.
[09:08:50] Will use 8 CPU cores.
[09:08:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta
[09:08:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out
[09:08:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out
[09:08:50] Creating extra output files: BED GFF CSV TXT HTML
[09:08:50] Creating reference folder: reference
[09:08:50] Extracting FASTA and GFF from reference.
[09:08:50] Identified 3048 variants.
[09:08:50] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out
[09:08:50] Result files:
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.aligned.fa
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.bam
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.bam.bai
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.bed
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.consensus.fa
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.consensus.subs.fa
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.csv
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.filt.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.gff
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.html
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.log
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.raw.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.subs.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.tab
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.txt
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.vcf
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.vcf.gz
[09:08:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out/snps.vcf.gz.csi
[09:08:50] Walltime used: 40 seconds
[09:08:50] Wishing you a life free of homopolymer errors.
[09:08:50] Done.
[Thu Sep 10 09:08:50 2020]
Finished job 39.
6 of 121 steps (5%) done
[09:08:50] Checking version: java -version is >= 1.8 - ok, have 1.8

[Thu Sep 10 09:08:50 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out
    jobid: 67
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_SA8296AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta
[09:08:50] This is snippy 4.4.3
[09:08:50] Written by Torsten Seemann
[09:08:50] Obtained from https://github.com/tseemann/snippy
[09:08:50] Detected operating system: linux
[09:08:50] Enabling bundled linux tools.
[09:08:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:50] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:50] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:50] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:50] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:50] Found gzip - /usr/bin/gzip
[09:08:50] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:50] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:50] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:50] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:50] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:50] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:50] Wrote 1 sequences to ref.fa
[09:08:50] Wrote 0 features to ref.gff
[09:08:50] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta into pseudo-reads
[09:08:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:50] Treating reference as 'fasta' format.
[09:08:50] Will use 8 CPU cores.
[09:08:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta
[09:08:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out
[09:08:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out
[09:08:50] Creating reference folder: reference
[09:08:50] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:50] Extracting FASTA and GFF from reference.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:50] Treating reference as 'fasta' format.
[09:08:50] Will use 8 CPU cores.
[09:08:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta
[09:08:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out
[09:08:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out
[09:08:50] Creating reference folder: reference
[09:08:50] Extracting FASTA and GFF from reference.
[09:08:50] Wrote 1 sequences to ref.fa
[09:08:50] Wrote 0 features to ref.gff
[09:08:50] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta into pseudo-reads
[09:08:50] This is snippy 4.4.3
[09:08:50] Written by Torsten Seemann
[09:08:50] Obtained from https://github.com/tseemann/snippy
[09:08:50] Detected operating system: linux
[09:08:50] Enabling bundled linux tools.
[09:08:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:51] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:51] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:51] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:51] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:51] Found gzip - /usr/bin/gzip
[09:08:51] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:51] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:51] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:51] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:51] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:51] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:51] Wrote 1 sequences to ref.fa
[09:08:51] Wrote 0 features to ref.gff
[09:08:51] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta into pseudo-reads
[09:08:51] Checking version: java -version is >= 1.8 - ok, have 1.8
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:51] Treating reference as 'fasta' format.
[09:08:51] Will use 8 CPU cores.
[09:08:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta
[09:08:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out
[09:08:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out
[09:08:51] Creating reference folder: reference
[09:08:51] Extracting FASTA and GFF from reference.
[09:08:51] This is snippy 4.4.3
[09:08:51] Written by Torsten Seemann
[09:08:51] Obtained from https://github.com/tseemann/snippy
[09:08:51] Detected operating system: linux
[09:08:51] Enabling bundled linux tools.
[09:08:51] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:51] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:51] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:51] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:51] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:51] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:51] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:51] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:51] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:51] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:51] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:51] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:51] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:51] Wrote 1 sequences to ref.fa
[09:08:51] Wrote 0 features to ref.gff
[09:08:51] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta into pseudo-reads
[09:08:51] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:51] Found gzip - /usr/bin/gzip
[09:08:51] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:51] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:51] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:51] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:51] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:51] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:51] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:51] Wrote 433864 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:51] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:51] Using BAM RG (Read Group) ID: ESC_GB6943AA_AS.out
[09:08:51] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:51] Treating reference as 'fasta' format.
[09:08:51] Will use 8 CPU cores.
[09:08:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta
[09:08:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out
[09:08:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out
[09:08:51] Creating reference folder: reference
[09:08:51] Extracting FASTA and GFF from reference.
[09:08:51] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:52] Wrote 1 sequences to ref.fa
[09:08:52] Wrote 0 features to ref.gff
[09:08:52] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta into pseudo-reads
[09:08:52] Marked 316 heterozygous sites with 'n'
[09:08:52] Creating extra output files: BED GFF CSV TXT HTML
[09:08:52] Identified 3444 variants.
[09:08:52] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out
[09:08:52] Result files:
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.aligned.fa
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.bam
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.bam.bai
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.bed
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.consensus.fa
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.consensus.subs.fa
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.csv
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.filt.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.gff
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.html
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.log
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.raw.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.subs.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.tab
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.txt
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.vcf.gz
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out/snps.vcf.gz.csi
[09:08:52] Walltime used: 42 seconds
[09:08:52] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:08:52] Done.
[Thu Sep 10 09:08:52 2020]
Finished job 59.
7 of 121 steps (6%) done

[Thu Sep 10 09:08:52 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out
    jobid: 7
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_SA8250AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta
[09:08:52] Marked 305 heterozygous sites with 'n'
[09:08:52] Creating extra output files: BED GFF CSV TXT HTML
[09:08:52] Identified 3220 variants.
[09:08:52] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out
[09:08:52] Result files:
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.aligned.fa
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.bam
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.bam.bai
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.bed
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.consensus.fa
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.consensus.subs.fa
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.csv
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.filt.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.gff
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.html
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.log
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.raw.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.subs.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.tab
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.txt
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.vcf
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.vcf.gz
[09:08:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out/snps.vcf.gz.csi
[09:08:52] Walltime used: 42 seconds
[09:08:52] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:08:52] Done.
[Thu Sep 10 09:08:52 2020]
Finished job 13.
8 of 121 steps (7%) done

[Thu Sep 10 09:08:52 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out
    jobid: 87
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4053AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:08:53] This is snippy 4.4.3
[09:08:53] Written by Torsten Seemann
[09:08:53] Obtained from https://github.com/tseemann/snippy
[09:08:53] Detected operating system: linux
[09:08:53] Enabling bundled linux tools.
[09:08:53] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:53] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:53] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:53] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:53] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:53] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:53] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:53] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:53] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:53] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:53] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:53] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:53] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:53] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:53] Found gzip - /usr/bin/gzip
[09:08:53] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:53] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:53] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:53] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:53] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:53] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:53] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:53] This is snippy 4.4.3
[09:08:53] Written by Torsten Seemann
[09:08:53] Obtained from https://github.com/tseemann/snippy
[09:08:53] Detected operating system: linux
[09:08:53] Enabling bundled linux tools.
[09:08:53] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:08:53] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:08:53] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:08:53] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:53] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:08:53] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:53] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:53] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:08:53] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:08:53] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:08:53] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:08:53] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:08:53] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:08:53] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:08:53] Treating reference as 'fasta' format.
[09:08:53] Will use 8 CPU cores.
[09:08:53] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta
[09:08:53] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out
[09:08:53] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out
[09:08:53] Creating reference folder: reference
[09:08:53] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:08:53] Extracting FASTA and GFF from reference.
[09:08:53] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:08:53] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:08:53] Found gzip - /usr/bin/gzip
[09:08:53] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:08:53] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:08:53] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:08:53] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:08:53] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:08:53] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:08:53] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:08:53] Wrote 1 sequences to ref.fa
[09:08:53] Wrote 0 features to ref.gff
[09:08:53] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta into pseudo-reads
[09:08:53] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:08:53] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:08:53] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:08:53] Treating reference as 'fasta' format.
[09:08:53] Will use 8 CPU cores.
[09:08:53] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta
[09:08:53] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out
[09:08:53] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out
[09:08:53] Creating reference folder: reference
[09:08:53] Extracting FASTA and GFF from reference.
[09:08:54] Wrote 445684 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:54] Wrote 1 sequences to ref.fa
[09:08:54] Wrote 0 features to ref.gff
[09:08:54] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta into pseudo-reads
[09:08:54] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:54] Using BAM RG (Read Group) ID: ESC_NA4052AA_AS.out
[09:08:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:54] Wrote 439862 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:54] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:54] Using BAM RG (Read Group) ID: ESC_HA6342AA_AS.out
[09:08:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:54] Wrote 437538 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:54] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:54] Using BAM RG (Read Group) ID: ESC_HA6418AA_AS.out
[09:08:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:54] Wrote 433918 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:54] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:54] Using BAM RG (Read Group) ID: ESC_SA8291AA_AS.out
[09:08:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:55] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:55] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:55] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:55] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:55] Wrote 433954 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:55] Running: bwa mem  -Y -M -R '@RG\tID:ESC_GB6943AA_AS.out\tSM:ESC_GB6943AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:55] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:55] Using BAM RG (Read Group) ID: ESC_SA8296AA_AS.out
[09:08:55] Running: samtools faidx reference/ref.fa 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:08:55] Running: bwa index reference/ref.fa 2>> snps.log
[M::process] read 320070 sequences (80000140 bp)...
[M::process] read 113794 sequences (28448500 bp)...
[09:08:56] Wrote 430510 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:56] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:56] Using BAM RG (Read Group) ID: ESC_SA8250AA_AS.out
[09:08:56] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:56] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:57] Wrote 440556 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:08:57] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:08:57] Using BAM RG (Read Group) ID: ESC_NA4053AA_AS.out
[09:08:57] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:08:57] Running: bwa index reference/ref.fa 2>> snps.log
[09:08:57] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:57] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:57] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:57] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:57] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4052AA_AS.out\tSM:ESC_NA4052AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320802 sequences (80000490 bp)...
[M::process] read 124882 sequences (31175666 bp)...
[09:08:58] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:58] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:58] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:58] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:58] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:58] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:58] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:58] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:58] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6418AA_AS.out\tSM:ESC_HA6418AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:58] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8296AA_AS.out\tSM:ESC_SA8296AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:08:59] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:59] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:08:59] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:59] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:08:59] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:59] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:08:59] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:59] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:08:59] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8291AA_AS.out\tSM:ESC_SA8291AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:08:59] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6342AA_AS.out\tSM:ESC_HA6342AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::mem_process_seqs] Processed 320070 reads in 25.483 CPU sec, 3.621 real sec
[M::process] read 320194 sequences (80000246 bp)...
[M::process] read 320184 sequences (80000208 bp)...
[M::process] read 320158 sequences (80000120 bp)...
[M::process] read 320082 sequences (80000390 bp)...
[09:09:00] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:00] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:00] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[samclip] Processed 100000 records...
[09:09:00] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:00] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4053AA_AS.out\tSM:ESC_NA4053AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::mem_process_seqs] Processed 113794 reads in 9.636 CPU sec, 1.265 real sec
[09:09:00] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:00] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:00] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:00] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[M::process] read 320066 sequences (80000282 bp)...
[09:09:00] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8250AA_AS.out\tSM:ESC_SA8250AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 200000 records...
[M::process] read 320000 sequences (80000000 bp)...
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_GB6943AA_AS.out\tSM:ESC_GB6943AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 7.078 sec; CPU: 35.888 sec
[samclip] Total SAM records 435290, removed 5880, allowed 616, passed 429410
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 119780 sequences (29941832 bp)...
[M::process] read 117344 sequences (29332360 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 110510 sequences (27627500 bp)...
[M::process] read 113760 sequences (28440000 bp)...
[09:09:05] Running: samtools index snps.bam 2>> snps.log
[09:09:05] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:05] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::process] read 113770 sequences (28442500 bp)...
[M::mem_process_seqs] Processed 320802 reads in 26.246 CPU sec, 8.481 real sec
[M::mem_process_seqs] Processed 124882 reads in 10.035 CPU sec, 1.817 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 320082 reads in 23.143 CPU sec, 9.240 real sec
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[09:09:09] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[M::process] read 120490 sequences (30114358 bp)...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 25
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3242
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:09] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:09] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 400000 records...
[samclip] Processed 100000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4052AA_AS.out\tSM:ESC_NA4052AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.406 sec; CPU: 37.132 sec
[samclip] Total SAM records 447452, removed 8412, allowed 783, passed 439040
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 320158 reads in 25.214 CPU sec, 10.596 real sec
[09:09:10] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 119780 reads in 10.449 CPU sec, 1.425 real sec
[09:09:10] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:10] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:10] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:10] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:10] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:10] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 200000 records...
[09:09:10] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::mem_process_seqs] Processed 320194 reads in 24.484 CPU sec, 11.676 real sec
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 320000 reads in 22.567 CPU sec, 10.116 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 400000 records...
[M::mem_process_seqs] Processed 113760 reads in 8.372 CPU sec, 2.026 real sec
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6342AA_AS.out\tSM:ESC_HA6342AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.107 sec; CPU: 34.459 sec
[samclip] Total SAM records 440678, removed 4596, allowed 694, passed 436082
[samclip] Header contained 3 lines
[samclip] Done.
[samclip] Processed 100000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 117344 reads in 9.557 CPU sec, 1.395 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 110510 reads in 7.513 CPU sec, 1.196 real sec
[samclip] Processed 200000 records...
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[samclip] Processed 200000 records...
[09:09:13] Running: samtools index snps.bam 2>> snps.log
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[09:09:13] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:13] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8291AA_AS.out\tSM:ESC_SA8291AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.278 sec; CPU: 34.352 sec
[samclip] Total SAM records 435078, removed 4778, allowed 550, passed 430300
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 320066 reads in 26.668 CPU sec, 12.562 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 400000 records...
[M::mem_process_seqs] Processed 320184 reads in 24.132 CPU sec, 14.202 real sec
[samclip] Processed 400000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6418AA_AS.out\tSM:ESC_HA6418AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.847 sec; CPU: 34.845 sec
[samclip] Total SAM records 438445, removed 4810, allowed 723, passed 433635
[samclip] Header contained 3 lines
[samclip] Done.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8250AA_AS.out\tSM:ESC_SA8250AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.078 sec; CPU: 30.936 sec
[samclip] Total SAM records 431054, removed 2117, allowed 184, passed 428937
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 120490 reads in 9.272 CPU sec, 1.865 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 113770 reads in 10.218 CPU sec, 1.801 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:15] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 200000 records...
[samclip] Processed 200000 records...
[09:09:15] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:15] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 300000 records...
[samclip] Processed 300000 records...
[09:09:16] Marked 226 heterozygous sites with 'n'
[09:09:16] Creating extra output files: BED GFF CSV TXT HTML
[09:09:16] Identified 3242 variants.
[09:09:16] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out
[09:09:16] Result files:
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.aligned.fa
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.bam
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.bam.bai
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.bed
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.consensus.fa
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.consensus.subs.fa
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.csv
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.filt.vcf
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.gff
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.html
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.log
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.raw.vcf
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.subs.vcf
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.tab
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.txt
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.vcf
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.vcf.gz
[09:09:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out/snps.vcf.gz.csi
[09:09:16] Walltime used: 28 seconds
[09:09:16] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:09:16] Done.
[Thu Sep 10 09:09:16 2020]
Finished job 91.
9 of 121 steps (7%) done

[Thu Sep 10 09:09:16 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out
    jobid: 15
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3992AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta
[samclip] Processed 400000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8296AA_AS.out\tSM:ESC_SA8296AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 17.811 sec; CPU: 35.095 sec
[samclip] Total SAM records 435075, removed 4739, allowed 610, passed 430336
[samclip] Header contained 3 lines
[samclip] Done.
[09:09:16] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4053AA_AS.out\tSM:ESC_NA4053AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 16.523 sec; CPU: 36.681 sec
[samclip] Total SAM records 442140, removed 7696, allowed 1230, passed 434444
[samclip] Header contained 3 lines
[samclip] Done.
[09:09:17] Running: samtools index snps.bam 2>> snps.log
[09:09:17] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:17] Running: samtools index snps.bam 2>> snps.log
[09:09:17] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:17] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:17] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:17] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:17] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:17] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 27
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3308
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:17] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:17] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:19] This is snippy 4.4.3
[09:09:19] Written by Torsten Seemann
[09:09:19] Obtained from https://github.com/tseemann/snippy
[09:09:19] Detected operating system: linux
[09:09:19] Enabling bundled linux tools.
[09:09:19] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:19] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:19] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:19] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:19] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:19] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:19] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:19] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:19] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:19] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:19] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:19] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:19] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:19] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:19] Found gzip - /usr/bin/gzip
[09:09:19] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:19] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:19] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:19] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:19] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:19] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:19] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:20] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:20] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:20] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:20] Treating reference as 'fasta' format.
[09:09:20] Will use 8 CPU cores.
[09:09:20] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta
[09:09:20] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out
[09:09:20] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out
[09:09:20] Creating reference folder: reference
[09:09:20] Extracting FASTA and GFF from reference.
[09:09:20] Running: samtools index snps.bam 2>> snps.log
[09:09:20] Wrote 1 sequences to ref.fa
[09:09:20] Wrote 0 features to ref.gff
[09:09:20] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta into pseudo-reads
[09:09:20] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:20] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:20] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:20] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:20] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 22
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 32

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 32
       total no. variants observed              : 3128
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:20] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:20] Running: samtools index snps.bam 2>> snps.log
[09:09:20] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:20] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:21] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:21] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:21] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:21] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:21] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:21] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:21] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:21] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:21] Running: bcftools index -f snps.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 34

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 34
       total no. variants observed              : 3200
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:21] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:21] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:21] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:09:21] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:22] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 11
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 11

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 11
       total no. variants observed              : 118
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:09:22] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:22] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:22] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:22] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:22] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:22] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:22] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:22] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:22] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:22] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:22] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:22] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:22] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:22] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:22] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:22] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:22] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 34

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 34
       total no. variants observed              : 3098
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:22] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:22] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:22] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:22] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:23] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:23] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:23] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:23] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:23] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:23] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:23] Wrote 432980 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:23] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:23] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:23] Using BAM RG (Read Group) ID: ESC_NA3992AA_AS.out
[09:09:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:23] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:23] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:24] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:24] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:24] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:24] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:24] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:24] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:24] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 25
          no. left and right trimmed            : 2
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 32

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 32
       total no. variants observed              : 3179
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:24] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:24] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:24] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:25] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:25] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:25] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:25] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:25] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:25] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:25] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:25] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 30
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 39

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 39
       total no. variants observed              : 3274
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:25] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:25] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:25] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:25] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:26] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:26] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:26] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:26] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:26] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:26] Marked 349 heterozygous sites with 'n'
[09:09:26] Creating extra output files: BED GFF CSV TXT HTML
[09:09:26] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:26] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:26] Identified 3308 variants.
[09:09:26] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out
[09:09:26] Result files:
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.aligned.fa
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.bam
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.bam.bai
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.bed
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.consensus.fa
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.consensus.subs.fa
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.csv
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.filt.vcf
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.gff
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.html
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.log
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.raw.vcf
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.subs.vcf
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.tab
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.txt
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.vcf
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.vcf.gz
[09:09:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out/snps.vcf.gz.csi
[09:09:26] Walltime used: 36 seconds
[09:09:26] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:09:26] Done.
[09:09:26] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:26] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:26] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3992AA_AS.out\tSM:ESC_NA3992AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[Thu Sep 10 09:09:26 2020]
Finished job 61.
10 of 121 steps (8%) done

[Thu Sep 10 09:09:26 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out
    jobid: 69
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3975AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320096 sequences (80000146 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::process] read 112884 sequences (28217298 bp)...
[09:09:27] Marked 382 heterozygous sites with 'n'
[09:09:27] Creating extra output files: BED GFF CSV TXT HTML
[09:09:27] Identified 3128 variants.
[09:09:27] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out
[09:09:27] Result files:
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.aligned.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.bam
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.bam.bai
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.bed
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.consensus.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.consensus.subs.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.csv
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.filt.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.gff
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.html
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.log
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.raw.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.subs.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.tab
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.txt
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.vcf.gz
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out/snps.vcf.gz.csi
[09:09:27] Walltime used: 37 seconds
[09:09:27] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:09:27] Done.
[Thu Sep 10 09:09:27 2020]
Finished job 55.
11 of 121 steps (9%) done

[Thu Sep 10 09:09:27 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out
    jobid: 63
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4066AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta
[09:09:27] This is snippy 4.4.3
[09:09:27] Written by Torsten Seemann
[09:09:27] Obtained from https://github.com/tseemann/snippy
[09:09:27] Detected operating system: linux
[09:09:27] Enabling bundled linux tools.
[09:09:27] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:27] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:27] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:27] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:27] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:27] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:27] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:27] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:27] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:27] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:27] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:27] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:27] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:27] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:27] Found gzip - /usr/bin/gzip
[09:09:27] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:27] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:27] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:27] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:27] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:27] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:27] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:27] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:27] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:27] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:27] Treating reference as 'fasta' format.
[09:09:27] Will use 8 CPU cores.
[09:09:27] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta
[09:09:27] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out
[09:09:27] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out
[09:09:27] Creating reference folder: reference
[09:09:27] Extracting FASTA and GFF from reference.
[09:09:27] Marked 50 heterozygous sites with 'n'
[09:09:27] Creating extra output files: BED GFF CSV TXT HTML
[09:09:27] Identified 118 variants.
[09:09:27] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out
[09:09:27] Result files:
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.aligned.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.bam
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.bam.bai
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.bed
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.consensus.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.consensus.subs.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.csv
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.filt.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.gff
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.html
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.log
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.raw.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.subs.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.tab
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.txt
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.vcf.gz
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out/snps.vcf.gz.csi
[09:09:27] Walltime used: 34 seconds
[09:09:27] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:09:27] Done.
[09:09:27] Marked 211 heterozygous sites with 'n'
[Thu Sep 10 09:09:27 2020]
Finished job 7.
12 of 121 steps (10%) done

[Thu Sep 10 09:09:27 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out
    jobid: 33
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_IA0811AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta
[09:09:27] Creating extra output files: BED GFF CSV TXT HTML
[09:09:27] Wrote 1 sequences to ref.fa
[09:09:27] Wrote 0 features to ref.gff
[09:09:27] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta into pseudo-reads
[09:09:27] Identified 3200 variants.
[09:09:27] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out
[09:09:27] Result files:
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.aligned.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.bam
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.bam.bai
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.bed
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.consensus.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.consensus.subs.fa
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.csv
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.filt.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.gff
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.html
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.log
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.raw.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.subs.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.tab
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.txt
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.vcf
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.vcf.gz
[09:09:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out/snps.vcf.gz.csi
[09:09:27] Walltime used: 37 seconds
[09:09:27] Questionable SNP? Try the --report option to see the alignments.
[09:09:27] Done.
[Thu Sep 10 09:09:27 2020]
Finished job 21.
13 of 121 steps (11%) done

[Thu Sep 10 09:09:27 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out
    jobid: 97
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4056AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:28] This is snippy 4.4.3
[09:09:28] Written by Torsten Seemann
[09:09:28] Obtained from https://github.com/tseemann/snippy
[09:09:28] Detected operating system: linux
[09:09:28] Enabling bundled linux tools.
[09:09:28] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:28] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:28] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:28] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:28] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:28] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:28] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:28] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:28] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:28] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:28] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:28] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:28] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:28] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:28] Found gzip - /usr/bin/gzip
[09:09:28] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:28] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:28] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:28] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:28] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:28] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:28] Checking version: java -version is >= 1.8 - ok, have 1.8
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:28] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:28] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:28] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:28] Treating reference as 'fasta' format.
[09:09:28] Will use 8 CPU cores.
[09:09:28] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta
[09:09:28] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out
[09:09:28] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out
[09:09:28] Creating reference folder: reference
[09:09:28] Extracting FASTA and GFF from reference.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:28] Wrote 1 sequences to ref.fa
[09:09:28] Wrote 0 features to ref.gff
[09:09:28] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta into pseudo-reads
[09:09:28] This is snippy 4.4.3
[09:09:28] Written by Torsten Seemann
[09:09:28] Obtained from https://github.com/tseemann/snippy
[09:09:28] Detected operating system: linux
[09:09:28] Enabling bundled linux tools.
[09:09:28] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:28] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:28] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:28] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:28] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:28] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:28] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:28] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:28] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:28] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:28] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:28] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:28] Marked 459 heterozygous sites with 'n'
[09:09:28] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:28] This is snippy 4.4.3
[09:09:28] Written by Torsten Seemann
[09:09:28] Obtained from https://github.com/tseemann/snippy
[09:09:28] Detected operating system: linux
[09:09:28] Enabling bundled linux tools.
[09:09:28] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:28] Found gzip - /usr/bin/gzip
[09:09:28] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:28] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:28] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:28] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:28] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:28] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:28] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:28] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:28] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:28] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:28] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:28] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:28] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:28] Creating extra output files: BED GFF CSV TXT HTML
[09:09:28] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:28] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:28] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:28] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:28] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:28] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:28] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:28] Found gzip - /usr/bin/gzip
[09:09:28] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:28] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:28] Identified 3098 variants.
[09:09:28] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out
[09:09:28] Result files:
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.aligned.fa
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.bam
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.bam.bai
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.bed
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.consensus.fa
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.consensus.subs.fa
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.csv
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.filt.vcf
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.gff
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.html
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.log
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.raw.vcf
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.subs.vcf
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.tab
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.txt
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.vcf
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.vcf.gz
[09:09:28] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out/snps.vcf.gz.csi
[09:09:28] Walltime used: 38 seconds
[09:09:28] May the SNPs be with you.
[09:09:28] Done.
[09:09:28] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:28] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:28] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:28] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[Thu Sep 10 09:09:28 2020]
Finished job 5.
14 of 121 steps (12%) done

[Thu Sep 10 09:09:28 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out
    jobid: 43
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3982AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta
[09:09:28] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:28] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:29] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:29] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:29] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:29] Treating reference as 'fasta' format.
[09:09:29] Will use 8 CPU cores.
[09:09:29] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta
[09:09:29] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out
[09:09:29] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out
[09:09:29] Creating reference folder: reference
[09:09:29] Extracting FASTA and GFF from reference.
[09:09:29] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:29] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:29] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:29] Treating reference as 'fasta' format.
[09:09:29] Will use 8 CPU cores.
[09:09:29] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta
[09:09:29] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out
[09:09:29] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out
[09:09:29] Creating reference folder: reference
[09:09:29] Extracting FASTA and GFF from reference.
[09:09:29] Wrote 1 sequences to ref.fa
[09:09:29] Wrote 0 features to ref.gff
[09:09:29] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta into pseudo-reads
[09:09:29] Wrote 1 sequences to ref.fa
[09:09:29] Wrote 0 features to ref.gff
[09:09:29] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta into pseudo-reads
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:29] This is snippy 4.4.3
[09:09:29] Written by Torsten Seemann
[09:09:29] Obtained from https://github.com/tseemann/snippy
[09:09:29] Detected operating system: linux
[09:09:29] Enabling bundled linux tools.
[09:09:29] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:29] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:29] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:29] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:29] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:29] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:29] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:29] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:29] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:29] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:29] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:29] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:29] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:29] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:29] Found gzip - /usr/bin/gzip
[09:09:29] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:29] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:29] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:29] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:29] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:29] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:29] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:29] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:29] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:29] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:29] Treating reference as 'fasta' format.
[09:09:29] Will use 8 CPU cores.
[09:09:29] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta
[09:09:29] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out
[09:09:29] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out
[09:09:29] Creating reference folder: reference
[09:09:29] Extracting FASTA and GFF from reference.
[09:09:30] Marked 176 heterozygous sites with 'n'
[09:09:30] Creating extra output files: BED GFF CSV TXT HTML
[09:09:30] Identified 3179 variants.
[09:09:30] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out
[09:09:30] Result files:
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.aligned.fa
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.bam
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.bam.bai
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.bed
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.consensus.fa
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.consensus.subs.fa
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.csv
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.filt.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.gff
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.html
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.log
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.raw.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.subs.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.tab
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.txt
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.vcf.gz
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out/snps.vcf.gz.csi
[09:09:30] Walltime used: 39 seconds
[09:09:30] May the SNPs be with you.
[09:09:30] Done.
[Thu Sep 10 09:09:30 2020]
Finished job 67.
15 of 121 steps (12%) done

[Thu Sep 10 09:09:30 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out
    jobid: 9
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HA6413AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta
[09:09:30] Wrote 1 sequences to ref.fa
[09:09:30] Wrote 0 features to ref.gff
[09:09:30] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta into pseudo-reads
[M::mem_process_seqs] Processed 320096 reads in 23.541 CPU sec, 3.015 real sec
[samclip] Processed 100000 records...
[09:09:30] Marked 365 heterozygous sites with 'n'
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 200000 records...
[09:09:30] Creating extra output files: BED GFF CSV TXT HTML
[09:09:30] Identified 3274 variants.
[09:09:30] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out
[09:09:30] Result files:
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.aligned.fa
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.bam
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.bam.bai
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.bed
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.consensus.fa
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.consensus.subs.fa
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.csv
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.filt.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.gff
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.html
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.log
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.raw.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.subs.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.tab
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.txt
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.vcf
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.vcf.gz
[09:09:30] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out/snps.vcf.gz.csi
[09:09:30] Walltime used: 37 seconds
[09:09:30] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:09:30] Done.
[Thu Sep 10 09:09:30 2020]
Finished job 87.
16 of 121 steps (13%) done

[Thu Sep 10 09:09:30 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out
    jobid: 47
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4071AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta
[09:09:30] This is snippy 4.4.3
[09:09:30] Written by Torsten Seemann
[09:09:30] Obtained from https://github.com/tseemann/snippy
[09:09:30] Detected operating system: linux
[09:09:30] Enabling bundled linux tools.
[09:09:30] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:30] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:30] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:30] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:30] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:30] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:30] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[samclip] Processed 300000 records...
[09:09:31] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:31] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:31] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:31] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:31] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:31] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:31] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:31] Found gzip - /usr/bin/gzip
[09:09:31] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:31] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:31] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:31] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:31] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:31] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:31] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:31] Wrote 437160 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[M::mem_process_seqs] Processed 112884 reads in 8.988 CPU sec, 1.065 real sec
[09:09:31] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:31] Using BAM RG (Read Group) ID: ESC_NA3975AA_AS.out
[09:09:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:31] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:31] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:31] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:31] Treating reference as 'fasta' format.
[09:09:31] Will use 8 CPU cores.
[09:09:31] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta
[09:09:31] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out
[09:09:31] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out
[09:09:31] Creating reference folder: reference
[09:09:31] Extracting FASTA and GFF from reference.
[samclip] Processed 400000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:31] Wrote 1 sequences to ref.fa
[09:09:31] Wrote 0 features to ref.gff
[09:09:31] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta into pseudo-reads
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3992AA_AS.out\tSM:ESC_NA3992AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 4.821 sec; CPU: 33.074 sec
[samclip] Total SAM records 434265, removed 5594, allowed 720, passed 428671
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:31] This is snippy 4.4.3
[09:09:31] Written by Torsten Seemann
[09:09:31] Obtained from https://github.com/tseemann/snippy
[09:09:31] Detected operating system: linux
[09:09:31] Enabling bundled linux tools.
[09:09:31] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:31] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:31] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:31] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:31] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:31] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:31] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:31] Wrote 433918 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:31] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:31] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:31] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:31] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:31] Using BAM RG (Read Group) ID: ESC_NA4066AA_AS.out
[09:09:31] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:31] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:31] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:31] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:31] Found gzip - /usr/bin/gzip
[09:09:31] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:31] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:09:31] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:31] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:31] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:31] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:32] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:09:32] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:32] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:32] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:32] Treating reference as 'fasta' format.
[09:09:32] Will use 8 CPU cores.
[09:09:32] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta
[09:09:32] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out
[09:09:32] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out
[09:09:32] Creating reference folder: reference
[09:09:32] Extracting FASTA and GFF from reference.
[09:09:32] Wrote 1 sequences to ref.fa
[09:09:32] Wrote 0 features to ref.gff
[09:09:32] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta into pseudo-reads
[09:09:32] Wrote 433482 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:32] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:32] Using BAM RG (Read Group) ID: ESC_IA0811AA_AS.out
[09:09:32] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:32] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:32] Wrote 436180 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:32] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:32] Using BAM RG (Read Group) ID: ESC_NA4056AA_AS.out
[09:09:32] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:32] Running: bwa index reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:33] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:33] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:33] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:33] Wrote 430500 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:33] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:33] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:33] Using BAM RG (Read Group) ID: ESC_NA3982AA_AS.out
[09:09:33] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:33] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3975AA_AS.out\tSM:ESC_NA3975AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:09:33] Running: bwa index reference/ref.fa 2>> snps.log
[M::process] read 320444 sequences (80000032 bp)...
[09:09:33] Running: samtools index snps.bam 2>> snps.log
[M::process] read 116716 sequences (29128610 bp)...
[09:09:34] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:34] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:34] Wrote 431622 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:34] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:34] Using BAM RG (Read Group) ID: ESC_HA6413AA_AS.out
[09:09:34] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:34] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:34] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:35] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:35] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:35] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:35] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4066AA_AS.out\tSM:ESC_NA4066AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320108 sequences (80000032 bp)...
[09:09:35] Wrote 428844 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:09:35] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:35] Using BAM RG (Read Group) ID: ESC_NA4071AA_AS.out
[09:09:35] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:09:35] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:36] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:36] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:36] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:36] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:36] Running: bwa mem  -Y -M -R '@RG\tID:ESC_IA0811AA_AS.out\tSM:ESC_IA0811AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:09:36] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:37] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:37] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:37] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:37] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4056AA_AS.out\tSM:ESC_NA4056AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320332 sequences (80000374 bp)...
[M::process] read 321522 sequences (80000022 bp)...
[09:09:37] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:37] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:37] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:09:37] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:37] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:37] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3982AA_AS.out\tSM:ESC_NA3982AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 26
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3180
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:37] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:37] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 114658 sequences (28559392 bp)...
[09:09:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::process] read 320078 sequences (80000386 bp)...
[09:09:38] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:38] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:38] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:38] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:38] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:38] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:38] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:38] Running: rm -f fake_reads\.fq 2>> snps.log
[09:09:38] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 113150 sequences (28263022 bp)...
[09:09:38] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:38] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:39] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:39] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:39] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6413AA_AS.out\tSM:ESC_HA6413AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::mem_process_seqs] Processed 320444 reads in 26.195 CPU sec, 5.415 real sec
[M::process] read 320068 sequences (80000436 bp)...
[09:09:39] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:40] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:40] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:40] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:40] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4071AA_AS.out\tSM:ESC_NA4071AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 116716 reads in 8.825 CPU sec, 1.132 real sec
[M::process] read 320024 sequences (80000308 bp)...
[samclip] Processed 200000 records...
[M::process] read 113810 sequences (28449800 bp)...
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3975AA_AS.out\tSM:ESC_NA3975AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 8.726 sec; CPU: 35.801 sec
[samclip] Total SAM records 438562, removed 5471, allowed 678, passed 433091
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 111554 sequences (27888200 bp)...
[M::process] read 108820 sequences (27194200 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 110422 sequences (27601220 bp)...
[09:09:44] Marked 221 heterozygous sites with 'n'
[09:09:44] Creating extra output files: BED GFF CSV TXT HTML
[09:09:44] Identified 3180 variants.
[09:09:44] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out
[09:09:44] Result files:
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.aligned.fa
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.bam
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.bam.bai
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.bed
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.consensus.fa
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.consensus.subs.fa
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.csv
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.filt.vcf
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.gff
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.html
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.log
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.raw.vcf
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.subs.vcf
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.tab
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.txt
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.vcf
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.vcf.gz
[09:09:44] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out/snps.vcf.gz.csi
[09:09:44] Walltime used: 25 seconds
[09:09:44] May the SNPs be with you.
[09:09:44] Done.
[Thu Sep 10 09:09:44 2020]
Finished job 15.
17 of 121 steps (14%) done

[Thu Sep 10 09:09:44 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out
    jobid: 101
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4061AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:09:45] Running: samtools index snps.bam 2>> snps.log
[09:09:45] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:45] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:45] This is snippy 4.4.3
[09:09:45] Written by Torsten Seemann
[09:09:45] Obtained from https://github.com/tseemann/snippy
[09:09:45] Detected operating system: linux
[09:09:45] Enabling bundled linux tools.
[09:09:45] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:45] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:45] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:45] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:45] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:45] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:45] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:45] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:09:45] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:09:45] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:09:45] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:09:45] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:09:45] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:09:45] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:09:45] Found gzip - /usr/bin/gzip
[09:09:45] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:09:45] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[M::mem_process_seqs] Processed 320108 reads in 25.566 CPU sec, 10.005 real sec
[09:09:45] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:09:45] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:09:45] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:09:45] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:09:45] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 321522 reads in 25.464 CPU sec, 8.555 real sec
[09:09:46] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:09:46] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:09:46] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:09:46] Treating reference as 'fasta' format.
[09:09:46] Will use 8 CPU cores.
[09:09:46] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta
[09:09:46] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out
[09:09:46] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out
[09:09:46] Creating reference folder: reference
[09:09:46] Extracting FASTA and GFF from reference.
[09:09:46] Wrote 1 sequences to ref.fa
[09:09:46] Wrote 0 features to ref.gff
[09:09:46] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta into pseudo-reads
[M::mem_process_seqs] Processed 320332 reads in 23.912 CPU sec, 10.007 real sec
[M::mem_process_seqs] Processed 113810 reads in 8.969 CPU sec, 1.891 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 114658 reads in 7.091 CPU sec, 1.910 real sec
[samclip] Processed 200000 records...
[samclip] Processed 100000 records...
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 320068 reads in 23.956 CPU sec, 8.953 real sec
[M::mem_process_seqs] Processed 113150 reads in 8.818 CPU sec, 1.545 real sec
[samclip] Processed 200000 records...
[samclip] Processed 400000 records...
[samclip] Processed 100000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4066AA_AS.out\tSM:ESC_NA4066AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.113 sec; CPU: 35.338 sec
[samclip] Total SAM records 435149, removed 5809, allowed 752, passed 429340
[samclip] Header contained 3 lines
[samclip] Done.
[09:09:49] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[samclip] Processed 300000 records...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[bam_sort_core] merging from 0 files and 8 in-memory blocks...

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 26
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3178
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:49] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:49] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320078 reads in 24.778 CPU sec, 11.457 real sec
[M::mem_process_seqs] Processed 111554 reads in 8.712 CPU sec, 1.192 real sec
[09:09:49] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[samclip] Processed 100000 records...
[samclip] Processed 400000 records...
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4056AA_AS.out\tSM:ESC_NA4056AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.923 sec; CPU: 33.479 sec
[samclip] Total SAM records 437261, removed 4696, allowed 683, passed 432565
[samclip] Header contained 3 lines
[samclip] Done.
[09:09:50] Wrote 432188 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:50] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:09:50] Using BAM RG (Read Group) ID: ESC_NA4061AA_AS.out
[09:09:50] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:50] Running: samtools faidx reference/ref.fa 2>> snps.log
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[09:09:50] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:50] Running: bwa index reference/ref.fa 2>> snps.log
[09:09:50] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:50] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[samclip] Processed 400000 records...
[09:09:50] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:50] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:50] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:50] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_IA0811AA_AS.out\tSM:ESC_IA0811AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.724 sec; CPU: 33.488 sec
[samclip] Total SAM records 434422, removed 5005, allowed 704, passed 429417
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:50] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 110422 reads in 8.502 CPU sec, 1.097 real sec
[samclip] Processed 200000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6413AA_AS.out\tSM:ESC_HA6413AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.827 sec; CPU: 33.526 sec
[samclip] Total SAM records 432633, removed 4904, allowed 705, passed 427729
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 320024 reads in 25.627 CPU sec, 10.715 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 400000 records...
[samclip] Processed 100000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3982AA_AS.out\tSM:ESC_NA3982AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.931 sec; CPU: 33.954 sec
[samclip] Total SAM records 431958, removed 5431, allowed 574, passed 426527
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:52] Running: samtools index snps.bam 2>> snps.log
[09:09:52] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:52] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 108820 reads in 9.075 CPU sec, 1.104 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[09:09:52] Running: samtools index snps.bam 2>> snps.log
[09:09:52] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:52] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 400000 records...
[09:09:53] Running: samtools index snps.bam 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4071AA_AS.out\tSM:ESC_NA4071AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.116 sec; CPU: 35.357 sec
[samclip] Total SAM records 430137, removed 5715, allowed 715, passed 424422
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:53] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:53] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:53] Running: samtools index snps.bam 2>> snps.log
[09:09:54] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:09:54] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:09:54] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:09:54] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:09:54] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4061AA_AS.out\tSM:ESC_NA4061AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:09:54] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:54] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::process] read 320850 sequences (80000178 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:09:55] Running: samtools index snps.bam 2>> snps.log
[09:09:55] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:09:55] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:56] Marked 204 heterozygous sites with 'n'
[09:09:56] Creating extra output files: BED GFF CSV TXT HTML
[09:09:56] Identified 3178 variants.
[09:09:56] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out
[09:09:56] Result files:
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.aligned.fa
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.bam
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.bam.bai
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.bed
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.consensus.fa
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.consensus.subs.fa
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.csv
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.filt.vcf
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.gff
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.html
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.log
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.raw.vcf
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.subs.vcf
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.tab
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.txt
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.vcf
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.vcf.gz
[09:09:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out/snps.vcf.gz.csi
[09:09:56] Walltime used: 29 seconds
[09:09:56] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:09:56] Done.
[Thu Sep 10 09:09:56 2020]
Finished job 69.
18 of 121 steps (15%) done

[Thu Sep 10 09:09:56 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out
    jobid: 71
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3973AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta
[09:09:56] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:57] Running: samtools index snps.bam 2>> snps.log
[09:09:57] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 26
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3133
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:57] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:57] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 28
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 38

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 38
       total no. variants observed              : 3175
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:57] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:09:57] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:58] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:58] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:58] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:58] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:58] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:58] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:58] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:58] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:58] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:09:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:58] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:58] Running: rm -f fake_reads\.fq 2>> snps.log

stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 23
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 34

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 34
       total no. variants observed              : 3123
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:09:59] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:59] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:59] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:59] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:59] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:59] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:09:59] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:09:59] Running: rm -f fake_reads\.fq 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:09:59] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:09:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 17
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 27

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 27
       total no. variants observed              : 3129
       total no. reference observed             : 0

Time elapsed: 0.06s

[09:09:59] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:09:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:09:59] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:09:59] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:09:59] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:09:59] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:09:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:09:59] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:09:59] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:09:59] This is snippy 4.4.3
[09:09:59] Written by Torsten Seemann
[09:09:59] Obtained from https://github.com/tseemann/snippy
[09:09:59] Detected operating system: linux
[09:09:59] Enabling bundled linux tools.
[09:09:59] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:09:59] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:09:59] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:09:59] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:09:59] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:09:59] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:09:59] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:09:59] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:00] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:00] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:00] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:00] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:00] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:00] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:00] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:00] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:00] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:00] Found gzip - /usr/bin/gzip
[09:10:00] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:00] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:00] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:00] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:00] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:00] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:00] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:00] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:10:00] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:10:00] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:10:00] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:00] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 25
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3191
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:00] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:00] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:00] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:00] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:00] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:00] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:00] Treating reference as 'fasta' format.
[09:10:00] Will use 8 CPU cores.
[09:10:00] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta
[09:10:00] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out
[09:10:00] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out
[09:10:00] Creating reference folder: reference
[09:10:00] Extracting FASTA and GFF from reference.
[09:10:00] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:10:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:00] Wrote 1 sequences to ref.fa
[09:10:00] Wrote 0 features to ref.gff
[09:10:00] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta into pseudo-reads
[09:10:00] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:00] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:00] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:00] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 111338 sequences (27679820 bp)...
[09:10:01] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 32
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 43

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 43
       total no. variants observed              : 3506
       total no. reference observed             : 0

Time elapsed: 0.06s

[09:10:02] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:02] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:02] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:02] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:02] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:02] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:02] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:02] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:02] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:02] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:02] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:02] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::mem_process_seqs] Processed 320850 reads in 24.653 CPU sec, 8.353 real sec
[samclip] Processed 100000 records...
[09:10:03] Wrote 429240 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:03] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:03] Using BAM RG (Read Group) ID: ESC_NA3973AA_AS.out
[09:10:03] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:03] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:03] Marked 132 heterozygous sites with 'n'
[09:10:04] Creating extra output files: BED GFF CSV TXT HTML
[09:10:04] Identified 3133 variants.
[09:10:04] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out
[09:10:04] Result files:
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.aligned.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.bam
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.bam.bai
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.bed
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.consensus.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.consensus.subs.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.csv
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.filt.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.gff
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.html
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.log
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.raw.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.subs.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.tab
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.txt
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.vcf.gz
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out/snps.vcf.gz.csi
[09:10:04] Walltime used: 36 seconds
[09:10:04] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:10:04] Done.
[samclip] Processed 200000 records...
[Thu Sep 10 09:10:04 2020]
Finished job 63.
19 of 121 steps (16%) done

[Thu Sep 10 09:10:04 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out
    jobid: 41
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3971AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta
[09:10:04] Marked 211 heterozygous sites with 'n'
[09:10:04] Creating extra output files: BED GFF CSV TXT HTML
[09:10:04] Identified 3175 variants.
[09:10:04] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out
[09:10:04] Result files:
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.aligned.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.bam
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.bam.bai
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.bed
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.consensus.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.consensus.subs.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.csv
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.filt.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.gff
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.html
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.log
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.raw.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.subs.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.tab
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.txt
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.vcf.gz
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out/snps.vcf.gz.csi
[09:10:04] Walltime used: 36 seconds
[09:10:04] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:10:04] Done.
[Thu Sep 10 09:10:04 2020]
Finished job 97.
20 of 121 steps (17%) done

[Thu Sep 10 09:10:04 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out
    jobid: 99
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_LB6279AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta
[M::mem_process_seqs] Processed 111338 reads in 9.656 CPU sec, 1.167 real sec
[samclip] Processed 300000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[09:10:04] Marked 423 heterozygous sites with 'n'
[09:10:04] Creating extra output files: BED GFF CSV TXT HTML
[09:10:04] Identified 3123 variants.
[09:10:04] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out
[09:10:04] Result files:
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.aligned.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.bam
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.bam.bai
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.bed
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.consensus.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.consensus.subs.fa
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.csv
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.filt.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.gff
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.html
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.log
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.raw.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.subs.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.tab
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.txt
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.vcf
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.vcf.gz
[09:10:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out/snps.vcf.gz.csi
[09:10:04] Walltime used: 34 seconds
[09:10:04] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:10:04] Done.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4061AA_AS.out\tSM:ESC_NA4061AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.647 sec; CPU: 34.983 sec
[samclip] Total SAM records 433351, removed 5172, allowed 757, passed 428179
[samclip] Header contained 3 lines
[samclip] Done.
[Thu Sep 10 09:10:04 2020]
Finished job 9.
21 of 121 steps (17%) done

[Thu Sep 10 09:10:04 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out
    jobid: 35
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4070AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:05] This is snippy 4.4.3
[09:10:05] Written by Torsten Seemann
[09:10:05] Obtained from https://github.com/tseemann/snippy
[09:10:05] Detected operating system: linux
[09:10:05] Enabling bundled linux tools.
[09:10:05] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:05] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:05] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:05] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:05] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:05] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:05] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:05] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:05] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:05] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:05] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:05] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:05] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:05] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:05] Found gzip - /usr/bin/gzip
[09:10:05] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:05] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:05] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:05] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:05] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:05] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:05] Marked 368 heterozygous sites with 'n'
[09:10:05] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:05] This is snippy 4.4.3
[09:10:05] Written by Torsten Seemann
[09:10:05] Obtained from https://github.com/tseemann/snippy
[09:10:05] Detected operating system: linux
[09:10:05] Enabling bundled linux tools.
[09:10:05] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:05] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:05] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:05] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:05] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:05] Creating extra output files: BED GFF CSV TXT HTML
[09:10:05] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:05] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:05] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:05] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:05] Identified 3129 variants.
[09:10:05] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out
[09:10:05] Result files:
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.aligned.fa
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.bam
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.bam.bai
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.bed
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.consensus.fa
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.consensus.subs.fa
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.csv
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.filt.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.gff
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.html
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.log
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.raw.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.subs.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.tab
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.txt
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.vcf.gz
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out/snps.vcf.gz.csi
[09:10:05] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:05] Walltime used: 37 seconds
[09:10:05] Questionable SNP? Try the --report option to see the alignments.
[09:10:05] Done.
[09:10:05] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:05] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:05] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:05] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:05] Found gzip - /usr/bin/gzip
[09:10:05] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:05] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:05] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:05] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[Thu Sep 10 09:10:05 2020]
Finished job 33.
22 of 121 steps (18%) done

[Thu Sep 10 09:10:05 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out
    jobid: 79
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_MA2736AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta
[09:10:05] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:05] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:05] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:05] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:05] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:05] Treating reference as 'fasta' format.
[09:10:05] Will use 8 CPU cores.
[09:10:05] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta
[09:10:05] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out
[09:10:05] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out
[09:10:05] Creating reference folder: reference
[09:10:05] Extracting FASTA and GFF from reference.
[09:10:05] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:05] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:05] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:05] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:05] Treating reference as 'fasta' format.
[09:10:05] Will use 8 CPU cores.
[09:10:05] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta
[09:10:05] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out
[09:10:05] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out
[09:10:05] Creating reference folder: reference
[09:10:05] Extracting FASTA and GFF from reference.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:05] Wrote 1 sequences to ref.fa
[09:10:05] Wrote 0 features to ref.gff
[09:10:05] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta into pseudo-reads
[09:10:05] Marked 171 heterozygous sites with 'n'
[09:10:05] Creating extra output files: BED GFF CSV TXT HTML
[09:10:05] Wrote 1 sequences to ref.fa
[09:10:05] Wrote 0 features to ref.gff
[09:10:05] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta into pseudo-reads
[09:10:05] Identified 3191 variants.
[09:10:05] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out
[09:10:05] Result files:
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.aligned.fa
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.bam
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.bam.bai
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.bed
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.consensus.fa
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.consensus.subs.fa
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.csv
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.filt.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.gff
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.html
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.log
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.raw.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.subs.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.tab
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.txt
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.vcf
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.vcf.gz
[09:10:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out/snps.vcf.gz.csi
[09:10:05] Walltime used: 36 seconds
[09:10:05] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:10:05] Done.
[Thu Sep 10 09:10:05 2020]
Finished job 43.
23 of 121 steps (19%) done

[Thu Sep 10 09:10:05 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out
    jobid: 75
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_LB6278AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta
[09:10:05] This is snippy 4.4.3
[09:10:05] Written by Torsten Seemann
[09:10:05] Obtained from https://github.com/tseemann/snippy
[09:10:05] Detected operating system: linux
[09:10:05] Enabling bundled linux tools.
[09:10:05] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:05] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:05] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:05] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:05] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:05] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:05] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:05] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:05] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:05] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:05] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:05] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:05] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:05] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:05] Found gzip - /usr/bin/gzip
[09:10:05] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:05] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:05] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:05] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:05] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:05] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:05] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:06] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:06] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:06] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:06] Treating reference as 'fasta' format.
[09:10:06] Will use 8 CPU cores.
[09:10:06] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta
[09:10:06] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out
[09:10:06] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out
[09:10:06] Creating reference folder: reference
[09:10:06] Extracting FASTA and GFF from reference.
[09:10:06] This is snippy 4.4.3
[09:10:06] Written by Torsten Seemann
[09:10:06] Obtained from https://github.com/tseemann/snippy
[09:10:06] Detected operating system: linux
[09:10:06] Enabling bundled linux tools.
[09:10:06] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:06] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:06] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:06] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:06] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:06] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:06] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:06] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:06] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:06] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:06] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:06] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:06] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:06] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:06] Found gzip - /usr/bin/gzip
[09:10:06] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:06] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:06] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:06] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:06] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:06] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:06] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:06] Wrote 1 sequences to ref.fa
[09:10:06] Wrote 0 features to ref.gff
[09:10:06] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta into pseudo-reads
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:06] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:06] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:06] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:06] Treating reference as 'fasta' format.
[09:10:06] Will use 8 CPU cores.
[09:10:06] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta
[09:10:06] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out
[09:10:06] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out
[09:10:06] Creating reference folder: reference
[09:10:06] Extracting FASTA and GFF from reference.
[09:10:06] This is snippy 4.4.3
[09:10:06] Written by Torsten Seemann
[09:10:06] Obtained from https://github.com/tseemann/snippy
[09:10:06] Detected operating system: linux
[09:10:06] Enabling bundled linux tools.
[09:10:06] Wrote 1 sequences to ref.fa
[09:10:06] Wrote 0 features to ref.gff
[09:10:06] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta into pseudo-reads
[09:10:06] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:06] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:06] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:06] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:06] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:06] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:06] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:06] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:06] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:06] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:06] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:06] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:06] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:06] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:06] Found gzip - /usr/bin/gzip
[09:10:06] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:06] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:06] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:06] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:06] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:06] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:06] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:06] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:06] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:06] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:06] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:06] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3973AA_AS.out\tSM:ESC_NA3973AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:10:06] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:06] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:06] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:06] Treating reference as 'fasta' format.
[09:10:06] Will use 8 CPU cores.
[09:10:06] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta
[09:10:06] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out
[09:10:06] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out
[09:10:06] Creating reference folder: reference
[09:10:06] Extracting FASTA and GFF from reference.
[09:10:07] Wrote 1 sequences to ref.fa
[09:10:07] Wrote 0 features to ref.gff
[09:10:07] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta into pseudo-reads
[M::process] read 320086 sequences (80000126 bp)...
[09:10:07] Running: samtools index snps.bam 2>> snps.log
[M::process] read 109154 sequences (27275304 bp)...
[09:10:07] Marked 427 heterozygous sites with 'n'
[09:10:07] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:07] Creating extra output files: BED GFF CSV TXT HTML
[09:10:07] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:07] Identified 3506 variants.
[09:10:07] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out
[09:10:07] Result files:
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.aligned.fa
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.bam
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.bam.bai
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.bed
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.consensus.fa
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.consensus.subs.fa
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.csv
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.filt.vcf
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.gff
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.html
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.log
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.raw.vcf
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.subs.vcf
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.tab
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.txt
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.vcf
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.vcf.gz
[09:10:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out/snps.vcf.gz.csi
[09:10:07] Walltime used: 36 seconds
[09:10:07] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:10:07] Done.
[Thu Sep 10 09:10:07 2020]
Finished job 47.
24 of 121 steps (20%) done

[Thu Sep 10 09:10:07 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out
    jobid: 27
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_LA2848AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:08] This is snippy 4.4.3
[09:10:08] Written by Torsten Seemann
[09:10:08] Obtained from https://github.com/tseemann/snippy
[09:10:08] Detected operating system: linux
[09:10:08] Enabling bundled linux tools.
[09:10:08] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:08] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:08] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:08] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:08] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:08] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:08] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:08] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:08] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:08] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:08] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:08] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:08] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:08] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:08] Found gzip - /usr/bin/gzip
[09:10:08] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:08] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:08] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:08] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:09] Wrote 432156 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:09] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:09] Using BAM RG (Read Group) ID: ESC_NA3971AA_AS.out
[09:10:09] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:09] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:09] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:09] Wrote 422172 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:09] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:09] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:09] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:09] Using BAM RG (Read Group) ID: ESC_LB6279AA_AS.out
[09:10:09] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:09] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:09] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:09] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:09] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:09] Treating reference as 'fasta' format.
[09:10:09] Will use 8 CPU cores.
[09:10:09] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta
[09:10:09] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out
[09:10:09] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out
[09:10:09] Creating reference folder: reference
[09:10:09] Extracting FASTA and GFF from reference.
[09:10:09] Wrote 1 sequences to ref.fa
[09:10:09] Wrote 0 features to ref.gff
[09:10:09] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta into pseudo-reads
[09:10:09] Wrote 430226 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:09] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:09] Using BAM RG (Read Group) ID: ESC_NA4070AA_AS.out
[09:10:09] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:09] Wrote 423986 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:09] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:09] Using BAM RG (Read Group) ID: ESC_MA2736AA_AS.out
[09:10:10] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:10] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:10] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:10] Wrote 420944 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:10] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:10] Using BAM RG (Read Group) ID: ESC_LB6278AA_AS.out
[09:10:10] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:10] Running: bwa index reference/ref.fa 2>> snps.log
[M::mem_process_seqs] Processed 320086 reads in 25.585 CPU sec, 3.653 real sec
[09:10:11] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[samclip] Processed 100000 records...

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 25
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3173
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:11] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:11] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 200000 records...
[09:10:11] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:11] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:11] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:11] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:11] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:11] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:10:11] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:11] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:11] Running: rm -f fake_reads\.fq 2>> snps.log
[M::mem_process_seqs] Processed 109154 reads in 8.703 CPU sec, 1.025 real sec
[09:10:11] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 400000 records...
[09:10:12] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3973AA_AS.out\tSM:ESC_NA3973AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 5.368 sec; CPU: 34.763 sec
[samclip] Total SAM records 430517, removed 5090, allowed 738, passed 425427
[samclip] Header contained 3 lines
[samclip] Done.
[09:10:12] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:12] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:12] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:12] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LB6279AA_AS.out\tSM:ESC_LB6279AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320028 sequences (80000192 bp)...
[M::process] read 102144 sequences (25536000 bp)...
[09:10:13] Wrote 424364 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:13] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:13] Using BAM RG (Read Group) ID: ESC_LA2848AA_AS.out
[09:10:13] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:13] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:13] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:13] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:13] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:13] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:13] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3971AA_AS.out\tSM:ESC_NA3971AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320040 sequences (80000178 bp)...
[09:10:14] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:14] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:14] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:14] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:14] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:14] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:14] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:14] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:14] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:14] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:14] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4070AA_AS.out\tSM:ESC_NA4070AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:10:14] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:14] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:14] Running: bwa mem  -Y -M -R '@RG\tID:ESC_MA2736AA_AS.out\tSM:ESC_MA2736AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:10:14] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LB6278AA_AS.out\tSM:ESC_LB6278AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:10:14] Running: samtools index snps.bam 2>> snps.log
[09:10:14] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:14] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::process] read 320416 sequences (80000270 bp)...
[M::process] read 320052 sequences (80000196 bp)...
[M::process] read 320006 sequences (80000012 bp)...
[09:10:15] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:15] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:15] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:15] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:15] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LA2848AA_AS.out\tSM:ESC_LA2848AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320072 sequences (80000096 bp)...
[M::process] read 112116 sequences (28010038 bp)...
[09:10:16] Marked 182 heterozygous sites with 'n'
[09:10:17] Creating extra output files: BED GFF CSV TXT HTML
[09:10:17] Identified 3173 variants.
[09:10:17] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out
[09:10:17] Result files:
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.aligned.fa
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.bam
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.bam.bai
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.bed
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.consensus.fa
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.consensus.subs.fa
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.csv
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.filt.vcf
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.gff
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.html
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.log
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.raw.vcf
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.subs.vcf
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.tab
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.txt
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.vcf
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.vcf.gz
[09:10:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out/snps.vcf.gz.csi
[09:10:17] Walltime used: 32 seconds
[09:10:17] May the SNPs be with you.
[09:10:17] Done.
[Thu Sep 10 09:10:17 2020]
Finished job 101.
25 of 121 steps (21%) done

[Thu Sep 10 09:10:17 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out
    jobid: 107
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3980AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta
[M::mem_process_seqs] Processed 320028 reads in 23.650 CPU sec, 5.690 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:18] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3319
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:18] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:18] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:19] This is snippy 4.4.3
[09:10:19] Written by Torsten Seemann
[09:10:19] Obtained from https://github.com/tseemann/snippy
[09:10:19] Detected operating system: linux
[09:10:19] Enabling bundled linux tools.
[09:10:19] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:19] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:19] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:19] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:19] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:19] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:19] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:19] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:19] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:19] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:19] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:19] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:19] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:19] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:19] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:19] Found gzip - /usr/bin/gzip
[09:10:19] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:19] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:19] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:19] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:19] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:19] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:19] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:19] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:19] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:19] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:19] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[samclip] Processed 100000 records...
[09:10:19] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:19] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:19] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:19] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:19] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:19] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:19] Treating reference as 'fasta' format.
[09:10:19] Will use 8 CPU cores.
[M::mem_process_seqs] Processed 102144 reads in 9.397 CPU sec, 1.233 real sec
[09:10:19] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta
[09:10:19] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out
[09:10:19] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out
[09:10:19] Creating reference folder: reference
[09:10:19] Extracting FASTA and GFF from reference.
[09:10:19] Running: rm -f fake_reads\.fq 2>> snps.log
[M::process] read 104292 sequences (26073000 bp)...
[09:10:19] Wrote 1 sequences to ref.fa
[09:10:19] Wrote 0 features to ref.gff
[09:10:19] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta into pseudo-reads
[09:10:19] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 100938 sequences (25234500 bp)...
[samclip] Processed 200000 records...
[M::process] read 103934 sequences (25966888 bp)...
[samclip] Processed 300000 records...
[M::process] read 109810 sequences (27399172 bp)...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LB6279AA_AS.out\tSM:ESC_LB6279AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 8.810 sec; CPU: 33.805 sec
[samclip] Total SAM records 423403, removed 4874, allowed 545, passed 418529
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 320040 reads in 24.859 CPU sec, 9.265 real sec
[09:10:23] Wrote 426252 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:23] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:23] Using BAM RG (Read Group) ID: ESC_NA3980AA_AS.out
[09:10:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:23] Running: bwa index reference/ref.fa 2>> snps.log
[M::mem_process_seqs] Processed 320416 reads in 25.226 CPU sec, 8.948 real sec
[09:10:23] Running: samtools index snps.bam 2>> snps.log
[09:10:24] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:24] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::mem_process_seqs] Processed 109810 reads in 7.278 CPU sec, 1.006 real sec
[M::mem_process_seqs] Processed 112116 reads in 8.381 CPU sec, 1.701 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 320006 reads in 22.441 CPU sec, 10.057 real sec
[samclip] Processed 100000 records...
[09:10:25] Marked 229 heterozygous sites with 'n'
[09:10:25] Creating extra output files: BED GFF CSV TXT HTML
[09:10:25] Identified 3319 variants.
[09:10:25] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out
[09:10:25] Result files:
[samclip] Processed 200000 records...
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.aligned.fa
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.bam
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.bam.bai
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.bed
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.consensus.fa
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.consensus.subs.fa
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.csv
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.filt.vcf
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.gff
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.html
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.log
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.raw.vcf
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.subs.vcf
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.tab
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.txt
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.vcf
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.vcf.gz
[09:10:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out/snps.vcf.gz.csi
[09:10:25] Walltime used: 26 seconds
[09:10:25] May the SNPs be with you.
[09:10:25] Done.
[Thu Sep 10 09:10:25 2020]
Finished job 71.
26 of 121 steps (21%) done

[Thu Sep 10 09:10:25 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out
    jobid: 103
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_LA2840AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320052 reads in 26.702 CPU sec, 11.175 real sec
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 100938 reads in 10.371 CPU sec, 1.576 real sec
[samclip] Processed 300000 records...
[samclip] Processed 100000 records...
[samclip] Processed 400000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3971AA_AS.out\tSM:ESC_NA3971AA_AS.out -t 8 reference/ref.fa fake_reads.fq[samclip] Total SAM records 433230, removed 4753, allowed 677, passed 428477

[main] Real time: 13.591 sec; CPU: 34.008 sec
[samclip] Header contained 3 lines
[samclip] Done.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4070AA_AS.out\tSM:ESC_NA4070AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.611 sec; CPU: 33.369 sec
[samclip] Total SAM records 431423, removed 4909, allowed 647, passed 426514
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:27] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[samclip] Processed 200000 records...
[09:10:27] Running: ln -sf reference/ref.fa . 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:27] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:27] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:27] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3980AA_AS.out\tSM:ESC_NA3980AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 103934 reads in 7.083 CPU sec, 1.187 real sec
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 100000 records...
[samclip] Processed 300000 records...
[09:10:27] This is snippy 4.4.3
[09:10:27] Written by Torsten Seemann
[09:10:27] Obtained from https://github.com/tseemann/snippy
[09:10:27] Detected operating system: linux
[09:10:27] Enabling bundled linux tools.
[09:10:27] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:27] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:27] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:27] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:27] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:27] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:27] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:27] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:27] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:27] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:27] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:27] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:27] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:27] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:27] Found gzip - /usr/bin/gzip
[09:10:27] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:27] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:27] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:27] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:27] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:27] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[M::process] read 320074 sequences (80000204 bp)...
[09:10:27] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320072 reads in 24.103 CPU sec, 11.513 real sec
[09:10:27] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:27] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:27] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[samclip] Processed 400000 records...
[09:10:27] Treating reference as 'fasta' format.
[09:10:27] Will use 8 CPU cores.
[09:10:27] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta
[09:10:27] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out
[09:10:27] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out
[09:10:27] Creating reference folder: reference
[09:10:27] Extracting FASTA and GFF from reference.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LB6278AA_AS.out\tSM:ESC_LB6278AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.573 sec; CPU: 33.650 sec
[samclip] Total SAM records 422233, removed 4943, allowed 551, passed 417290
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:28] Wrote 1 sequences to ref.fa
[09:10:28] Wrote 0 features to ref.gff
[09:10:28] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta into pseudo-reads
[09:10:28] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[samclip] Processed 300000 records...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 29
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 41

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 41
       total no. variants observed              : 3194
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:28] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:28] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[samclip] Processed 400000 records...
[09:10:28] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:28] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_MA2736AA_AS.out\tSM:ESC_MA2736AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.410 sec; CPU: 34.718 sec
[samclip] Total SAM records 424891, removed 4819, allowed 630, passed 420072
[samclip] Header contained 3 lines
[samclip] Done.
[09:10:28] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:28] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 104292 reads in 8.671 CPU sec, 1.112 real sec
[M::process] read 106178 sequences (26544200 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:29] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[samclip] Processed 200000 records...
[09:10:29] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:29] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:29] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:29] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:29] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[09:10:29] Running: samtools index snps.bam 2>> snps.log
[09:10:29] Running: samtools index snps.bam 2>> snps.log
[09:10:29] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:29] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:29] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[samclip] Processed 400000 records...
[09:10:29] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LA2848AA_AS.out\tSM:ESC_LA2848AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.031 sec; CPU: 33.444 sec
[samclip] Total SAM records 425157, removed 4605, allowed 598, passed 420552
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:30] Running: samtools index snps.bam 2>> snps.log
[09:10:31] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:31] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:31] Wrote 424060 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:31] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:31] Using BAM RG (Read Group) ID: ESC_LA2840AA_AS.out
[09:10:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:32] Running: samtools index snps.bam 2>> snps.log
[09:10:32] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:32] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:33] Running: samtools index snps.bam 2>> snps.log
[09:10:33] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:33] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:33] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 8
          no. right trimmed                     : 31
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 43

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 43
       total no. variants observed              : 3307
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:33] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:34] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:10:34] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 27
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 37

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 37
       total no. variants observed              : 3188
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:34] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:34] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:35] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:35] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:35] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:35] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:35] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:35] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:35] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:35] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LA2840AA_AS.out\tSM:ESC_LA2840AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:10:35] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:10:35] Marked 214 heterozygous sites with 'n'
[09:10:35] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:10:35] Creating extra output files: BED GFF CSV TXT HTML
[09:10:35] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:35] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:35] Identified 3194 variants.
[09:10:35] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out
[09:10:35] Result files:
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.aligned.fa
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.bam
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.bam.bai
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.bed
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.consensus.fa
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.consensus.subs.fa
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.csv
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.filt.vcf
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.gff
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.html
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.log
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.raw.vcf
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.subs.vcf
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.tab
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.txt
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.vcf
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.vcf.gz
[09:10:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out/snps.vcf.gz.csi
[09:10:35] Walltime used: 30 seconds
[09:10:35] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:10:35] Done.
[Thu Sep 10 09:10:35 2020]
Finished job 99.
27 of 121 steps (22%) done
[09:10:35] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log

[Thu Sep 10 09:10:35 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out
    jobid: 23
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4048AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta
[09:10:35] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:35] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:35] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:35] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:35] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:35] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:35] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:35] Running: rm -f fake_reads\.fq 2>> snps.log
[M::process] read 320016 sequences (80000192 bp)...
[09:10:35] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:35] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:36] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:10:36] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:10:36] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 29
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 39

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 39
       total no. variants observed              : 3220
       total no. reference observed             : 0

Time elapsed: 0.06s

[09:10:36] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:37] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:37] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:37] This is snippy 4.4.3
[09:10:37] Written by Torsten Seemann
[09:10:37] Obtained from https://github.com/tseemann/snippy
[09:10:37] Detected operating system: linux
[09:10:37] Enabling bundled linux tools.
[09:10:37] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:37] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:37] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:37] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:37] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:37] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:37] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:37] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:37] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:37] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:37] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:37] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:37] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:37] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:10:37] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:37] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:37] Found gzip - /usr/bin/gzip
[09:10:37] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:37] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:10:37] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:37] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:37] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:37] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:37] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 34
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 46

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 46
       total no. variants observed              : 3415
       total no. reference observed             : 0

Time elapsed: 0.06s

[09:10:37] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:37] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:37] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:37] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:37] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:37] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:10:37] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:37] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:37] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:37] Treating reference as 'fasta' format.
[09:10:37] Will use 8 CPU cores.
[09:10:37] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta
[09:10:37] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out
[09:10:37] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out
[09:10:37] Creating reference folder: reference
[09:10:37] Extracting FASTA and GFF from reference.
[09:10:37] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:37] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:37] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:37] Wrote 1 sequences to ref.fa
[09:10:37] Wrote 0 features to ref.gff
[09:10:37] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta into pseudo-reads
[09:10:37] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:37] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::process] read 104044 sequences (26007428 bp)...
[09:10:37] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:38] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:38] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:10:38] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 33
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 43

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 43
       total no. variants observed              : 3210
       total no. reference observed             : 0

Time elapsed: 0.06s

[09:10:38] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:38] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:38] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:38] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:38] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:38] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:38] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:38] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[M::mem_process_seqs] Processed 320074 reads in 25.566 CPU sec, 11.253 real sec
[09:10:38] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:39] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 106178 reads in 8.225 CPU sec, 1.029 real sec
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3980AA_AS.out\tSM:ESC_NA3980AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.396 sec; CPU: 34.516 sec
[samclip] Total SAM records 427340, removed 5643, allowed 945, passed 421697
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:41] Marked 182 heterozygous sites with 'n'
[09:10:41] Marked 254 heterozygous sites with 'n'
[09:10:41] Creating extra output files: BED GFF CSV TXT HTML
[09:10:41] Wrote 428210 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:41] Creating extra output files: BED GFF CSV TXT HTML
[09:10:41] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:41] Using BAM RG (Read Group) ID: ESC_NA4048AA_AS.out
[09:10:41] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:41] Identified 3307 variants.
[09:10:41] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out
[09:10:41] Result files:
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.aligned.fa
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.bam
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.bam.bai
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.bed
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.consensus.fa
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.consensus.subs.fa
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.csv
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.filt.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.gff
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.html
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.log
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.raw.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.subs.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.tab
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.txt
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.vcf.gz
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out/snps.vcf.gz.csi
[09:10:41] Walltime used: 36 seconds
[09:10:41] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:10:41] Done.
[09:10:41] Identified 3188 variants.
[09:10:41] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out
[09:10:41] Result files:
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.aligned.fa
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.bam
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.bam.bai
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.bed
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.consensus.fa
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.consensus.subs.fa
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.csv
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.filt.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.gff
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.html
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.log
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.raw.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.subs.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.tab
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.txt
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.vcf
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.vcf.gz
[09:10:41] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out/snps.vcf.gz.csi
[09:10:41] Walltime used: 36 seconds
[09:10:41] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:10:41] Done.
[09:10:41] Running: bwa index reference/ref.fa 2>> snps.log
[Thu Sep 10 09:10:41 2020]
Finished job 41.
28 of 121 steps (23%) done

[Thu Sep 10 09:10:41 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out
    jobid: 57
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_GA5350AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta
[Thu Sep 10 09:10:41 2020]
Finished job 35.
29 of 121 steps (24%) done

[Thu Sep 10 09:10:41 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out
    jobid: 29
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4063AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta
[M::mem_process_seqs] Processed 320016 reads in 25.591 CPU sec, 5.339 real sec
[samclip] Processed 100000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:42] This is snippy 4.4.3
[09:10:42] Written by Torsten Seemann
[09:10:42] Obtained from https://github.com/tseemann/snippy
[09:10:42] Detected operating system: linux
[09:10:42] Enabling bundled linux tools.
[09:10:42] Marked 169 heterozygous sites with 'n'
[09:10:42] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:42] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:42] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:42] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:42] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:42] This is snippy 4.4.3
[09:10:42] Written by Torsten Seemann
[09:10:42] Obtained from https://github.com/tseemann/snippy
[09:10:42] Detected operating system: linux
[09:10:42] Enabling bundled linux tools.
[09:10:42] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:42] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:42] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:42] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:42] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:42] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:42] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:42] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:42] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:42] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:42] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:42] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[samclip] Processed 200000 records...
[09:10:42] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:42] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:42] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:42] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:42] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:42] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:42] Creating extra output files: BED GFF CSV TXT HTML
[M::mem_process_seqs] Processed 104044 reads in 7.706 CPU sec, 0.923 real sec
[09:10:42] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:42] Found gzip - /usr/bin/gzip
[09:10:42] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:42] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:42] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:42] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:42] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:42] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:42] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:42] Found gzip - /usr/bin/gzip
[09:10:42] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:42] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:42] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:42] Identified 3220 variants.
[09:10:42] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:42] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out
[09:10:42] Result files:
[09:10:42] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.aligned.fa
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.bam
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.bam.bai
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.bed
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.consensus.fa
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.consensus.subs.fa
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.csv
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.filt.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.gff
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.html
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.log
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.raw.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.subs.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.tab
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.txt
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.vcf.gz
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out/snps.vcf.gz.csi
[09:10:42] Walltime used: 36 seconds
[09:10:42] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:10:42] Done.
[09:10:42] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:42] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:42] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:42] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[Thu Sep 10 09:10:42 2020]
Finished job 75.
30 of 121 steps (25%) done

[Thu Sep 10 09:10:42 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out
    jobid: 83
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4067AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta
[09:10:42] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:42] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:42] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:42] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:42] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:42] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:42] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:42] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[samclip] Processed 300000 records...
[09:10:42] Treating reference as 'fasta' format.
[09:10:42] Will use 8 CPU cores.
[09:10:42] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta
[09:10:42] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out
[09:10:42] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out
[09:10:42] Creating reference folder: reference
[09:10:42] Extracting FASTA and GFF from reference.
[09:10:42] Treating reference as 'fasta' format.
[09:10:42] Will use 8 CPU cores.
[09:10:42] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta
[09:10:42] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out
[09:10:42] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out
[09:10:42] Creating reference folder: reference
[09:10:42] Extracting FASTA and GFF from reference.
[09:10:42] Wrote 1 sequences to ref.fa
[09:10:42] Wrote 0 features to ref.gff
[09:10:42] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta into pseudo-reads
[09:10:42] Wrote 1 sequences to ref.fa
[09:10:42] Wrote 0 features to ref.gff
[09:10:42] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta into pseudo-reads
[09:10:42] Marked 270 heterozygous sites with 'n'
[samclip] Processed 400000 records...
[09:10:42] Creating extra output files: BED GFF CSV TXT HTML
[09:10:42] Identified 3415 variants.
[09:10:42] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out
[09:10:42] Result files:
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.aligned.fa
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.bam
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.bam.bai
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.bed
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.consensus.fa
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.consensus.subs.fa
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.csv
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.filt.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.gff
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.html
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.log
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.raw.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.subs.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.tab
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.txt
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.vcf
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.vcf.gz
[09:10:42] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out/snps.vcf.gz.csi
[09:10:42] Walltime used: 36 seconds
[09:10:42] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:10:42] Done.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[Thu Sep 10 09:10:42 2020]
Finished job 79.
31 of 121 steps (26%) done
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LA2840AA_AS.out\tSM:ESC_LA2840AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 7.412 sec; CPU: 34.073 sec
[samclip] Total SAM records 425097, removed 5258, allowed 805, passed 419839
[samclip] Header contained 3 lines
[samclip] Done.

[Thu Sep 10 09:10:42 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out
    jobid: 85
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4068AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:43] Running: samtools index snps.bam 2>> snps.log
[09:10:43] This is snippy 4.4.3
[09:10:43] Written by Torsten Seemann
[09:10:43] Obtained from https://github.com/tseemann/snippy
[09:10:43] Detected operating system: linux
[09:10:43] Enabling bundled linux tools.
[09:10:43] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:43] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:43] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:43] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:43] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:43] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:43] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:43] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:43] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:43] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:43] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:43] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:43] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:43] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:43] Found gzip - /usr/bin/gzip
[09:10:43] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:43] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:43] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:43] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:43] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:43] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:43] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:43] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:43] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:43] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:43] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:43] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:43] Treating reference as 'fasta' format.
[09:10:43] Will use 8 CPU cores.
[09:10:43] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta
[09:10:43] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out
[09:10:43] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out
[09:10:43] Creating reference folder: reference
[09:10:43] Extracting FASTA and GFF from reference.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:43] Wrote 1 sequences to ref.fa
[09:10:43] Wrote 0 features to ref.gff
[09:10:43] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta into pseudo-reads
[09:10:43] Marked 283 heterozygous sites with 'n'
[09:10:43] Creating extra output files: BED GFF CSV TXT HTML
[09:10:43] Identified 3210 variants.
[09:10:43] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out
[09:10:43] Result files:
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.aligned.fa
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.bam
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.bam.bai
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.bed
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.consensus.fa
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.consensus.subs.fa
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.csv
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.filt.vcf
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.gff
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.html
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.log
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.raw.vcf
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.subs.vcf
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.tab
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.txt
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.vcf
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.vcf.gz
[09:10:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out/snps.vcf.gz.csi
[09:10:43] Walltime used: 35 seconds
[09:10:43] Questionable SNP? Try the --report option to see the alignments.
[09:10:43] Done.
[09:10:43] This is snippy 4.4.3
[09:10:43] Written by Torsten Seemann
[09:10:43] Obtained from https://github.com/tseemann/snippy
[09:10:43] Detected operating system: linux
[09:10:43] Enabling bundled linux tools.
[09:10:43] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:43] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:43] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:43] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:43] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:43] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[Thu Sep 10 09:10:43 2020]
Finished job 27.
32 of 121 steps (26%) done

[Thu Sep 10 09:10:43 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out
    jobid: 1
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4004AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta
[09:10:43] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:43] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:43] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:43] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:43] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:43] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:43] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:43] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:43] Found gzip - /usr/bin/gzip
[09:10:43] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:43] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:43] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:43] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:43] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:43] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:44] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:44] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:44] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:44] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:44] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:44] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4048AA_AS.out\tSM:ESC_NA4048AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:10:44] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:44] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:44] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:44] Treating reference as 'fasta' format.
[09:10:44] Will use 8 CPU cores.
[09:10:44] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta
[09:10:44] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out
[09:10:44] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out
[09:10:44] Creating reference folder: reference
[09:10:44] Extracting FASTA and GFF from reference.
[09:10:44] Wrote 1 sequences to ref.fa
[09:10:44] Wrote 0 features to ref.gff
[09:10:44] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta into pseudo-reads
[M::process] read 320026 sequences (80000076 bp)...
[09:10:45] Running: samtools index snps.bam 2>> snps.log
[M::process] read 108184 sequences (27028996 bp)...
[09:10:45] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:45] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:46] Wrote 429232 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:46] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:46] Using BAM RG (Read Group) ID: ESC_GA5350AA_AS.out
[09:10:46] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:46] Wrote 424980 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:46] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:46] Using BAM RG (Read Group) ID: ESC_NA4063AA_AS.out
[09:10:46] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:46] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:46] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:46] This is snippy 4.4.3
[09:10:46] Written by Torsten Seemann
[09:10:46] Obtained from https://github.com/tseemann/snippy
[09:10:46] Detected operating system: linux
[09:10:46] Enabling bundled linux tools.
[09:10:46] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:46] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:46] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:46] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:46] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:46] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:46] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:46] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:46] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:46] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:46] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:46] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:46] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:46] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:46] Found gzip - /usr/bin/gzip
[09:10:46] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:46] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:46] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:46] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:46] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:46] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:46] Wrote 423074 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:46] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:46] Using BAM RG (Read Group) ID: ESC_NA4067AA_AS.out
[09:10:46] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:46] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:46] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:47] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:10:47] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:47] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:47] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 34

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 34
       total no. variants observed              : 3242
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:47] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:47] Treating reference as 'fasta' format.
[09:10:47] Will use 8 CPU cores.
[09:10:47] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta
[09:10:47] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out
[09:10:47] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out
[09:10:47] Creating reference folder: reference
[09:10:47] Extracting FASTA and GFF from reference.
[09:10:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:47] Wrote 1 sequences to ref.fa
[09:10:47] Wrote 0 features to ref.gff
[09:10:47] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta into pseudo-reads
[09:10:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:47] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:47] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:10:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:47] Wrote 422066 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:47] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:47] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:47] Using BAM RG (Read Group) ID: ESC_NA4068AA_AS.out
[09:10:47] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:47] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:47] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:47] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:48] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:48] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::mem_process_seqs] Processed 320026 reads in 25.145 CPU sec, 4.045 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 108184 reads in 7.858 CPU sec, 1.028 real sec
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[09:10:50] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 27
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 37

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 37
       total no. variants observed              : 3617
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:50] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:50] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:10:50] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[samclip] Processed 400000 records...
[09:10:50] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:50] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:50] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:50] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:50] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:50] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:50] Running: bwa mem  -Y -M -R '@RG\tID:ESC_GA5350AA_AS.out\tSM:ESC_GA5350AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4048AA_AS.out\tSM:ESC_NA4048AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 6.299 sec; CPU: 33.717 sec
[samclip] Total SAM records 429716, removed 6521, allowed 808, passed 423195
[samclip] Header contained 3 lines
[samclip] Done.
[09:10:50] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:10:50] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4063AA_AS.out\tSM:ESC_NA4063AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:10:50] Wrote 423584 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:50] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:50] Using BAM RG (Read Group) ID: ESC_NA4004AA_AS.out
[09:10:50] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:10:50] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:50] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:50] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:50] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[M::process] read 320048 sequences (80000068 bp)...
[09:10:50] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::process] read 320078 sequences (80000346 bp)...
[09:10:51] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:51] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:51] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:51] Running: ln -sf reference/ref.fa . 2>> snps.log
[M::process] read 109184 sequences (27288658 bp)...
[09:10:51] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:51] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:51] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:51] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4067AA_AS.out\tSM:ESC_NA4067AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:10:51] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:51] Running: rm -f fake_reads\.fq 2>> snps.log
[09:10:51] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 320052 sequences (80000474 bp)...
[09:10:51] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:10:51] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:51] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:51] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:51] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4068AA_AS.out\tSM:ESC_NA4068AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320084 sequences (80000346 bp)...
[M::process] read 104902 sequences (26214428 bp)...
[09:10:53] Marked 215 heterozygous sites with 'n'
[09:10:53] Creating extra output files: BED GFF CSV TXT HTML
[09:10:53] Identified 3242 variants.
[09:10:53] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out
[09:10:53] Result files:
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.aligned.fa
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.bam
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.bam.bai
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.bed
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.consensus.fa
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.consensus.subs.fa
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.csv
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.filt.vcf
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.gff
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.html
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.log
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.raw.vcf
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.subs.vcf
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.tab
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.txt
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.vcf
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.vcf.gz
[09:10:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out/snps.vcf.gz.csi
[09:10:53] Walltime used: 34 seconds
[09:10:53] Questionable SNP? Try the --report option to see the alignments.
[09:10:53] Done.
[Thu Sep 10 09:10:53 2020]
Finished job 107.
33 of 121 steps (27%) done

[Thu Sep 10 09:10:53 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out
    jobid: 81
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4045AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta
[09:10:53] Running: samtools index snps.bam 2>> snps.log
[09:10:53] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:10:53] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:10:54] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:54] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:10:54] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:10:54] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:10:54] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4004AA_AS.out\tSM:ESC_NA4004AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:10:55] This is snippy 4.4.3
[09:10:55] Written by Torsten Seemann
[09:10:55] Obtained from https://github.com/tseemann/snippy
[09:10:55] Detected operating system: linux
[09:10:55] Enabling bundled linux tools.
[09:10:55] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:10:55] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:10:55] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[M::process] read 320096 sequences (80000260 bp)...
[09:10:55] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:55] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:55] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:55] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:55] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:55] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:55] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:55] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:55] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:55] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:55] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:55] Found gzip - /usr/bin/gzip
[09:10:55] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:55] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:55] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:55] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:55] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:55] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:10:55] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:10:55] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:55] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:55] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:55] Treating reference as 'fasta' format.
[09:10:55] Will use 8 CPU cores.
[09:10:55] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta
[09:10:55] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out
[09:10:55] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out
[09:10:55] Creating reference folder: reference
[09:10:55] Extracting FASTA and GFF from reference.
[09:10:56] Wrote 1 sequences to ref.fa
[09:10:56] Wrote 0 features to ref.gff
[09:10:56] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta into pseudo-reads
[09:10:56] Marked 303 heterozygous sites with 'n'
[09:10:56] Creating extra output files: BED GFF CSV TXT HTML
[M::process] read 101982 sequences (25478552 bp)...
[09:10:56] Identified 3617 variants.
[09:10:56] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out
[09:10:56] Result files:
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.aligned.fa
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.bam
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.bam.bai
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.bed
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.consensus.fa
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.consensus.subs.fa
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.csv
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.filt.vcf
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.gff
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.html
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.log
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.raw.vcf
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.subs.vcf
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.tab
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.txt
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.vcf
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.vcf.gz
[09:10:56] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out/snps.vcf.gz.csi
[09:10:56] Walltime used: 29 seconds
[09:10:56] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:10:56] Done.
[Thu Sep 10 09:10:56 2020]
Finished job 103.
34 of 121 steps (28%) done

[Thu Sep 10 09:10:56 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out
    jobid: 25
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4055AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta
[M::process] read 103022 sequences (25738346 bp)...
[09:10:57] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 8
          no. right trimmed                     : 37
          no. left and right trimmed            : 6
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 51

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 51
       total no. variants observed              : 3365
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:10:57] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:10:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::mem_process_seqs] Processed 320048 reads in 24.445 CPU sec, 6.677 real sec
[09:10:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:10:58] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:10:58] Running: bcftools index -f snps.vcf.gz 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:10:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:10:58] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:10:58] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:10:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:10:58] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:10:58] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 100000 records...
[09:10:58] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:10:58] This is snippy 4.4.3
[09:10:58] Written by Torsten Seemann
[09:10:58] Obtained from https://github.com/tseemann/snippy
[09:10:58] Detected operating system: linux
[09:10:58] Enabling bundled linux tools.
[09:10:58] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[M::mem_process_seqs] Processed 109184 reads in 7.709 CPU sec, 1.013 real sec
[09:10:58] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[M::process] read 103488 sequences (25864382 bp)...
[09:10:58] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:10:58] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:10:58] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:10:58] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:10:58] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:10:58] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:10:58] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:10:58] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:10:58] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:10:58] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:10:58] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:10:58] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:10:58] Found gzip - /usr/bin/gzip
[09:10:58] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:10:58] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:10:58] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:10:58] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:10:58] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:10:58] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Processed 200000 records...
[09:10:59] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 320078 reads in 24.480 CPU sec, 8.374 real sec
[09:10:59] Wrote 424214 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:10:59] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:10:59] Using BAM RG (Read Group) ID: ESC_NA4045AA_AS.out
[09:10:59] Running: samtools faidx reference/ref.fa 2>> snps.log
[samclip] Processed 300000 records...
[09:10:59] Running: bwa index reference/ref.fa 2>> snps.log
[09:10:59] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:10:59] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:10:59] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:10:59] Treating reference as 'fasta' format.
[09:10:59] Will use 8 CPU cores.
[09:10:59] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta
[09:10:59] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out
[09:10:59] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out
[09:10:59] Creating reference folder: reference
[09:10:59] Extracting FASTA and GFF from reference.
[09:10:59] Wrote 1 sequences to ref.fa
[09:10:59] Wrote 0 features to ref.gff
[09:10:59] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta into pseudo-reads
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_GA5350AA_AS.out\tSM:ESC_GA5350AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.698 sec; CPU: 32.869 sec
[samclip] Total SAM records 430179, removed 5098, allowed 763, passed 425081
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 104902 reads in 7.209 CPU sec, 0.934 real sec
[samclip] Processed 100000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 320052 reads in 23.709 CPU sec, 9.073 real sec
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 320084 reads in 24.471 CPU sec, 8.765 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 103022 reads in 8.850 CPU sec, 1.131 real sec
[samclip] Processed 400000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4063AA_AS.out\tSM:ESC_NA4063AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.307 sec; CPU: 32.501 sec
[samclip] Total SAM records 426371, removed 5744, allowed 752, passed 420627
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 101982 reads in 6.838 CPU sec, 0.882 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320096 reads in 22.861 CPU sec, 6.950 real sec
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[samclip] Processed 300000 records...
[samclip] Processed 100000 records...
[samclip] Processed 400000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4067AA_AS.out\tSM:ESC_NA4067AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.866 sec; CPU: 33.330 sec
[samclip] Total SAM records 424254, removed 4754, allowed 621, passed 419500
[samclip] Header contained 3 lines
[samclip] Done.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4068AA_AS.out\tSM:ESC_NA4068AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.213 sec; CPU: 32.074 sec
[samclip] Total SAM records 423196, removed 4658, allowed 585, passed 418538
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 103488 reads in 8.274 CPU sec, 1.017 real sec
[09:11:03] Running: samtools index snps.bam 2>> snps.log
[samclip] Processed 200000 records...
[09:11:03] Wrote 423406 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:03] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:03] Using BAM RG (Read Group) ID: ESC_NA4055AA_AS.out
[09:11:03] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:03] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:03] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:03] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:03] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:03] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:03] Marked 260 heterozygous sites with 'n'
[09:11:03] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[samclip] Processed 300000 records...
[09:11:03] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:03] Creating extra output files: BED GFF CSV TXT HTML
[09:11:03] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4045AA_AS.out\tSM:ESC_NA4045AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:03] Identified 3365 variants.
[09:11:03] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out
[09:11:03] Result files:
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.aligned.fa
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.bam
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.bam.bai
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.bed
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.consensus.fa
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.consensus.subs.fa
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.csv
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.filt.vcf
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.gff
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.html
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.log
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.raw.vcf
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.subs.vcf
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.tab
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.txt
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.vcf
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.vcf.gz
[09:11:03] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out/snps.vcf.gz.csi
[09:11:03] Walltime used: 26 seconds
[09:11:03] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:11:03] Done.
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[Thu Sep 10 09:11:03 2020]
Finished job 23.
35 of 121 steps (29%) done

[Thu Sep 10 09:11:03 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out
    jobid: 105
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4072AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta
[M::process] read 320028 sequences (80000132 bp)...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4004AA_AS.out\tSM:ESC_NA4004AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.393 sec; CPU: 31.820 sec
[samclip] Total SAM records 424798, removed 4885, allowed 518, passed 419913
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:04] Running: samtools index snps.bam 2>> snps.log
[09:11:04] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:04] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:11:05] This is snippy 4.4.3
[09:11:05] Written by Torsten Seemann
[09:11:05] Obtained from https://github.com/tseemann/snippy
[09:11:05] Detected operating system: linux
[09:11:05] Enabling bundled linux tools.
[09:11:05] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:05] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:05] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:05] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:05] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:05] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:05] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:05] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:05] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:05] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:05] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:05] Running: samtools index snps.bam 2>> snps.log
[09:11:05] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:05] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:05] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:05] Found gzip - /usr/bin/gzip
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:05] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:05] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:05] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:05] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:05] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:05] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:06] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:06] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:06] Running: samtools index snps.bam 2>> snps.log
[09:11:06] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:06] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:07] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:07] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:07] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:11:07] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:07] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:07] Running: samtools index snps.bam 2>> snps.log
[09:11:07] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:07] Treating reference as 'fasta' format.
[09:11:07] Will use 8 CPU cores.
[09:11:07] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta
[09:11:07] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out
[09:11:07] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out
[09:11:07] Creating reference folder: reference
[09:11:07] Extracting FASTA and GFF from reference.

stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 19
          no. left and right trimmed            : 2
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 26

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 26
       total no. variants observed              : 3017
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:07] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:07] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:07] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:07] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:07] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:07] Wrote 1 sequences to ref.fa
[09:11:07] Wrote 0 features to ref.gff
[09:11:07] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta into pseudo-reads
[09:11:07] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:07] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:07] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4055AA_AS.out\tSM:ESC_NA4055AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:08] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:08] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:08] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[M::process] read 320254 sequences (80000248 bp)...
[09:11:08] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:08] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:08] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:11:09] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:09] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:09] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:09] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:09] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa

stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 26
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 38

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 38
       total no. variants observed              : 3190
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:09] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:09] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:09] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:10] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 23
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 33

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 33
       total no. variants observed              : 3191
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:10] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:10] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:10] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:10] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:10] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:10] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:10] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:10] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:10] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:10] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:10] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:10] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:10] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:11] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:11] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:11] Wrote 422708 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:11] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:11] Using BAM RG (Read Group) ID: ESC_NA4072AA_AS.out
[09:11:11] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:11] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:11] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:11] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:11] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:11] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 25
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3189
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:11] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:11] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 103152 sequences (25771738 bp)...
[09:11:12] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:12] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:12] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:12] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:12] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:12] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:12] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:12] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:12] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:12] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:12] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 7
          no. right trimmed                     : 26
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 37

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 37
       total no. variants observed              : 3163
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:12] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:12] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:12] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:13] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:13] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:13] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:13] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:13] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:13] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:13] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:13] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:13] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 104186 sequences (26036904 bp)...
[09:11:13] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:13] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:13] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:13] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:13] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4072AA_AS.out\tSM:ESC_NA4072AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320052 sequences (80000002 bp)...
[09:11:14] Marked 278 heterozygous sites with 'n'
[09:11:14] Creating extra output files: BED GFF CSV TXT HTML
[09:11:14] Identified 3017 variants.
[09:11:14] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out
[09:11:14] Result files:
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.aligned.fa
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.bam
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.bam.bai
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.bed
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.consensus.fa
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.consensus.subs.fa
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.csv
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.filt.vcf
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.gff
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.html
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.log
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.raw.vcf
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.subs.vcf
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.tab
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.txt
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.vcf
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.vcf.gz
[09:11:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out/snps.vcf.gz.csi
[09:11:14] Walltime used: 32 seconds
[09:11:14] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:11:14] Done.
[M::process] read 102656 sequences (25661008 bp)...
[Thu Sep 10 09:11:14 2020]
Finished job 57.
36 of 121 steps (30%) done

[Thu Sep 10 09:11:14 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out
    jobid: 73
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_IA3651AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta
[M::mem_process_seqs] Processed 320028 reads in 24.618 CPU sec, 11.074 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 100000 records...
[09:11:15] Marked 203 heterozygous sites with 'n'
[09:11:15] Creating extra output files: BED GFF CSV TXT HTML
[09:11:15] This is snippy 4.4.3
[09:11:15] Written by Torsten Seemann
[09:11:15] Obtained from https://github.com/tseemann/snippy
[09:11:15] Detected operating system: linux
[09:11:15] Enabling bundled linux tools.
[09:11:15] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:15] Identified 3190 variants.
[09:11:15] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out
[09:11:15] Result files:
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.aligned.fa
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.bam
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.bam.bai
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.bed
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.consensus.fa
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.consensus.subs.fa
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.csv
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.filt.vcf
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.gff
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.html
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.log
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.raw.vcf
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.subs.vcf
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.tab
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.txt
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.vcf
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.vcf.gz
[09:11:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out/snps.vcf.gz.csi
[09:11:15] Walltime used: 33 seconds
[09:11:15] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:11:15] Done.
[09:11:15] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[Thu Sep 10 09:11:15 2020]
Finished job 29.
37 of 121 steps (31%) done

[Thu Sep 10 09:11:15 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out
    jobid: 51
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4069AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta
[09:11:15] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:15] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:15] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:15] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:15] Marked 221 heterozygous sites with 'n'
[M::mem_process_seqs] Processed 320254 reads in 25.089 CPU sec, 7.392 real sec
[09:11:16] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:16] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:16] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:16] Creating extra output files: BED GFF CSV TXT HTML
[09:11:16] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[M::mem_process_seqs] Processed 104186 reads in 6.738 CPU sec, 0.847 real sec
[09:11:16] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:16] Identified 3191 variants.
[09:11:16] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:16] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out
[09:11:16] Result files:
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.aligned.fa
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.bam
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.bam.bai
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.bed
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.consensus.fa
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.consensus.subs.fa
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.csv
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.filt.vcf
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.gff
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.html
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.log
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.raw.vcf
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.subs.vcf
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.tab
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.txt
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.vcf
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.vcf.gz
[09:11:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out/snps.vcf.gz.csi
[09:11:16] Walltime used: 33 seconds
[09:11:16] Wishing you a life free of homopolymer errors.
[09:11:16] Done.
[09:11:16] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:16] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:16] Found gzip - /usr/bin/gzip
[09:11:16] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:16] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:16] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[Thu Sep 10 09:11:16 2020]
Finished job 83.
38 of 121 steps (31%) done

[Thu Sep 10 09:11:16 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out
    jobid: 31
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3974AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta
[09:11:16] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:16] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:16] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Processed 200000 records...
[09:11:16] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:16] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:16] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:16] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:16] Treating reference as 'fasta' format.
[09:11:16] Will use 8 CPU cores.
[09:11:16] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta
[09:11:16] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out
[09:11:16] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out
[09:11:16] Creating reference folder: reference
[09:11:16] Extracting FASTA and GFF from reference.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 103152 reads in 6.516 CPU sec, 0.856 real sec
[samclip] Processed 100000 records...
[09:11:16] Wrote 1 sequences to ref.fa
[09:11:16] Wrote 0 features to ref.gff
[09:11:16] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta into pseudo-reads
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 300000 records...
[09:11:16] This is snippy 4.4.3
[09:11:16] Written by Torsten Seemann
[09:11:16] Obtained from https://github.com/tseemann/snippy
[09:11:16] Detected operating system: linux
[09:11:16] Enabling bundled linux tools.
[09:11:16] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:16] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:16] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:16] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:16] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:16] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:16] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:16] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:16] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:16] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:16] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:16] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:16] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:16] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:16] Found gzip - /usr/bin/gzip
[09:11:16] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:16] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:16] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:17] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:17] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:17] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:17] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:17] This is snippy 4.4.3
[09:11:17] Written by Torsten Seemann
[09:11:17] Obtained from https://github.com/tseemann/snippy
[09:11:17] Detected operating system: linux
[09:11:17] Enabling bundled linux tools.
[09:11:17] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:17] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:17] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:17] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:17] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:17] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[samclip] Processed 200000 records...
[09:11:17] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:17] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:17] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:17] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:17] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:17] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:17] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:17] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:17] Found gzip - /usr/bin/gzip
[09:11:17] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:17] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:17] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:17] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:17] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:17] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:17] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:17] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:17] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:17] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 400000 records...
[09:11:17] Treating reference as 'fasta' format.
[09:11:17] Will use 8 CPU cores.
[09:11:17] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta
[09:11:17] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out
[09:11:17] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out
[09:11:17] Creating reference folder: reference
[09:11:17] Extracting FASTA and GFF from reference.
[09:11:17] Marked 188 heterozygous sites with 'n'
[09:11:17] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:17] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:17] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4045AA_AS.out\tSM:ESC_NA4045AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.592 sec; CPU: 32.038 sec
[samclip] Total SAM records 425365, removed 5026, allowed 937, passed 420339
[samclip] Header contained 3 lines
[samclip] Done.
[09:11:17] Treating reference as 'fasta' format.
[09:11:17] Will use 8 CPU cores.
[09:11:17] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta
[09:11:17] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out
[09:11:17] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out
[09:11:17] Creating reference folder: reference
[09:11:17] Extracting FASTA and GFF from reference.
[09:11:17] Creating extra output files: BED GFF CSV TXT HTML
[samclip] Processed 300000 records...
[09:11:17] Identified 3189 variants.
[09:11:17] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out
[09:11:17] Result files:
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.aligned.fa
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.bam
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.bam.bai
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.bed
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.consensus.fa
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.consensus.subs.fa
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.csv
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.filt.vcf
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.gff
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.html
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.log
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.raw.vcf
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.subs.vcf
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.tab
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.txt
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.vcf
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.vcf.gz
[09:11:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out/snps.vcf.gz.csi
[09:11:17] Walltime used: 34 seconds
[09:11:17] Questionable SNP? Try the --report option to see the alignments.
[09:11:17] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:17] Wrote 1 sequences to ref.fa
[09:11:17] Wrote 0 features to ref.gff
[09:11:17] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta into pseudo-reads
[Thu Sep 10 09:11:17 2020]
Finished job 85.
39 of 121 steps (32%) done

[Thu Sep 10 09:11:17 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out
    jobid: 53
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_HA6411AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta
[09:11:17] Wrote 1 sequences to ref.fa
[09:11:17] Wrote 0 features to ref.gff
[09:11:17] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta into pseudo-reads
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4055AA_AS.out\tSM:ESC_NA4055AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.722 sec; CPU: 32.341 sec
[samclip] Total SAM records 424743, removed 5207, allowed 826, passed 419536
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 320052 reads in 21.788 CPU sec, 3.634 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 100000 records...
[09:11:18] This is snippy 4.4.3
[09:11:18] Written by Torsten Seemann
[09:11:18] Obtained from https://github.com/tseemann/snippy
[09:11:18] Detected operating system: linux
[09:11:18] Enabling bundled linux tools.
[09:11:18] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:18] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:18] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:18] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:18] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:18] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:18] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:18] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:18] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:18] Marked 198 heterozygous sites with 'n'
[09:11:18] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:18] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:18] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:18] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:18] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:18] Found gzip - /usr/bin/gzip
[09:11:18] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:18] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:18] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:18] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:18] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:18] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:18] Creating extra output files: BED GFF CSV TXT HTML
[09:11:18] Identified 3163 variants.
[09:11:18] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out
[09:11:18] Result files:
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.aligned.fa
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.bam
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.bam.bai
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.bed
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.consensus.fa
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.consensus.subs.fa
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.csv
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.filt.vcf
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.gff
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.html
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.log
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.raw.vcf
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.subs.vcf
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.tab
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.txt
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.vcf
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.vcf.gz
[09:11:18] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out/snps.vcf.gz.csi
[09:11:18] Walltime used: 32 seconds
[09:11:18] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:11:18] Done.
[Thu Sep 10 09:11:18 2020]
Finished job 1.
40 of 121 steps (33%) done

[Thu Sep 10 09:11:18 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out
    jobid: 65
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4003AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta
[09:11:18] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 200000 records...
[09:11:18] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:18] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:18] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:18] Treating reference as 'fasta' format.
[09:11:18] Will use 8 CPU cores.
[09:11:18] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta
[09:11:18] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out
[09:11:18] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out
[09:11:18] Creating reference folder: reference
[09:11:18] Extracting FASTA and GFF from reference.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:18] Wrote 1 sequences to ref.fa
[09:11:18] Wrote 0 features to ref.gff
[09:11:18] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta into pseudo-reads
[M::mem_process_seqs] Processed 102656 reads in 9.306 CPU sec, 1.127 real sec
[samclip] Processed 300000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[09:11:19] This is snippy 4.4.3
[09:11:19] Written by Torsten Seemann
[09:11:19] Obtained from https://github.com/tseemann/snippy
[09:11:19] Detected operating system: linux
[09:11:19] Enabling bundled linux tools.
[09:11:19] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:19] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:19] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:19] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:19] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:19] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4072AA_AS.out\tSM:ESC_NA4072AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 5.521 sec; CPU: 31.615 sec
[samclip] Total SAM records 423889, removed 4886, allowed 695, passed 419003
[samclip] Header contained 3 lines
[samclip] Done.
[09:11:19] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:19] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:19] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:19] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:19] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:19] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:19] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:19] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:19] Found gzip - /usr/bin/gzip
[09:11:19] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:19] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:19] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:19] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:19] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:19] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:19] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:19] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:19] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:19] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:19] Treating reference as 'fasta' format.
[09:11:19] Will use 8 CPU cores.
[09:11:19] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta
[09:11:19] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out
[09:11:19] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out
[09:11:19] Creating reference folder: reference
[09:11:19] Extracting FASTA and GFF from reference.
[09:11:19] Running: samtools index snps.bam 2>> snps.log
[09:11:19] Wrote 1 sequences to ref.fa
[09:11:19] Wrote 0 features to ref.gff
[09:11:19] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta into pseudo-reads
[09:11:20] Running: samtools index snps.bam 2>> snps.log
[09:11:20] Wrote 421012 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:20] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:20] Using BAM RG (Read Group) ID: ESC_IA3651AA_AS.out
[09:11:20] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:20] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:20] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:20] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:20] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:20] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:20] Wrote 423802 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:20] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:20] Using BAM RG (Read Group) ID: ESC_NA4069AA_AS.out
[09:11:20] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:20] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:20] Wrote 422150 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:20] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:20] Using BAM RG (Read Group) ID: ESC_NA3974AA_AS.out
[09:11:20] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:20] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:21] Running: samtools index snps.bam 2>> snps.log
[09:11:22] Wrote 421888 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:22] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:22] Using BAM RG (Read Group) ID: ESC_HA6411AA_AS.out
[09:11:22] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:22] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:22] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:22] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:23] Wrote 423204 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:23] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:23] Using BAM RG (Read Group) ID: ESC_NA4003AA_AS.out
[09:11:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:23] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:24] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:24] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:24] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:24] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:24] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:24] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:24] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:24] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:24] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:24] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4069AA_AS.out\tSM:ESC_NA4069AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:24] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3974AA_AS.out\tSM:ESC_NA3974AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:24] Running: ln -sf reference/ref.fa . 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:11:24] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:11:24] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:24] Running: bwa mem  -Y -M -R '@RG\tID:ESC_IA3651AA_AS.out\tSM:ESC_IA3651AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:24] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[M::process] read 320084 sequences (80000282 bp)...
[M::process] read 320034 sequences (80000468 bp)...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[M::process] read 320042 sequences (80000192 bp)...
[09:11:24] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 25
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3170
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:24] Running: cp snps.filt.vcf snps.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 28
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3176
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:25] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:25] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:25] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:25] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:25] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:25] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:25] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:25] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:25] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:25] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:25] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:25] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:25] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:25] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:25] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6411AA_AS.out\tSM:ESC_HA6411AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:25] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 103718 sequences (25916210 bp)...
[M::process] read 320104 sequences (80000456 bp)...
[09:11:26] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 25
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 33

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 33
       total no. variants observed              : 3171
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:26] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:26] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:26] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:26] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:26] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:26] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:26] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4003AA_AS.out\tSM:ESC_NA4003AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:26] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:27] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:27] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:27] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:27] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[M::process] read 320040 sequences (80000112 bp)...
[09:11:27] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:27] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:27] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:27] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:27] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 102116 sequences (25522104 bp)...
[M::process] read 101784 sequences (25424068 bp)...
[M::process] read 100970 sequences (25225044 bp)...
[M::process] read 103164 sequences (25788600 bp)...
[09:11:31] Marked 182 heterozygous sites with 'n'
[09:11:31] Creating extra output files: BED GFF CSV TXT HTML
[09:11:31] Identified 3170 variants.
[09:11:31] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out
[09:11:31] Result files:
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.aligned.fa
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.bam
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.bam.bai
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.bed
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.consensus.fa
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.consensus.subs.fa
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.csv
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.filt.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.gff
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.html
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.log
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.raw.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.subs.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.tab
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.txt
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.vcf.gz
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out/snps.vcf.gz.csi
[09:11:31] Walltime used: 36 seconds
[09:11:31] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:11:31] Done.
[Thu Sep 10 09:11:31 2020]
Finished job 81.
41 of 121 steps (34%) done

[Thu Sep 10 09:11:31 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out
    jobid: 3
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4000AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta
[M::mem_process_seqs] Processed 320084 reads in 22.787 CPU sec, 6.467 real sec
[09:11:31] Marked 213 heterozygous sites with 'n'
[09:11:31] Creating extra output files: BED GFF CSV TXT HTML
[09:11:31] Identified 3176 variants.
[09:11:31] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out
[09:11:31] Result files:
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.aligned.fa
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.bam
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.bam.bai
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.bed
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.consensus.fa
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.consensus.subs.fa
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.csv
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.filt.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.gff
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.html
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.log
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.raw.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.subs.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.tab
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.txt
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.vcf
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.vcf.gz
[09:11:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out/snps.vcf.gz.csi
[09:11:31] Walltime used: 33 seconds
[09:11:31] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:11:31] Done.
[Thu Sep 10 09:11:31 2020]
Finished job 25.
42 of 121 steps (35%) done

[Thu Sep 10 09:11:31 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out
    jobid: 89
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4005AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta
[M::mem_process_seqs] Processed 320034 reads in 22.629 CPU sec, 7.110 real sec
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 103718 reads in 7.907 CPU sec, 1.014 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 200000 records...
[09:11:32] This is snippy 4.4.3
[09:11:32] Written by Torsten Seemann
[09:11:32] Obtained from https://github.com/tseemann/snippy
[09:11:32] Detected operating system: linux
[09:11:32] Enabling bundled linux tools.
[09:11:32] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:32] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:32] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:32] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:32] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:32] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:32] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:32] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:32] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:32] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:32] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[samclip] Processed 100000 records...
[09:11:32] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:32] This is snippy 4.4.3
[09:11:32] Written by Torsten Seemann
[09:11:32] Obtained from https://github.com/tseemann/snippy
[09:11:32] Detected operating system: linux
[09:11:32] Enabling bundled linux tools.
[09:11:32] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:32] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:32] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:32] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:32] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:32] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:32] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:32] Found gzip - /usr/bin/gzip
[09:11:32] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:32] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:32] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:32] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:32] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:32] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:32] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:32] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:32] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:32] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:32] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:32] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:32] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:32] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:32] Found gzip - /usr/bin/gzip
[09:11:32] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:32] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:32] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:32] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::mem_process_seqs] Processed 102116 reads in 8.319 CPU sec, 1.056 real sec
[09:11:32] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:32] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:32] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:32] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:33] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 300000 records...
[09:11:33] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:33] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:33] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:33] Treating reference as 'fasta' format.
[09:11:33] Will use 8 CPU cores.
[09:11:33] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta
[09:11:33] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out
[09:11:33] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out
[09:11:33] Creating reference folder: reference
[09:11:33] Extracting FASTA and GFF from reference.
[09:11:33] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[samclip] Processed 200000 records...
[09:11:33] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:33] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:33] Treating reference as 'fasta' format.
[09:11:33] Will use 8 CPU cores.
[09:11:33] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta
[09:11:33] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out
[09:11:33] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out
[09:11:33] Creating reference folder: reference
[09:11:33] Extracting FASTA and GFF from reference.
[09:11:33] Marked 209 heterozygous sites with 'n'
[09:11:33] Creating extra output files: BED GFF CSV TXT HTML
[09:11:33] Identified 3171 variants.
[09:11:33] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out
[09:11:33] Result files:
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.aligned.fa
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.bam
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.bam.bai
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.bed
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.consensus.fa
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.consensus.subs.fa
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.csv
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.filt.vcf
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.gff
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.html
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.log
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.raw.vcf
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.subs.vcf
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.tab
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.txt
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.vcf
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.vcf.gz
[09:11:33] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out/snps.vcf.gz.csi
[09:11:33] Walltime used: 28 seconds
[09:11:33] Questionable SNP? Try the --report option to see the alignments.
[09:11:33] Done.
[Thu Sep 10 09:11:33 2020]
Finished job 105.
43 of 121 steps (36%) done

[Thu Sep 10 09:11:33 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out
    jobid: 77
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA3999AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta
[09:11:33] Wrote 1 sequences to ref.fa
[09:11:33] Wrote 0 features to ref.gff
[09:11:33] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta into pseudo-reads
[09:11:33] Wrote 1 sequences to ref.fa
[09:11:33] Wrote 0 features to ref.gff
[09:11:33] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta into pseudo-reads
[M::mem_process_seqs] Processed 320104 reads in 24.470 CPU sec, 7.183 real sec
[samclip] Processed 400000 records...
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4069AA_AS.out\tSM:ESC_NA4069AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.270 sec; CPU: 31.450 sec
[samclip] Total SAM records 424980, removed 4749, allowed 548, passed 420231
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 400000 records...
[M::mem_process_seqs] Processed 320040 reads in 23.296 CPU sec, 6.761 real sec
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3974AA_AS.out\tSM:ESC_NA3974AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.612 sec; CPU: 31.660 sec
[samclip] Total SAM records 423392, removed 4877, allowed 572, passed 418515
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 101784 reads in 6.800 CPU sec, 0.920 real sec
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320042 reads in 23.035 CPU sec, 10.027 real sec
[09:11:35] This is snippy 4.4.3
[09:11:35] Written by Torsten Seemann
[09:11:35] Obtained from https://github.com/tseemann/snippy
[09:11:35] Detected operating system: linux
[09:11:35] Enabling bundled linux tools.
[09:11:35] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:35] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:35] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:35] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:35] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[samclip] Processed 100000 records...
[09:11:35] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:35] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:35] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:35] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[M::mem_process_seqs] Processed 103164 reads in 8.310 CPU sec, 1.139 real sec
[09:11:35] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:35] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:35] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:35] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:35] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:35] Found gzip - /usr/bin/gzip
[09:11:35] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:35] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[samclip] Processed 300000 records...
[09:11:35] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:35] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:35] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:35] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:35] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:35] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:35] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:35] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:35] Treating reference as 'fasta' format.
[09:11:35] Will use 8 CPU cores.
[09:11:35] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta
[09:11:35] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out
[09:11:35] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out
[09:11:35] Creating reference folder: reference
[09:11:35] Extracting FASTA and GFF from reference.
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6411AA_AS.out\tSM:ESC_HA6411AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.838 sec; CPU: 32.094 sec
[samclip] Total SAM records 422788, removed 4068, allowed 614, passed 418720
[samclip] Header contained 3 lines
[samclip] Done.
[09:11:35] Wrote 1 sequences to ref.fa
[09:11:35] Wrote 0 features to ref.gff
[09:11:35] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta into pseudo-reads
[samclip] Processed 300000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 100970 reads in 9.784 CPU sec, 1.227 real sec
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4003AA_AS.out\tSM:ESC_NA4003AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.462 sec; CPU: 32.408 sec
[samclip] Total SAM records 424377, removed 4852, allowed 727, passed 419525
[samclip] Header contained 3 lines
[samclip] Done.
[samclip] Processed 300000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:36] Running: samtools index snps.bam 2>> snps.log
[09:11:36] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_IA3651AA_AS.out\tSM:ESC_IA3651AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.324 sec; CPU: 33.495 sec
[samclip] Total SAM records 422085, removed 4853, allowed 718, passed 417232
[samclip] Header contained 3 lines
[samclip] Done.
[09:11:36] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:36] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:36] Wrote 425244 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:36] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:36] Using BAM RG (Read Group) ID: ESC_NA4005AA_AS.out
[09:11:36] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:36] Wrote 424712 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:36] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:36] Using BAM RG (Read Group) ID: ESC_NA4000AA_AS.out
[09:11:36] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:36] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:37] Running: bwa index reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:37] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:37] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:38] Running: samtools index snps.bam 2>> snps.log
[09:11:38] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:39] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:39] Wrote 428090 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:39] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:39] Using BAM RG (Read Group) ID: ESC_NA3999AA_AS.out
[09:11:39] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:39] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:39] Running: samtools index snps.bam 2>> snps.log
[09:11:39] Running: samtools index snps.bam 2>> snps.log
[09:11:39] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:40] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:40] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:40] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:40] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:11:40] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:40] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:41] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:11:41] Running: ln -sf reference/ref.fa . 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 27
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3146
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:41] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:41] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:41] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:41] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:41] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:41] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:41] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:41] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4005AA_AS.out\tSM:ESC_NA4005AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs

stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 25
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 33

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 33
       total no. variants observed              : 3185
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:42] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4000AA_AS.out\tSM:ESC_NA4000AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:42] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320002 sequences (80000200 bp)...
[09:11:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::process] read 320090 sequences (80000324 bp)...
[09:11:43] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:43] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:43] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:43] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:43] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:11:43] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:43] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:43] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 8
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3177
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:43] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:43] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:43] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:43] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:43] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:43] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:43] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:43] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:43] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:43] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3999AA_AS.out\tSM:ESC_NA3999AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:43] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:43] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:43] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:43] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:43] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:43] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:44] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::process] read 320548 sequences (80000280 bp)...
[09:11:44] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:44] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[M::process] read 104622 sequences (26140594 bp)...
[09:11:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:44] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:44] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:44] Running: rm -f fake_reads\.fq 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 25
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 35

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 35
       total no. variants observed              : 3167
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:44] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:44] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:44] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa

stats: biallelic
          no. left trimmed                      : 8
          no. right trimmed                     : 35
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 48

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 48
       total no. variants observed              : 3320
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:44] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:44] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:44] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:44] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:44] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:45] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:45] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:45] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:45] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:45] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:11:45] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:45] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:45] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:45] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:45] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:45] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:11:45] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:11:45] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:45] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:11:45] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 107542 sequences (26830384 bp)...
[M::process] read 105242 sequences (26306596 bp)...
[M::mem_process_seqs] Processed 320090 reads in 25.425 CPU sec, 5.453 real sec
[09:11:48] Marked 212 heterozygous sites with 'n'
[09:11:48] Creating extra output files: BED GFF CSV TXT HTML
[09:11:48] Identified 3185 variants.
[09:11:48] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out
[09:11:48] Result files:
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.aligned.fa
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.bam
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.bam.bai
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.bed
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.consensus.fa
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.consensus.subs.fa
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.csv
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.filt.vcf
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.gff
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.html
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.log
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.raw.vcf
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.subs.vcf
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.tab
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.txt
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.vcf
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.vcf.gz
[09:11:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out/snps.vcf.gz.csi
[09:11:48] Walltime used: 31 seconds
[09:11:48] Wishing you a life free of homopolymer errors.
[09:11:48] Done.
[09:11:48] Marked 194 heterozygous sites with 'n'
[Thu Sep 10 09:11:48 2020]
Finished job 31.
44 of 121 steps (36%) done

[Thu Sep 10 09:11:48 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out
    jobid: 37
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4046AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta
[samclip] Processed 100000 records...
[09:11:49] Creating extra output files: BED GFF CSV TXT HTML
[09:11:49] Identified 3146 variants.
[09:11:49] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out
[09:11:49] Result files:
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.aligned.fa
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.bam
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.bam.bai
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.bed
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.consensus.fa
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.consensus.subs.fa
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.csv
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.filt.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.gff
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.html
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.log
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.raw.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.subs.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.tab
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.txt
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.vcf.gz
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out/snps.vcf.gz.csi
[09:11:49] Walltime used: 33 seconds
[09:11:49] Wishing you a life free of homopolymer errors.
[09:11:49] Done.
[Thu Sep 10 09:11:49 2020]
Finished job 51.
45 of 121 steps (37%) done

[Thu Sep 10 09:11:49 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out
    jobid: 45
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_NA4035AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta
[M::mem_process_seqs] Processed 104622 reads in 7.890 CPU sec, 1.006 real sec
[09:11:49] Marked 202 heterozygous sites with 'n'
[samclip] Processed 200000 records...
[09:11:49] Creating extra output files: BED GFF CSV TXT HTML
[09:11:49] Identified 3177 variants.
[09:11:49] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out
[09:11:49] Result files:
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.aligned.fa
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.bam
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.bam.bai
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.bed
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.consensus.fa
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.consensus.subs.fa
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.csv
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.filt.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.gff
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.html
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.log
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.raw.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.subs.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.tab
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.txt
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.vcf
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.vcf.gz
[09:11:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out/snps.vcf.gz.csi
[09:11:49] Walltime used: 31 seconds
[09:11:49] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:11:49] Done.
[Thu Sep 10 09:11:49 2020]
Finished job 53.
46 of 121 steps (38%) done

[Thu Sep 10 09:11:49 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out
    jobid: 17
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome, sample=ESC_LA1124AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta
[M::mem_process_seqs] Processed 320548 reads in 23.317 CPU sec, 5.808 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 320002 reads in 23.680 CPU sec, 7.626 real sec
[samclip] Processed 300000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:11:50] This is snippy 4.4.3
[09:11:50] Written by Torsten Seemann
[09:11:50] Obtained from https://github.com/tseemann/snippy
[09:11:50] Detected operating system: linux
[09:11:50] Enabling bundled linux tools.
[09:11:50] This is snippy 4.4.3
[09:11:50] Written by Torsten Seemann
[09:11:50] Obtained from https://github.com/tseemann/snippy
[09:11:50] Detected operating system: linux
[09:11:50] Enabling bundled linux tools.
[09:11:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:50] Marked 213 heterozygous sites with 'n'
[09:11:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:50] Creating extra output files: BED GFF CSV TXT HTML
[09:11:50] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:50] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:50] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:50] Identified 3167 variants.
[09:11:50] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[samclip] Processed 400000 records...
[09:11:50] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out
[09:11:50] Result files:
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.aligned.fa
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.bam
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.bam.bai
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.bed
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.consensus.fa
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.consensus.subs.fa
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.csv
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.filt.vcf
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.gff
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.html
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.log
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.raw.vcf
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.subs.vcf
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.tab
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.txt
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.vcf
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.vcf.gz
[09:11:50] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out/snps.vcf.gz.csi
[09:11:50] Walltime used: 31 seconds
[09:11:50] Wishing you a life free of homopolymer errors.
[09:11:50] Done.
[09:11:50] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:11:50] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:50] Found gzip - /usr/bin/gzip
[09:11:50] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[Thu Sep 10 09:11:50 2020]
Finished job 65.
47 of 121 steps (39%) done

[Thu Sep 10 09:11:50 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out
    jobid: 40
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4064AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta
[09:11:50] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:50] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:50] Found gzip - /usr/bin/gzip
[09:11:50] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:50] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:50] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:50] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:50] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:50] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:50] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4000AA_AS.out\tSM:ESC_NA4000AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 8.646 sec; CPU: 34.133 sec
[09:11:50] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[samclip] Processed 100000 records...
[samclip] Total SAM records 426045, removed 5064, allowed 635, passed 420981
[samclip] Header contained 3 lines
[samclip] Done.
[09:11:50] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:11:50] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:50] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:50] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:50] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 107542 reads in 7.779 CPU sec, 1.076 real sec
[09:11:51] Marked 209 heterozygous sites with 'n'
[M::mem_process_seqs] Processed 105242 reads in 8.467 CPU sec, 1.062 real sec
[09:11:51] This is snippy 4.4.3
[09:11:51] Written by Torsten Seemann
[09:11:51] Obtained from https://github.com/tseemann/snippy
[09:11:51] Detected operating system: linux
[09:11:51] Enabling bundled linux tools.
[09:11:51] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:51] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:51] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:51] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:51] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:51] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:51] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:51] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:51] Creating extra output files: BED GFF CSV TXT HTML
[09:11:51] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:51] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:51] Treating reference as 'fasta' format.
[09:11:51] Will use 8 CPU cores.
[09:11:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta
[09:11:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out
[09:11:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out
[09:11:51] Creating reference folder: reference
[09:11:51] Extracting FASTA and GFF from reference.
[09:11:51] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[samclip] Processed 100000 records...
[09:11:51] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:51] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:51] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:51] Found gzip - /usr/bin/gzip
[09:11:51] Identified 3320 variants.
[09:11:51] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:51] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out
[09:11:51] Result files:
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.aligned.fa
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.bam
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.bam.bai
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.bed
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.consensus.fa
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.consensus.subs.fa
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.csv
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.filt.vcf
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.gff
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.html
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.log
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.raw.vcf
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.subs.vcf
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.tab
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.txt
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.vcf
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.vcf.gz
[09:11:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out/snps.vcf.gz.csi
[09:11:51] Walltime used: 36 seconds
[09:11:51] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:11:51] Done.
[09:11:51] Treating reference as 'fasta' format.
[09:11:51] Will use 8 CPU cores.
[09:11:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta
[09:11:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out
[09:11:51] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out
[09:11:51] Creating reference folder: reference
[09:11:51] Extracting FASTA and GFF from reference.
[09:11:51] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:51] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:51] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[Thu Sep 10 09:11:51 2020]
Finished job 73.
48 of 121 steps (40%) done
[09:11:51] Checking version: freebayes --version is >= 1.1 - ok, have 1.3

[Thu Sep 10 09:11:51 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out
    jobid: 12
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_BA8511AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta
[samclip] Processed 200000 records...
[09:11:51] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:11:51] Wrote 1 sequences to ref.fa
[09:11:51] Wrote 0 features to ref.gff
[09:11:51] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta into pseudo-reads
[09:11:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
[09:11:51] Wrote 1 sequences to ref.fa
[09:11:51] Wrote 0 features to ref.gff
[09:11:51] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta into pseudo-reads
[09:11:51] Treating reference as 'fasta' format.
[09:11:51] Will use 8 CPU cores.
[09:11:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta
[09:11:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out
[09:11:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out
[09:11:51] Creating reference folder: reference
[09:11:51] Extracting FASTA and GFF from reference.
[samclip] Processed 200000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 300000 records...
[09:11:51] Wrote 1 sequences to ref.fa
[09:11:51] Wrote 0 features to ref.gff
[09:11:51] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta into pseudo-reads
[09:11:51] This is snippy 4.4.3
[09:11:51] Written by Torsten Seemann
[09:11:51] Obtained from https://github.com/tseemann/snippy
[09:11:51] Detected operating system: linux
[09:11:51] Enabling bundled linux tools.
[09:11:51] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:51] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:51] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:51] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:51] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:51] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[samclip] Processed 300000 records...
[09:11:51] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:51] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:51] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:11:51] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:51] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:51] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:51] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:51] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:51] Found gzip - /usr/bin/gzip
[09:11:51] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:51] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:11:51] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:51] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:51] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:51] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Processed 400000 records...
[09:11:51] Checking version: java -version is >= 1.8 - ok, have 1.8
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4005AA_AS.out\tSM:ESC_NA4005AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.991 sec; CPU: 32.868 sec
[samclip] Total SAM records 426378, removed 4872, allowed 813, passed 421506
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[samclip] Processed 400000 records...
[09:11:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:11:51] Treating reference as 'fasta' format.
[09:11:51] Will use 8 CPU cores.
[09:11:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta
[09:11:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out
[09:11:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out
[09:11:51] Creating reference folder: reference
[09:11:51] Extracting FASTA and GFF from reference.
[09:11:51] This is snippy 4.4.3
[09:11:51] Written by Torsten Seemann
[09:11:51] Obtained from https://github.com/tseemann/snippy
[09:11:51] Detected operating system: linux
[09:11:51] Enabling bundled linux tools.
[09:11:52] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:11:52] Wrote 1 sequences to ref.fa
[09:11:52] Wrote 0 features to ref.gff
[09:11:52] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4064AA_AS.fasta into pseudo-reads
[09:11:52] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:11:52] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:11:52] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:11:52] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:11:52] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:11:52] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:11:52] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:11:52] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:52] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:11:52] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:11:52] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:11:52] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:11:52] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:11:52] Found gzip - /usr/bin/gzip
[09:11:52] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:11:52] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:11:52] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:11:52] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:11:52] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:11:52] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3999AA_AS.out\tSM:ESC_NA3999AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 8.458 sec; CPU: 31.996 sec
[samclip] Total SAM records 429310, removed 4948, allowed 532, passed 424362
[samclip] Header contained 3 lines
[samclip] Done.
[09:11:52] Checking version: java -version is >= 1.8 - ok, have 1.8
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:52] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:11:52] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:11:52] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:11:52] Treating reference as 'fasta' format.
[09:11:52] Will use 8 CPU cores.
[09:11:52] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta
[09:11:52] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out
[09:11:52] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out
[09:11:52] Creating reference folder: reference
[09:11:52] Extracting FASTA and GFF from reference.
[09:11:52] Wrote 1 sequences to ref.fa
[09:11:52] Wrote 0 features to ref.gff
[09:11:52] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_BA8511AA_AS.fasta into pseudo-reads
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:53] Running: samtools index snps.bam 2>> snps.log
[09:11:53] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:11:53] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:54] Running: samtools index snps.bam 2>> snps.log
[09:11:54] Running: samtools index snps.bam 2>> snps.log
[09:11:54] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:54] Wrote 417532 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:54] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:54] Using BAM RG (Read Group) ID: ESC_NA4035AA_AS.out
[09:11:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:54] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:11:54] Wrote 419186 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:55] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:55] Using BAM RG (Read Group) ID: ESC_NA4046AA_AS.out
[09:11:55] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:55] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:55] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:55] Wrote 417692 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:55] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:11:55] Freebayes will process 15 chunks of 353328 bp, 8 chunks at a time.
[09:11:55] Using BAM RG (Read Group) ID: ESC_LA1124AA_AS.out
[09:11:55] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:55] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:55] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:55] Wrote 453578 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:55] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:11:55] Using BAM RG (Read Group) ID: ESC_NA4064AA_AS.out
[09:11:55] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:55] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:55] Wrote 447112 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:11:55] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:11:55] Using BAM RG (Read Group) ID: ESC_BA8511AA_AS.out
[09:11:55] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:11:56] Running: bwa index reference/ref.fa 2>> snps.log
[09:11:56] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:56] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:56] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:56] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:56] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:56] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4064AA_AS.out\tSM:ESC_NA4064AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:56] Running: ln -sf reference/ref.fa . 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:56] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:56] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:57] Running: bwa mem  -Y -M -R '@RG\tID:ESC_BA8511AA_AS.out\tSM:ESC_BA8511AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:57] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[M::process] read 320142 sequences (80000350 bp)...

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 34

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 34
       total no. variants observed              : 3177
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:57] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 320062 sequences (80000166 bp)...
[09:11:58] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:11:58] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:11:58] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:58] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:58] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:58] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:58] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:11:58] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:58] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4035AA_AS.out\tSM:ESC_NA4035AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:58] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:11:58] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:58] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:58] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:11:58] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:58] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:11:58] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:11:58] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:11:58] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4046AA_AS.out\tSM:ESC_NA4046AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:11:58] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:11:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:11:59] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LA1124AA_AS.out\tSM:ESC_LA1124AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:11:59] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[M::process] read 320056 sequences (80000098 bp)...
[09:11:59] Running: rm -f fake_reads\.fq 2>> snps.log
[09:11:59] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 127050 sequences (31755156 bp)...
[M::process] read 320014 sequences (80000092 bp)...
[M::process] read 320042 sequences (80000116 bp)...
[M::process] read 133436 sequences (33317366 bp)...
[09:11:59] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:11:59] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 28
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3130
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:59] Running: cp snps.filt.vcf snps.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 22
          no. left and right trimmed            : 3
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 30

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 30
       total no. variants observed              : 3091
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:11:59] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:11:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:11:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:00] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:00] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:00] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:00] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:00] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 97678 sequences (24415596 bp)...
[M::process] read 99144 sequences (24770656 bp)...
[M::process] read 97476 sequences (24363148 bp)...
[09:12:05] Marked 207 heterozygous sites with 'n'
[09:12:05] Creating extra output files: BED GFF CSV TXT HTML
[09:12:05] Identified 3177 variants.
[09:12:05] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out
[09:12:05] Result files:
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.aligned.fa
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.bam
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.bam.bai
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.bed
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.consensus.fa
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.consensus.subs.fa
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.csv
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.filt.vcf
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.gff
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.html
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.log
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.raw.vcf
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.subs.vcf
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.tab
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.txt
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.vcf
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.vcf.gz
[09:12:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out/snps.vcf.gz.csi
[09:12:05] Walltime used: 33 seconds
[09:12:05] May the SNPs be with you.
[09:12:05] Done.
[Thu Sep 10 09:12:05 2020]
Finished job 3.
49 of 121 steps (40%) done

[Thu Sep 10 09:12:05 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out
    jobid: 14
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_VA0598AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:06] Marked 180 heterozygous sites with 'n'
[09:12:06] This is snippy 4.4.3
[09:12:06] Written by Torsten Seemann
[09:12:06] Obtained from https://github.com/tseemann/snippy
[09:12:06] Detected operating system: linux
[09:12:06] Enabling bundled linux tools.
[09:12:06] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:06] Creating extra output files: BED GFF CSV TXT HTML
[09:12:06] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:06] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:06] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:06] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:06] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:06] Identified 3091 variants.
[09:12:06] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out
[09:12:06] Result files:
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.aligned.fa
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.bam
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.bam.bai
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.bed
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.consensus.fa
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.consensus.subs.fa
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.csv
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.filt.vcf
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.gff
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.html
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.log
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.raw.vcf
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.subs.vcf
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.tab
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.txt
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.vcf
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.vcf.gz
[09:12:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out/snps.vcf.gz.csi
[09:12:06] Walltime used: 31 seconds
[09:12:06] May the SNPs be with you.
[09:12:06] Done.
[09:12:06] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:06] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:06] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:06] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[Thu Sep 10 09:12:06 2020]
Finished job 77.
50 of 121 steps (41%) done

[Thu Sep 10 09:12:06 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out
    jobid: 96
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HA6332AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta
[09:12:06] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:06] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:06] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:07] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:07] Found gzip - /usr/bin/gzip
[09:12:07] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:07] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:07] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:07] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:07] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:07] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:07] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:07] Marked 200 heterozygous sites with 'n'
[09:12:07] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:07] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:07] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:07] Treating reference as 'fasta' format.
[09:12:07] Will use 8 CPU cores.
[09:12:07] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta
[09:12:07] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out
[09:12:07] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out
[09:12:07] Creating reference folder: reference
[09:12:07] Extracting FASTA and GFF from reference.
[09:12:07] Creating extra output files: BED GFF CSV TXT HTML
[09:12:07] Wrote 1 sequences to ref.fa
[09:12:07] Wrote 0 features to ref.gff
[09:12:07] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_VA0598AA_AS.fasta into pseudo-reads
[09:12:07] Identified 3130 variants.
[09:12:07] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out
[09:12:07] Result files:
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.aligned.fa
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.bam
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.bam.bai
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.bed
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.consensus.fa
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.consensus.subs.fa
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.csv
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.filt.vcf
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.gff
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.html
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.log
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.raw.vcf
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.subs.vcf
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.tab
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.txt
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.vcf
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.vcf.gz
[09:12:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out/snps.vcf.gz.csi
[09:12:07] Walltime used: 35 seconds
[09:12:07] May the SNPs be with you.
[09:12:07] Done.
[Thu Sep 10 09:12:07 2020]
Finished job 89.
51 of 121 steps (42%) done

[Thu Sep 10 09:12:07 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out
    jobid: 20
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_SA8312AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta
[M::mem_process_seqs] Processed 320062 reads in 41.924 CPU sec, 9.968 real sec
[M::mem_process_seqs] Processed 320014 reads in 23.092 CPU sec, 8.078 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 100000 records...
[09:12:08] This is snippy 4.4.3
[09:12:08] Written by Torsten Seemann
[09:12:08] Obtained from https://github.com/tseemann/snippy
[09:12:08] Detected operating system: linux
[09:12:08] Enabling bundled linux tools.
[09:12:08] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:08] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:08] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:08] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:08] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:08] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:08] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:08] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:08] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:08] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:08] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[samclip] Processed 200000 records...
[09:12:08] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:08] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:08] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:08] Found gzip - /usr/bin/gzip
[09:12:08] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:08] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:08] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:08] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:08] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:08] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 320142 reads in 46.982 CPU sec, 11.348 real sec
[M::mem_process_seqs] Processed 320056 reads in 23.965 CPU sec, 9.488 real sec
[M::mem_process_seqs] Processed 320042 reads in 23.712 CPU sec, 9.357 real sec
[samclip] Processed 300000 records...
[09:12:09] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 127050 reads in 14.710 CPU sec, 2.138 real sec
[09:12:09] This is snippy 4.4.3
[09:12:09] Written by Torsten Seemann
[09:12:09] Obtained from https://github.com/tseemann/snippy
[09:12:09] Detected operating system: linux
[09:12:09] Enabling bundled linux tools.
[09:12:09] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:09] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:09] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:09] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:09] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:09] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:09] Treating reference as 'fasta' format.
[09:12:09] Will use 8 CPU cores.
[09:12:09] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta
[09:12:09] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out
[09:12:09] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out
[09:12:09] Creating reference folder: reference
[09:12:09] Extracting FASTA and GFF from reference.
[09:12:09] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:09] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:09] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:09] Wrote 1 sequences to ref.fa
[09:12:09] Wrote 0 features to ref.gff
[09:12:09] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6332AA_AS.fasta into pseudo-reads
[09:12:09] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:09] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:09] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[M::mem_process_seqs] Processed 97678 reads in 7.442 CPU sec, 2.455 real sec
[09:12:09] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:10] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[samclip] Processed 400000 records...
[09:12:10] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 99144 reads in 7.061 CPU sec, 1.224 real sec
[09:12:10] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:10] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:10] Found gzip - /usr/bin/gzip
[09:12:10] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:10] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:10] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:10] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:10] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:10] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 97476 reads in 7.089 CPU sec, 1.490 real sec
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_BA8511AA_AS.out\tSM:ESC_BA8511AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.098 sec; CPU: 57.218 sec
[samclip] Total SAM records 447264, removed 1972, allowed 111, passed 445292
[samclip] Header contained 3 lines
[samclip] Done.
[09:12:10] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 100000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[samclip] Processed 300000 records...
[09:12:10] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:10] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:10] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:10] Treating reference as 'fasta' format.
[09:12:10] Will use 8 CPU cores.
[09:12:10] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta
[09:12:10] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out
[09:12:10] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out
[samclip] Processed 200000 records...
[09:12:10] Creating reference folder: reference
[09:12:10] Extracting FASTA and GFF from reference.
[samclip] Processed 200000 records...
[09:12:10] Wrote 1 sequences to ref.fa
[09:12:10] Wrote 0 features to ref.gff
[09:12:10] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8312AA_AS.fasta into pseudo-reads
[samclip] Processed 200000 records...
[09:12:10] Wrote 437900 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:10] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:10] Using BAM RG (Read Group) ID: ESC_VA0598AA_AS.out
[09:12:10] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:10] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 133436 reads in 13.393 CPU sec, 2.257 real sec
[samclip] Processed 300000 records...
[09:12:10] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[samclip] Processed 300000 records...
[09:12:10] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:10] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:10] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:10] Running: bwa mem  -Y -M -R '@RG\tID:ESC_VA0598AA_AS.out\tSM:ESC_VA0598AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 400000 records...
[samclip] Processed 400000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LA1124AA_AS.out\tSM:ESC_LA1124AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.129 sec; CPU: 31.348 sec
[samclip] Total SAM records 418788, removed 5008, allowed 607, passed 413780
[samclip] Header contained 3 lines
[samclip] Done.
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4064AA_AS.out\tSM:ESC_NA4064AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.427 sec; CPU: 60.987 sec
[samclip] Total SAM records 453898, removed 5388, allowed 406, passed 448510
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4046AA_AS.out\tSM:ESC_NA4046AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.308 sec; CPU: 31.653 sec
[samclip] Total SAM records 420626, removed 4917, allowed 658, passed 415709
[samclip] Header contained 3 lines
[samclip] Done.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4035AA_AS.out\tSM:ESC_NA4035AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.660 sec; CPU: 31.925 sec
[samclip] Total SAM records 418290, removed 3459, allowed 609, passed 414831
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 320014 sequences (80000098 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 117886 sequences (29471500 bp)...
[09:12:12] Running: samtools index snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:12] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:12] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:12] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 9
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 313
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:12] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:12] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:13] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:13] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:13] Wrote 443754 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:13] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:13] Using BAM RG (Read Group) ID: ESC_HA6332AA_AS.out
[09:12:13] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:13] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:13] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:13] Running: samtools index snps.bam 2>> snps.log
[09:12:13] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:13] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:13] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:13] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:13] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:13] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:13] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:13] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:13] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:13] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:13] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6332AA_AS.out\tSM:ESC_HA6332AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:12:13] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:13] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:13] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:13] Running: samtools index snps.bam 2>> snps.log
[09:12:13] Running: samtools index snps.bam 2>> snps.log
[09:12:13] Running: samtools index snps.bam 2>> snps.log
[M::process] read 320068 sequences (80000032 bp)...
[09:12:14] Marked 197 heterozygous sites with 'n'
[M::process] read 123686 sequences (30918376 bp)...
[09:12:14] Creating extra output files: BED GFF CSV TXT HTML
[09:12:14] Identified 313 variants.
[09:12:14] Wrote 440276 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:14] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out
[09:12:14] Result files:
[09:12:14] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:14] Using BAM RG (Read Group) ID: ESC_SA8312AA_AS.out
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.aligned.fa
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.bam
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.bam.bai
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.bed
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.consensus.fa
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.consensus.subs.fa
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.csv
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.filt.vcf
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.gff
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.html
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.log
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.raw.vcf
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.subs.vcf
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.tab
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.txt
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.vcf
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.vcf.gz
[09:12:14] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out/snps.vcf.gz.csi
[09:12:14] Walltime used: 23 seconds
[09:12:14] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:12:14] Done.
[09:12:14] Running: samtools faidx reference/ref.fa 2>> snps.log
[Thu Sep 10 09:12:14 2020]
Finished job 12.
52 of 121 steps (43%) done

[Thu Sep 10 09:12:14 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out
    jobid: 60
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HB8007AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta
[09:12:14] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:14] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:12:14] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:12:14] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:14] Running: fasta_generate_regions.py reference/ref.fa.fai 353328 > reference/ref.txt 2>> snps.log
[09:12:14] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:14] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:14] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:14] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:14] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:14] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:14] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8312AA_AS.out\tSM:ESC_SA8312AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:12:14] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[M::process] read 320326 sequences (80000378 bp)...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai

stats: biallelic
          no. left trimmed                      : 2
          no. right trimmed                     : 17
          no. left and right trimmed            : 2
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 21

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 21
       total no. variants observed              : 1002
       total no. reference observed             : 0

Time elapsed: 0.01s

[09:12:15] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:15] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:16] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:17] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:17] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:18] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:18] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:18] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:18] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:19] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:19] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:19] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:19] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:12:19] Marked 396 heterozygous sites with 'n'
[09:12:19] Creating extra output files: BED GFF CSV TXT HTML
[09:12:19] Identified 1002 variants.

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 24
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 34

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 34
       total no. variants observed              : 3181
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:12:19] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out
[09:12:19] Result files:
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.aligned.fa
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.bam
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.bam.bai
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.bed
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.consensus.fa
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.consensus.subs.fa
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.csv
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.filt.vcf
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.gff
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.html
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.log
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.raw.vcf
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.subs.vcf
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.tab
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.txt
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.vcf
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.vcf.gz
[09:12:19] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out/snps.vcf.gz.csi
[09:12:19] Walltime used: 28 seconds
[09:12:19] Wishing you a life free of homopolymer errors.
[09:12:19] Done.
[09:12:19] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[Thu Sep 10 09:12:19 2020]
Finished job 40.
53 of 121 steps (44%) done
[09:12:19] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log

[Thu Sep 10 09:12:19 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out
    jobid: 50
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HA6420AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta
[09:12:19] This is snippy 4.4.3
[09:12:19] Written by Torsten Seemann
[09:12:19] Obtained from https://github.com/tseemann/snippy
[09:12:19] Detected operating system: linux
[09:12:19] Enabling bundled linux tools.
[09:12:19] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:19] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:19] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:19] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:19] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:19] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:19] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:19] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:19] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:19] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:19] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:19] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:20] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:20] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:20] Found gzip - /usr/bin/gzip
[09:12:20] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:20] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:20] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:20] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:20] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:20] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:20] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:12:20] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:20] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:20] Running: bcftools index -f snps.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 25
          no. left and right trimmed            : 5
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 36

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 36
       total no. variants observed              : 3290
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:12:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:20] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:20] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[M::mem_process_seqs] Processed 320014 reads in 34.323 CPU sec, 8.924 real sec
[09:12:20] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:20] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:20] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:20] Treating reference as 'fasta' format.
[09:12:20] Will use 8 CPU cores.
[09:12:20] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta
[09:12:20] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out
[09:12:20] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out
[09:12:20] Creating reference folder: reference
[09:12:20] Extracting FASTA and GFF from reference.
[09:12:20] Wrote 1 sequences to ref.fa
[09:12:20] Wrote 0 features to ref.gff
[09:12:20] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HB8007AA_AS.fasta into pseudo-reads
[09:12:20] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:12:20] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log

stats: biallelic
          no. left trimmed                      : 6
          no. right trimmed                     : 18
          no. left and right trimmed            : 4
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 28

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 28
       total no. variants observed              : 3102
       total no. reference observed             : 0

Time elapsed: 0.05s

[09:12:20] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:20] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:20] Running: rm -f fake_reads\.fq 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:20] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:20] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:20] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[samclip] Processed 100000 records...
[09:12:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:21] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:21] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:21] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:21] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] Processed 200000 records...
[09:12:21] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[M::process] read 119950 sequences (29987500 bp)...
[09:12:21] This is snippy 4.4.3
[09:12:21] Written by Torsten Seemann
[09:12:21] Obtained from https://github.com/tseemann/snippy
[09:12:21] Detected operating system: linux
[09:12:21] Enabling bundled linux tools.
[09:12:21] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:21] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:21] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:21] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:21] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:21] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:21] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:21] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:21] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:21] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:21] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:21] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:21] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:21] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:21] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:21] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:21] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:21] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:21] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:21] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:21] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:21] Found gzip - /usr/bin/gzip
[09:12:21] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[samclip] Processed 300000 records...
[09:12:21] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:21] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:21] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:21] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:21] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:21] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:22] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:22] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::mem_process_seqs] Processed 117886 reads in 14.554 CPU sec, 1.906 real sec
[09:12:22] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:22] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:22] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:22] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:22] Treating reference as 'fasta' format.
[09:12:22] Will use 8 CPU cores.
[09:12:22] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta
[09:12:22] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out
[09:12:22] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out
[09:12:22] Creating reference folder: reference
[09:12:22] Extracting FASTA and GFF from reference.
[09:12:22] Wrote 1 sequences to ref.fa
[09:12:22] Wrote 0 features to ref.gff
[09:12:22] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6420AA_AS.fasta into pseudo-reads
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_VA0598AA_AS.out\tSM:ESC_VA0598AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.517 sec; CPU: 49.377 sec
[samclip] Total SAM records 438093, removed 1679, allowed 147, passed 436414
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:23] Wrote 440510 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:23] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:23] Using BAM RG (Read Group) ID: ESC_HB8007AA_AS.out
[09:12:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:23] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:23] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:23] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:23] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:23] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:23] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HB8007AA_AS.out\tSM:ESC_HB8007AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::mem_process_seqs] Processed 320068 reads in 52.344 CPU sec, 10.109 real sec
[M::process] read 320018 sequences (80000164 bp)...
[samclip] Processed 100000 records...
[09:12:24] Running: samtools index snps.bam 2>> snps.log
[09:12:25] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[samclip] Processed 200000 records...
[09:12:25] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:25] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[samclip] Processed 300000 records...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 319
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:25] Wrote 440980 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:25] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:25] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:25] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:25] Using BAM RG (Read Group) ID: ESC_HA6420AA_AS.out
[09:12:25] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:25] Running: bwa index reference/ref.fa 2>> snps.log
[M::process] read 120492 sequences (30123000 bp)...
[09:12:26] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:26] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:26] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:26] Marked 132 heterozygous sites with 'n'
[09:12:26] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:26] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:26] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:26] Creating extra output files: BED GFF CSV TXT HTML
[09:12:26] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:26] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6420AA_AS.out\tSM:ESC_HA6420AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:12:26] Identified 3181 variants.
[09:12:26] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out
[09:12:26] Result files:
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.aligned.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.bam
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.bam.bai
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.bed
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.consensus.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.consensus.subs.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.csv
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.filt.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.gff
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.html
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.log
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.raw.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.subs.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.tab
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.txt
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.vcf.gz
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out/snps.vcf.gz.csi
[09:12:26] Walltime used: 36 seconds
[09:12:26] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:12:26] Done.
[09:12:26] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:26] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[Thu Sep 10 09:12:26 2020]
Finished job 37.
54 of 121 steps (45%) done

[Thu Sep 10 09:12:26 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out
    jobid: 94
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_SA8273AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta
[09:12:26] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:26] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 123686 reads in 16.776 CPU sec, 2.305 real sec
[09:12:26] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:26] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:26] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 400000 records...
[M::process] read 320112 sequences (80000494 bp)...
[09:12:26] Marked 234 heterozygous sites with 'n'
[09:12:26] Marked 466 heterozygous sites with 'n'
[09:12:26] Creating extra output files: BED GFF CSV TXT HTML
[09:12:26] Identified 319 variants.
[09:12:26] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out
[09:12:26] Result files:
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.aligned.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.bam
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.bam.bai
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.bed
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.consensus.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.consensus.subs.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.csv
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.filt.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.gff
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.html
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.log
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.raw.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.subs.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.tab
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.txt
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.vcf.gz
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out/snps.vcf.gz.csi
[09:12:26] Walltime used: 20 seconds
[09:12:26] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:12:26] Done.
[Thu Sep 10 09:12:26 2020]
Finished job 14.
55 of 121 steps (45%) done
[09:12:26] Creating extra output files: BED GFF CSV TXT HTML

[Thu Sep 10 09:12:26 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out
    jobid: 92
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_GB6943AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta
[M::process] read 120868 sequences (30194564 bp)...
[09:12:26] Identified 3290 variants.
[09:12:26] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out
[09:12:26] Result files:
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.aligned.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.bam
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.bam.bai
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.bed
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.consensus.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.consensus.subs.fa
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.csv
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.filt.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.gff
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.html
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.log
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.raw.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.subs.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.tab
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.txt
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.vcf
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.vcf.gz
[09:12:26] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out/snps.vcf.gz.csi
[09:12:26] Walltime used: 35 seconds
[09:12:26] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:12:26] Done.
[Thu Sep 10 09:12:26 2020]
Finished job 17.
56 of 121 steps (46%) done
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6332AA_AS.out\tSM:ESC_HA6332AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.257 sec; CPU: 69.622 sec
[samclip] Total SAM records 444071, removed 3263, allowed 321, passed 440808
[samclip] Header contained 3 lines
[samclip] Done.

[Thu Sep 10 09:12:26 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out
    jobid: 62
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4052AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:27] Marked 183 heterozygous sites with 'n'
[09:12:27] Creating extra output files: BED GFF CSV TXT HTML
[09:12:27] Identified 3102 variants.
[09:12:27] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out
[09:12:27] Result files:
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.aligned.fa
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.bam
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.bam.bai
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.bed
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.consensus.fa
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.consensus.subs.fa
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.csv
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.filt.vcf
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.gff
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.html
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.log
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.raw.vcf
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.subs.vcf
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.tab
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.txt
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.vcf
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.vcf.gz
[09:12:27] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out/snps.vcf.gz.csi
[09:12:27] Walltime used: 37 seconds
[09:12:27] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:12:27] Done.
[Thu Sep 10 09:12:27 2020]
Finished job 45.
57 of 121 steps (47%) done

[Thu Sep 10 09:12:27 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out
    jobid: 56
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HA6342AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 320326 reads in 40.010 CPU sec, 12.679 real sec
[09:12:27] This is snippy 4.4.3
[09:12:27] Written by Torsten Seemann
[09:12:27] Obtained from https://github.com/tseemann/snippy
[09:12:27] Detected operating system: linux
[09:12:27] Enabling bundled linux tools.
[09:12:28] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:28] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:28] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:28] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:28] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:28] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:28] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:28] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:28] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:28] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:28] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:28] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:28] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:28] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:28] Found gzip - /usr/bin/gzip
[09:12:28] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:28] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:28] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:28] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:28] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:28] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Processed 100000 records...
[09:12:29] Checking version: java -version is >= 1.8 - ok, have 1.8
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:29] This is snippy 4.4.3
[09:12:29] Written by Torsten Seemann
[09:12:29] Obtained from https://github.com/tseemann/snippy
[09:12:29] Detected operating system: linux
[09:12:29] Enabling bundled linux tools.
[09:12:29] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:29] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:29] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:29] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:29] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:29] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:29] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:29] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:29] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:29] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:29] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:29] Treating reference as 'fasta' format.
[09:12:29] Will use 8 CPU cores.
[09:12:29] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta
[09:12:29] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out
[09:12:29] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out
[09:12:29] Creating reference folder: reference
[09:12:29] Extracting FASTA and GFF from reference.
[09:12:29] Wrote 1 sequences to ref.fa
[09:12:29] Wrote 0 features to ref.gff
[09:12:29] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8273AA_AS.fasta into pseudo-reads
[09:12:29] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:29] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:29] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:29] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:29] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:29] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[samclip] Processed 200000 records...
[09:12:29] Found gzip - /usr/bin/gzip
[09:12:29] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:29] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:29] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:29] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:29] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:29] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:29] This is snippy 4.4.3
[09:12:30] Written by Torsten Seemann
[09:12:30] Obtained from https://github.com/tseemann/snippy
[09:12:30] Detected operating system: linux
[09:12:30] Enabling bundled linux tools.
[09:12:30] This is snippy 4.4.3
[09:12:30] Written by Torsten Seemann
[09:12:30] Obtained from https://github.com/tseemann/snippy
[09:12:30] Detected operating system: linux
[09:12:30] Enabling bundled linux tools.
[09:12:30] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:30] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:30] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:30] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:30] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:30] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:30] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:30] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:30] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:30] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:30] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:30] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:30] Running: samtools index snps.bam 2>> snps.log
[09:12:30] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:30] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:30] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:30] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:30] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:30] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:30] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:30] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:30] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:30] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:30] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:30] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:30] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:30] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:30] Found gzip - /usr/bin/gzip
[09:12:30] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:30] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:30] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:30] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:30] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:30] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:30] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:30] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:30] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:30] Found gzip - /usr/bin/gzip
[09:12:30] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:30] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:30] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::mem_process_seqs] Processed 119950 reads in 15.561 CPU sec, 2.491 real sec
[09:12:30] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:30] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:30] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:30] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:30] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:30] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:30] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:30] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:30] Treating reference as 'fasta' format.
[09:12:30] Will use 8 CPU cores.
[09:12:30] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta
[09:12:30] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out
[09:12:30] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out
[09:12:30] Creating reference folder: reference
[09:12:30] Extracting FASTA and GFF from reference.
[09:12:30] Wrote 1 sequences to ref.fa
[09:12:30] Wrote 0 features to ref.gff
[09:12:30] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6342AA_AS.fasta into pseudo-reads
[09:12:30] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 300000 records...
[09:12:30] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:30] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:30] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:30] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:30] Treating reference as 'fasta' format.
[09:12:30] Will use 8 CPU cores.
[09:12:30] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta
[09:12:30] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out
[09:12:30] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out
[09:12:30] Creating reference folder: reference
[09:12:30] Extracting FASTA and GFF from reference.
[09:12:30] Wrote 1 sequences to ref.fa
[09:12:30] Wrote 0 features to ref.gff
[09:12:30] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GB6943AA_AS.fasta into pseudo-reads
[09:12:30] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:30] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:30] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:30] Treating reference as 'fasta' format.
[09:12:30] Will use 8 CPU cores.
[09:12:30] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta
[09:12:30] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out
[09:12:30] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out
[09:12:30] Creating reference folder: reference
[09:12:30] Extracting FASTA and GFF from reference.
[09:12:30] Wrote 1 sequences to ref.fa
[09:12:30] Wrote 0 features to ref.gff
[09:12:30] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4052AA_AS.fasta into pseudo-reads
[samclip] Processed 400000 records...
[09:12:30] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8312AA_AS.out\tSM:ESC_SA8312AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 16.291 sec; CPU: 56.217 sec
[samclip] Total SAM records 440750, removed 3560, allowed 192, passed 437190
[samclip] Header contained 3 lines
[samclip] Done.

stats: biallelic
          no. left trimmed                      : 5
          no. right trimmed                     : 16
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 21

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 21
       total no. variants observed              : 1015
       total no. reference observed             : 0

Time elapsed: 0.01s

[09:12:30] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:30] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:31] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:31] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::mem_process_seqs] Processed 320018 reads in 37.688 CPU sec, 6.750 real sec
[09:12:31] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:31] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:31] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:31] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:31] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:31] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:31] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:31] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 320112 reads in 34.558 CPU sec, 4.953 real sec
[09:12:31] Marked 135 heterozygous sites with 'n'
[09:12:31] Creating extra output files: BED GFF CSV TXT HTML
[09:12:31] Identified 1015 variants.
[09:12:31] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out
[09:12:31] Result files:
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.aligned.fa
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.bam
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.bam.bai
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.bed
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.consensus.fa
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.consensus.subs.fa
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.csv
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.filt.vcf
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.gff
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.html
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.log
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.raw.vcf
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.subs.vcf
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.tab
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.txt
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.vcf
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.vcf.gz
[09:12:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out/snps.vcf.gz.csi
[09:12:31] Walltime used: 23 seconds
[09:12:31] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:12:31] Done.
[Thu Sep 10 09:12:31 2020]
Finished job 96.
58 of 121 steps (48%) done

[Thu Sep 10 09:12:31 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out
    jobid: 6
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HA6418AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 120492 reads in 12.480 CPU sec, 1.579 real sec
[samclip] Processed 300000 records...
[samclip] Processed 200000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HB8007AA_AS.out\tSM:ESC_HB8007AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.234 sec; CPU: 50.761 sec
[samclip] Total SAM records 440714, removed 2109, allowed 216, passed 438605
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:33] Wrote 435872 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:33] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:33] Using BAM RG (Read Group) ID: ESC_SA8273AA_AS.out
[09:12:33] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:33] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:33] Running: samtools index snps.bam 2>> snps.log
[09:12:33] This is snippy 4.4.3
[09:12:33] Written by Torsten Seemann
[09:12:33] Obtained from https://github.com/tseemann/snippy
[09:12:33] Detected operating system: linux
[09:12:33] Enabling bundled linux tools.
[09:12:33] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:33] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:33] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:33] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:33] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:33] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:33] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:33] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:33] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:33] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:33] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:33] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:33] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:33] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:33] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:33] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:33] Found gzip - /usr/bin/gzip
[09:12:33] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:33] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:33] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:33] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:33] Wrote 439862 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:33] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:33] Using BAM RG (Read Group) ID: ESC_HA6342AA_AS.out
[09:12:33] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:33] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[M::mem_process_seqs] Processed 120868 reads in 18.626 CPU sec, 2.324 real sec
[09:12:33] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:33] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:33] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8273AA_AS.out\tSM:ESC_SA8273AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] Processed 400000 records...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:12:34] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:34] Wrote 433864 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:34] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:34] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:34] Using BAM RG (Read Group) ID: ESC_GB6943AA_AS.out
[09:12:34] Running: bwa index reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[09:12:34] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:34] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:34] Running: bwa index reference/ref.fa 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6420AA_AS.out\tSM:ESC_HA6420AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 7.951 sec; CPU: 53.670 sec
[samclip] Total SAM records 441174, removed 1963, allowed 196, passed 439211
[samclip] Header contained 3 lines
[samclip] Done.
[09:12:34] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:34] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:34] Wrote 445684 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:34] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:34] Using BAM RG (Read Group) ID: ESC_NA4052AA_AS.out
[09:12:34] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:34] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:34] Running: samtools faidx reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:34] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:34] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:34] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:34] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:34] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:34] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6342AA_AS.out\tSM:ESC_HA6342AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:12:34] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:12:34] Running: bwa mem  -Y -M -R '@RG\tID:ESC_GB6943AA_AS.out\tSM:ESC_GB6943AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:34] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:34] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:34] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:34] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:34] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4052AA_AS.out\tSM:ESC_NA4052AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:12:34] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:34] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:34] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:34] Treating reference as 'fasta' format.
[09:12:34] Will use 8 CPU cores.
[09:12:34] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta
[09:12:34] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out
[09:12:34] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out
[09:12:34] Creating reference folder: reference
[09:12:34] Extracting FASTA and GFF from reference.
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:34] Wrote 1 sequences to ref.fa
[09:12:34] Wrote 0 features to ref.gff
[09:12:34] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6418AA_AS.fasta into pseudo-reads
[M::process] read 320052 sequences (80000174 bp)...
[09:12:34] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[M::process] read 320082 sequences (80000390 bp)...
[M::process] read 320070 sequences (80000140 bp)...

stats: biallelic
          no. left trimmed                      : 4
          no. right trimmed                     : 17
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 21

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 21
       total no. variants observed              : 994
       total no. reference observed             : 0

Time elapsed: 0.01s

[09:12:34] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[M::process] read 115820 sequences (28955000 bp)...
[09:12:34] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 320802 sequences (80000490 bp)...
[09:12:34] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:34] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:35] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:35] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:35] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:35] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:35] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:35] Running: samtools index snps.bam 2>> snps.log
[09:12:35] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:35] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:35] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:35] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:35] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:35] Marked 138 heterozygous sites with 'n'
[09:12:35] Creating extra output files: BED GFF CSV TXT HTML
[09:12:35] Identified 994 variants.
[09:12:35] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out
[09:12:35] Result files:
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.aligned.fa
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.bam
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.bam.bai
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.bed
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.consensus.fa
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.consensus.subs.fa
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.csv
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.filt.vcf
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.gff
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.html
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.log
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.raw.vcf
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.subs.vcf
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.tab
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.txt
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.vcf
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.vcf.gz
[09:12:35] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out/snps.vcf.gz.csi
[09:12:35] Walltime used: 26 seconds
[09:12:35] Questionable SNP? Try the --report option to see the alignments.
[09:12:35] Done.
[Thu Sep 10 09:12:35 2020]
Finished job 20.
59 of 121 steps (49%) done

[Thu Sep 10 09:12:35 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out
    jobid: 22
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_SA8291AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta
[09:12:36] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 119
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:36] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:36] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:36] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:37] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:37] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:37] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:37] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:37] Running: samtools index snps.bam 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:37] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:37] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:37] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:37] This is snippy 4.4.3
[09:12:37] Written by Torsten Seemann
[09:12:37] Obtained from https://github.com/tseemann/snippy
[09:12:37] Detected operating system: linux
[09:12:37] Enabling bundled linux tools.
[09:12:37] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:37] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[M::process] read 124882 sequences (31175666 bp)...
[09:12:37] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:37] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:37] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:37] Marked 1228 heterozygous sites with 'n'
[09:12:37] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:37] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:37] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:37] Creating extra output files: BED GFF CSV TXT HTML
[09:12:37] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:37] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:37] Identified 119 variants.
[09:12:37] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:37] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out
[09:12:37] Result files:
[09:12:37] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.aligned.fa
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.bam
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.bam.bai
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.bed
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.consensus.fa
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.consensus.subs.fa
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.csv
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.filt.vcf
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.gff
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.html
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.log
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.raw.vcf
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.subs.vcf
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.tab
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.txt
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.vcf
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.vcf.gz
[09:12:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out/snps.vcf.gz.csi
[09:12:37] Walltime used: 18 seconds
[09:12:37] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:12:37] Done.
[Thu Sep 10 09:12:37 2020]
Finished job 60.
60 of 121 steps (50%) done

[Thu Sep 10 09:12:37 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out
    jobid: 68
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_SA8296AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta
[09:12:37] Wrote 437538 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:37] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:37] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:37] Using BAM RG (Read Group) ID: ESC_HA6418AA_AS.out
[09:12:37] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:37] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:37] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:37] Found gzip - /usr/bin/gzip
[09:12:37] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:37] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:37] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:37] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:37] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:37] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:38] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:38] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:38] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:38] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:38] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:12:38] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6418AA_AS.out\tSM:ESC_HA6418AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 323
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:38] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:38] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:38] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:38] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:38] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:38] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:38] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:38] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:38] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::process] read 320194 sequences (80000246 bp)...
[09:12:38] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:38] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:38] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:38] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:38] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:38] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:38] Treating reference as 'fasta' format.
[09:12:38] Will use 8 CPU cores.
[09:12:38] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta
[09:12:38] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out
[09:12:38] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out
[09:12:38] Creating reference folder: reference
[09:12:38] Extracting FASTA and GFF from reference.
[09:12:38] Wrote 1 sequences to ref.fa
[09:12:39] Wrote 0 features to ref.gff
[09:12:39] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8291AA_AS.fasta into pseudo-reads
[09:12:39] Marked 407 heterozygous sites with 'n'
[09:12:39] Creating extra output files: BED GFF CSV TXT HTML
[09:12:39] Identified 323 variants.
[09:12:39] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out
[09:12:39] Result files:
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.aligned.fa
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.bam
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.bam.bai
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.bed
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.consensus.fa
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.consensus.subs.fa
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.csv
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.filt.vcf
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.gff
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.html
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.log
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.raw.vcf
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.subs.vcf
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.tab
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.txt
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.vcf
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.vcf.gz
[09:12:39] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out/snps.vcf.gz.csi
[09:12:39] Walltime used: 18 seconds
[09:12:39] May the SNPs be with you.
[09:12:39] Done.
[Thu Sep 10 09:12:39 2020]
Finished job 50.
61 of 121 steps (50%) done

[Thu Sep 10 09:12:39 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out
    jobid: 8
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_SA8250AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta
[09:12:39] This is snippy 4.4.3
[09:12:39] Written by Torsten Seemann
[09:12:39] Obtained from https://github.com/tseemann/snippy
[09:12:39] Detected operating system: linux
[09:12:39] Enabling bundled linux tools.
[09:12:39] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:39] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:39] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:39] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:39] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:39] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:39] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:39] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:39] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:39] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:39] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:39] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:39] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:39] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:39] Found gzip - /usr/bin/gzip
[09:12:39] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:39] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:39] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::process] read 113794 sequences (28448500 bp)...
[09:12:39] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:39] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:39] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:40] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:40] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:40] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:40] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:40] Treating reference as 'fasta' format.
[09:12:40] Will use 8 CPU cores.
[09:12:40] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta
[09:12:40] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out
[09:12:40] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out
[09:12:40] Creating reference folder: reference
[09:12:40] Extracting FASTA and GFF from reference.
[09:12:40] Wrote 1 sequences to ref.fa
[09:12:40] Wrote 0 features to ref.gff
[09:12:40] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8296AA_AS.fasta into pseudo-reads
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:41] This is snippy 4.4.3
[09:12:41] Written by Torsten Seemann
[09:12:41] Obtained from https://github.com/tseemann/snippy
[09:12:41] Detected operating system: linux
[09:12:41] Enabling bundled linux tools.
[09:12:41] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:41] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:41] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:41] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:41] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:41] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:41] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:41] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:41] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:41] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:41] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:41] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:41] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:41] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:41] Found gzip - /usr/bin/gzip
[09:12:41] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:41] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:41] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:41] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:41] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:41] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:41] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 320052 reads in 38.636 CPU sec, 7.096 real sec
[09:12:41] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:41] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:41] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:41] Treating reference as 'fasta' format.
[09:12:41] Will use 8 CPU cores.
[09:12:41] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta
[09:12:41] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out
[09:12:41] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out
[09:12:41] Creating reference folder: reference
[09:12:41] Extracting FASTA and GFF from reference.
[09:12:41] Wrote 1 sequences to ref.fa
[09:12:41] Wrote 0 features to ref.gff
[09:12:41] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_SA8250AA_AS.fasta into pseudo-reads
[09:12:42] Wrote 433918 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:42] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:42] Using BAM RG (Read Group) ID: ESC_SA8291AA_AS.out
[09:12:42] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:42] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 100000 records...
[09:12:42] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:42] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:42] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:42] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:42] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8291AA_AS.out\tSM:ESC_SA8291AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320158 sequences (80000120 bp)...
[M::mem_process_seqs] Processed 320802 reads in 40.220 CPU sec, 8.707 real sec
[M::process] read 113760 sequences (28440000 bp)...
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 115820 reads in 16.292 CPU sec, 2.179 real sec
[09:12:44] Wrote 433954 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:44] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:44] Using BAM RG (Read Group) ID: ESC_SA8296AA_AS.out
[09:12:44] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:44] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 300000 records...
[09:12:44] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:44] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:44] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:44] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:44] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8296AA_AS.out\tSM:ESC_SA8296AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] Processed 400000 records...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Processed 100000 records...
[samclip] Found 1 sequences in reference/ref.fa.fai
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8273AA_AS.out\tSM:ESC_SA8273AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.865 sec; CPU: 55.599 sec
[samclip] Total SAM records 436091, removed 3477, allowed 116, passed 432614
[samclip] Header contained 3 lines
[samclip] Done.
[09:12:44] Wrote 430510 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:44] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:44] Using BAM RG (Read Group) ID: ESC_SA8250AA_AS.out
[09:12:44] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:12:44] Running: bwa index reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 320184 sequences (80000208 bp)...
[09:12:45] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:45] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:45] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:12:45] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:12:45] Running: bwa mem  -Y -M -R '@RG\tID:ESC_SA8250AA_AS.out\tSM:ESC_SA8250AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320000 sequences (80000000 bp)...
[M::mem_process_seqs] Processed 124882 reads in 15.882 CPU sec, 2.134 real sec
[samclip] Processed 200000 records...
[M::process] read 113770 sequences (28442500 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[M::mem_process_seqs] Processed 320070 reads in 40.983 CPU sec, 12.413 real sec
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4052AA_AS.out\tSM:ESC_NA4052AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.941 sec; CPU: 56.892 sec
[samclip] Total SAM records 445837, removed 1766, allowed 141, passed 444071
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[09:12:47] Running: samtools index snps.bam 2>> snps.log
[09:12:48] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:48] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 200000 records...
[09:12:48] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 30
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:48] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:48] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:49] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:49] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:49] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:49] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:49] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:49] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:49] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:49] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:49] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:49] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 113794 reads in 11.042 CPU sec, 2.443 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 117344 sequences (29332360 bp)...
[09:12:49] Marked 580 heterozygous sites with 'n'
[09:12:49] Creating extra output files: BED GFF CSV TXT HTML
[09:12:49] Identified 30 variants.
[09:12:49] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out
[09:12:49] Result files:
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.aligned.fa
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.bam
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.bam.bai
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.bed
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.consensus.fa
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.consensus.subs.fa
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.csv
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.filt.vcf
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.gff
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.html
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.log
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.raw.vcf
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.subs.vcf
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.tab
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.txt
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.vcf
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.vcf.gz
[09:12:49] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out/snps.vcf.gz.csi
[09:12:49] Walltime used: 22 seconds
[09:12:49] Wishing you a life free of homopolymer errors.
[09:12:49] Done.
[Thu Sep 10 09:12:49 2020]
Finished job 94.
62 of 121 steps (51%) done

[Thu Sep 10 09:12:49 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out
    jobid: 88
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4053AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_GB6943AA_AS.out\tSM:ESC_GB6943AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 15.920 sec; CPU: 52.555 sec
[samclip] Total SAM records 434028, removed 1424, allowed 99, passed 432604
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 119780 sequences (29941832 bp)...
[M::mem_process_seqs] Processed 320158 reads in 42.890 CPU sec, 7.783 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:51] Running: samtools index snps.bam 2>> snps.log
[09:12:51] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:51] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:51] This is snippy 4.4.3
[09:12:51] Written by Torsten Seemann
[09:12:51] Obtained from https://github.com/tseemann/snippy
[09:12:51] Detected operating system: linux
[09:12:51] Enabling bundled linux tools.
[09:12:51] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:51] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:51] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:51] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:51] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:51] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:51] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[samclip] Processed 100000 records...
[09:12:51] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:52] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:52] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:52] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:52] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:52] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:52] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:52] Found gzip - /usr/bin/gzip
[09:12:52] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:52] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:52] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:52] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:52] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:52] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:52] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:12:52] Checking version: java -version is >= 1.8 - ok, have 1.8
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 328
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:52] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:52] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:12:52] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[samclip] Processed 200000 records...
[09:12:52] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:52] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:52] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:52] Treating reference as 'fasta' format.
[09:12:52] Will use 8 CPU cores.
[09:12:52] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta
[09:12:52] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out
[09:12:52] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out
[09:12:52] Creating reference folder: reference
[09:12:52] Extracting FASTA and GFF from reference.
[09:12:52] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:52] Wrote 1 sequences to ref.fa
[09:12:52] Wrote 0 features to ref.gff
[09:12:52] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4053AA_AS.fasta into pseudo-reads
[09:12:52] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:52] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:52] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[M::mem_process_seqs] Processed 113760 reads in 12.397 CPU sec, 1.691 real sec
[09:12:52] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[M::process] read 110510 sequences (27627500 bp)...
[09:12:52] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:52] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:52] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:52] Running: samtools index snps.bam 2>> snps.log
[09:12:52] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 300000 records...
[09:12:53] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:53] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:53] Marked 216 heterozygous sites with 'n'
[09:12:53] Creating extra output files: BED GFF CSV TXT HTML
[samclip] Processed 400000 records...
[09:12:53] Identified 328 variants.
[09:12:53] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out
[09:12:53] Result files:
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.aligned.fa
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.bam
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.bam.bai
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.bed
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.consensus.fa
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.consensus.subs.fa
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.csv
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.filt.vcf
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.gff
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.html
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.log
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.raw.vcf
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.subs.vcf
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.tab
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.txt
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.vcf
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.vcf.gz
[09:12:53] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out/snps.vcf.gz.csi
[09:12:53] Walltime used: 24 seconds
[09:12:53] Wishing you a life free of homopolymer errors.
[09:12:53] Done.
[Thu Sep 10 09:12:53 2020]
Finished job 62.
63 of 121 steps (52%) done

[Thu Sep 10 09:12:53 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out
    jobid: 16
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3992AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8291AA_AS.out\tSM:ESC_SA8291AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.543 sec; CPU: 55.981 sec
[samclip] Total SAM records 434058, removed 1577, allowed 101, passed 432481
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 320184 reads in 42.666 CPU sec, 8.359 real sec
[09:12:53] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 307
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:12:53] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:53] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:53] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[samclip] Processed 100000 records...
[09:12:54] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:54] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:54] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:54] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:54] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:54] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 320082 reads in 34.781 CPU sec, 19.534 real sec
[09:12:54] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:54] Running: rm -f fake_reads\.fq 2>> snps.log
[09:12:54] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:54] Marked 190 heterozygous sites with 'n'
[09:12:55] Creating extra output files: BED GFF CSV TXT HTML
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:55] Identified 307 variants.
[09:12:55] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out
[09:12:55] Result files:
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.aligned.fa
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.bam
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.bam.bai
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.bed
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.consensus.fa
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.consensus.subs.fa
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.csv
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.filt.vcf
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.gff
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.html
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.log
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.raw.vcf
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.subs.vcf
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.tab
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.txt
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.vcf
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.vcf.gz
[09:12:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out/snps.vcf.gz.csi
[09:12:55] Walltime used: 25 seconds
[09:12:55] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:12:55] Done.
[Thu Sep 10 09:12:55 2020]
Finished job 92.
64 of 121 steps (53%) done

[Thu Sep 10 09:12:55 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out
    jobid: 70
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3975AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta
[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 320194 reads in 33.999 CPU sec, 16.659 real sec
[M::mem_process_seqs] Processed 113770 reads in 12.293 CPU sec, 1.840 real sec
[samclip] Processed 300000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 119780 reads in 13.452 CPU sec, 2.155 real sec
[samclip] Processed 400000 records...
[samclip] Processed 100000 records...
[samclip] Processed 100000 records...
[09:12:56] Wrote 440556 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:12:56] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:12:56] Using BAM RG (Read Group) ID: ESC_NA4053AA_AS.out
[09:12:56] Running: samtools faidx reference/ref.fa 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8296AA_AS.out\tSM:ESC_SA8296AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.912 sec; CPU: 55.512 sec
[samclip] Total SAM records 434094, removed 1546, allowed 130, passed 432548
[samclip] Header contained 3 lines
[samclip] Done.
[09:12:56] Running: bwa index reference/ref.fa 2>> snps.log
[09:12:56] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:12:56] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:12:56] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:56] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] Processed 200000 records...
[09:12:56] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4053AA_AS.out\tSM:ESC_NA4053AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:12:56] This is snippy 4.4.3
[09:12:56] Written by Torsten Seemann
[09:12:56] Obtained from https://github.com/tseemann/snippy
[09:12:56] Detected operating system: linux
[09:12:56] Enabling bundled linux tools.
[09:12:56] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:56] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:56] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:56] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:56] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:56] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:56] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:56] Running: samtools index snps.bam 2>> snps.log
[09:12:56] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:56] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:56] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:56] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:56] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:56] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:56] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[samclip] Processed 300000 records...
[09:12:56] Found gzip - /usr/bin/gzip
[09:12:56] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:56] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:56] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:57] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:57] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:57] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[samclip] Processed 200000 records...
[09:12:57] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::mem_process_seqs] Processed 117344 reads in 12.265 CPU sec, 1.913 real sec
[09:12:57] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::process] read 320066 sequences (80000282 bp)...
[09:12:57] Checking version: java -version is >= 1.8 - ok, have 1.8
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[09:12:57] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:57] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:57] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:57] Treating reference as 'fasta' format.
[09:12:57] Will use 8 CPU cores.
[09:12:57] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta
[09:12:57] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out
[09:12:57] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out
[09:12:57] Creating reference folder: reference
[09:12:57] Extracting FASTA and GFF from reference.
[09:12:57] Wrote 1 sequences to ref.fa
[09:12:57] Wrote 0 features to ref.gff
[09:12:57] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3992AA_AS.fasta into pseudo-reads
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6342AA_AS.out\tSM:ESC_HA6342AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 23.247 sec; CPU: 49.084 sec
[samclip] Total SAM records 440019, removed 2473, allowed 162, passed 437546
[samclip] Header contained 3 lines
[samclip] Done.
[09:12:57] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 313
       total no. reference observed             : 0

Time elapsed: 0.00s

[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:57] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:12:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 300000 records...
[M::process] read 120490 sequences (30114358 bp)...
[09:12:57] This is snippy 4.4.3
[09:12:57] Written by Torsten Seemann
[09:12:57] Obtained from https://github.com/tseemann/snippy
[09:12:57] Detected operating system: linux
[09:12:57] Enabling bundled linux tools.
[09:12:57] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:57] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:57] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:57] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:57] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:57] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:57] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:57] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:57] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:12:57] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:57] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:12:57] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:12:57] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:12:57] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:12:57] Found gzip - /usr/bin/gzip
[09:12:57] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:12:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:12:57] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:12:57] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:12:57] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:12:57] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:12:57] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:12:57] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:12:57] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:12:57] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:12:57] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:12:57] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:12:57] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:12:57] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:12:57] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:12:57] Running: rm -f fake_reads\.fq 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:58] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:12:58] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:12:58] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:12:58] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:12:58] Treating reference as 'fasta' format.
[09:12:58] Will use 8 CPU cores.
[09:12:58] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta
[09:12:58] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out
[09:12:58] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out
[09:12:58] Creating reference folder: reference
[09:12:58] Extracting FASTA and GFF from reference.
[09:12:58] Wrote 1 sequences to ref.fa
[09:12:58] Wrote 0 features to ref.gff
[09:12:58] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3975AA_AS.fasta into pseudo-reads
[samclip] Processed 400000 records...
[09:12:58] Marked 138 heterozygous sites with 'n'
[09:12:58] Creating extra output files: BED GFF CSV TXT HTML
[09:12:58] Identified 313 variants.
[09:12:58] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out
[09:12:58] Result files:
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.aligned.fa
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.bam
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.bam.bai
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.bed
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.consensus.fa
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.consensus.subs.fa
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.csv
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.filt.vcf
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.gff
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.html
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.log
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.raw.vcf
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.subs.vcf
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.tab
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.txt
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.vcf
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.vcf.gz
[09:12:58] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out/snps.vcf.gz.csi
[09:12:58] Walltime used: 21 seconds
[09:12:58] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:12:58] Done.
[Thu Sep 10 09:12:58 2020]
Finished job 22.
65 of 121 steps (54%) done

[Thu Sep 10 09:12:58 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out
    jobid: 64
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4066AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6418AA_AS.out\tSM:ESC_HA6418AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 20.231 sec; CPU: 47.096 sec
[samclip] Total SAM records 437703, removed 2119, allowed 179, passed 435584
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 320000 reads in 47.976 CPU sec, 13.370 real sec
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:12:59] Running: samtools index snps.bam 2>> snps.log
[09:12:59] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:12:59] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:12:59] This is snippy 4.4.3
[09:12:59] Written by Torsten Seemann
[09:12:59] Obtained from https://github.com/tseemann/snippy
[09:12:59] Detected operating system: linux
[09:12:59] Enabling bundled linux tools.
[09:12:59] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:12:59] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:12:59] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:12:59] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:12:59] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:12:59] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:12:59] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:12:59] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:12:59] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:12:59] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:12:59] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[samclip] Processed 100000 records...
[09:12:59] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:00] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:00] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:00] Found gzip - /usr/bin/gzip
[09:13:00] Running: samtools index snps.bam 2>> snps.log
[09:13:00] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:00] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:00] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:00] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:00] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:00] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:00] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:00] Checking version: java -version is >= 1.8 - ok, have 1.8
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 308
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:00] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:00] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[samclip] Processed 200000 records...
[09:13:00] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:00] Wrote 432980 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:00] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:00] Using BAM RG (Read Group) ID: ESC_NA3992AA_AS.out
[09:13:00] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:00] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:00] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:00] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:00] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:00] Treating reference as 'fasta' format.
[09:13:00] Will use 8 CPU cores.
[09:13:00] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta
[09:13:00] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out
[09:13:00] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out
[09:13:00] Creating reference folder: reference
[09:13:00] Extracting FASTA and GFF from reference.
[09:13:00] Wrote 1 sequences to ref.fa
[09:13:00] Wrote 0 features to ref.gff
[09:13:00] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4066AA_AS.fasta into pseudo-reads
[09:13:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:00] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:01] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:01] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:01] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:13:01] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::mem_process_seqs] Processed 110510 reads in 18.018 CPU sec, 2.366 real sec
[09:13:01] Running: samtools index snps.bam 2>> snps.log
[09:13:01] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3992AA_AS.out\tSM:ESC_NA3992AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:13:01] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:01] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai

stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 20
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:01] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:01] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:01] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:01] Wrote 437160 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:01] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:01] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:01] Using BAM RG (Read Group) ID: ESC_NA3975AA_AS.out
[09:13:01] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:01] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:01] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 400000 records...
[09:13:01] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:01] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:01] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:01] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:01] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:01] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:01] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:01] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3975AA_AS.out\tSM:ESC_NA3975AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:13:01] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:01] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_SA8250AA_AS.out\tSM:ESC_SA8250AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 16.444 sec; CPU: 66.518 sec
[samclip] Total SAM records 430682, removed 2726, allowed 146, passed 427956
[samclip] Header contained 3 lines
[samclip] Done.
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:01] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:01] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:01] Marked 93 heterozygous sites with 'n'
[09:13:01] Creating extra output files: BED GFF CSV TXT HTML
[09:13:01] Identified 308 variants.
[M::process] read 320096 sequences (80000146 bp)...
[09:13:01] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out
[09:13:01] Result files:
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.aligned.fa
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.bam
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.bam.bai
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.bed
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.consensus.fa
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.consensus.subs.fa
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.csv
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.filt.vcf
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.gff
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.html
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.log
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.raw.vcf
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.subs.vcf
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.tab
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.txt
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.vcf
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.vcf.gz
[09:13:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out/snps.vcf.gz.csi
[09:13:01] Walltime used: 22 seconds
[09:13:01] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:13:01] Done.
[Thu Sep 10 09:13:01 2020]
Finished job 68.
66 of 121 steps (55%) done

[Thu Sep 10 09:13:01 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out
    jobid: 34
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_IA0811AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta
[09:13:02] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[M::process] read 320444 sequences (80000032 bp)...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:02] Marked 467 heterozygous sites with 'n'
[M::process] read 112884 sequences (28217298 bp)...

stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 23
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:02] Creating extra output files: BED GFF CSV TXT HTML
[09:13:02] Identified 20 variants.
[09:13:02] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out
[09:13:02] Result files:
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.aligned.fa
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.bam
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.bam.bai
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.bed
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.consensus.fa
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.consensus.subs.fa
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.csv
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.filt.vcf
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.gff
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.html
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.log
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.raw.vcf
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.subs.vcf
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.tab
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.txt
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.vcf
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.vcf.gz
[09:13:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out/snps.vcf.gz.csi
[09:13:02] Walltime used: 33 seconds
[09:13:02] Questionable SNP? Try the --report option to see the alignments.
[09:13:02] Done.
[Thu Sep 10 09:13:02 2020]
Finished job 56.
67 of 121 steps (55%) done

[Thu Sep 10 09:13:02 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out
    jobid: 98
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4056AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta
[09:13:02] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:02] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:02] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:03] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:03] Running: bcftools index -f snps.vcf.gz 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:03] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:03] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:03] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:03] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:03] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:03] This is snippy 4.4.3
[09:13:03] Written by Torsten Seemann
[09:13:03] Obtained from https://github.com/tseemann/snippy
[09:13:03] Detected operating system: linux
[09:13:03] Enabling bundled linux tools.
[09:13:03] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:03] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:03] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:03] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:03] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:03] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:03] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:03] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:03] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:03] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:03] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:03] This is snippy 4.4.3
[09:13:03] Written by Torsten Seemann
[09:13:03] Obtained from https://github.com/tseemann/snippy
[09:13:03] Detected operating system: linux
[09:13:03] Enabling bundled linux tools.
[09:13:03] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:03] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:03] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:03] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:03] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:03] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:03] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:03] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:03] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:03] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:03] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:03] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:03] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:03] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:03] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:03] Found gzip - /usr/bin/gzip
[09:13:03] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:03] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:03] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:03] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:03] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:03] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:03] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:04] Found gzip - /usr/bin/gzip
[09:13:04] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:04] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:04] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:04] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:04] Marked 504 heterozygous sites with 'n'
[09:13:04] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:04] Creating extra output files: BED GFF CSV TXT HTML
[09:13:04] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:04] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:04] Identified 23 variants.
[09:13:04] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out
[09:13:04] Result files:
[09:13:04] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.aligned.fa
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.bam
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.bam.bai
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.bed
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.consensus.fa
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.consensus.subs.fa
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.csv
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.filt.vcf
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.gff
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.html
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.log
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.raw.vcf
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.subs.vcf
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.tab
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.txt
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.vcf
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.vcf.gz
[09:13:04] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out/snps.vcf.gz.csi
[09:13:04] Walltime used: 31 seconds
[09:13:04] May the SNPs be with you.
[09:13:04] Done.
[09:13:04] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[Thu Sep 10 09:13:04 2020]
Finished job 6.
68 of 121 steps (56%) done

[Thu Sep 10 09:13:04 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out
    jobid: 44
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3982AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta
[09:13:04] Wrote 433918 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:04] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:04] Using BAM RG (Read Group) ID: ESC_NA4066AA_AS.out
[09:13:04] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:04] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:04] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:04] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:04] Running: samtools index snps.bam 2>> snps.log
[09:13:04] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:04] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:04] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:04] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:04] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4066AA_AS.out\tSM:ESC_NA4066AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:04] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:04] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:04] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:04] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:04] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:04] Treating reference as 'fasta' format.
[09:13:04] Will use 8 CPU cores.
[09:13:04] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta
[09:13:04] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out
[09:13:04] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out
[09:13:04] Creating reference folder: reference
[09:13:04] Extracting FASTA and GFF from reference.
[09:13:04] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:04] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:04] Treating reference as 'fasta' format.
[09:13:04] Will use 8 CPU cores.
[09:13:04] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta
[09:13:04] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out
[09:13:04] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out
[09:13:04] Creating reference folder: reference
[09:13:04] Wrote 1 sequences to ref.fa
[09:13:04] Wrote 0 features to ref.gff
[09:13:04] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4056AA_AS.fasta into pseudo-reads
[09:13:04] Extracting FASTA and GFF from reference.
[09:13:04] Wrote 1 sequences to ref.fa
[09:13:04] Wrote 0 features to ref.gff
[09:13:04] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA0811AA_AS.fasta into pseudo-reads
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:04] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::process] read 320108 sequences (80000032 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:05] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 4
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 4

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 4
       total no. variants observed              : 28
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:05] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:05] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:05] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:05] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:05] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:05] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::process] read 116716 sequences (29128610 bp)...
[09:13:05] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:05] This is snippy 4.4.3
[09:13:05] Written by Torsten Seemann
[09:13:05] Obtained from https://github.com/tseemann/snippy
[09:13:05] Detected operating system: linux
[09:13:05] Enabling bundled linux tools.
[09:13:05] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:05] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:05] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:05] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:05] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:05] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:05] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:05] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:05] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:06] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:06] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:06] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:06] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:06] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:06] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:06] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:06] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:06] Found gzip - /usr/bin/gzip
[09:13:06] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:06] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:06] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:06] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:06] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:06] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:06] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:06] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:06] Marked 333 heterozygous sites with 'n'
[09:13:06] Creating extra output files: BED GFF CSV TXT HTML
[09:13:06] Identified 28 variants.
[09:13:06] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out
[09:13:06] Result files:
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.aligned.fa
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.bam
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.bam.bai
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.bed
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.consensus.fa
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.consensus.subs.fa
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.csv
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.filt.vcf
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.gff
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.html
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.log
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.raw.vcf
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.subs.vcf
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.tab
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.txt
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.vcf
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.vcf.gz
[09:13:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out/snps.vcf.gz.csi
[09:13:06] Walltime used: 25 seconds
[09:13:06] May the SNPs be with you.
[09:13:06] Done.
[Thu Sep 10 09:13:06 2020]
Finished job 8.
69 of 121 steps (57%) done

[Thu Sep 10 09:13:06 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out
    jobid: 10
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HA6413AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta
[M::mem_process_seqs] Processed 320066 reads in 59.175 CPU sec, 9.819 real sec
[09:13:07] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:07] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:07] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:07] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:07] Treating reference as 'fasta' format.
[09:13:07] Will use 8 CPU cores.
[09:13:07] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta
[09:13:07] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out
[09:13:07] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out
[09:13:07] Creating reference folder: reference
[09:13:07] Extracting FASTA and GFF from reference.
[09:13:07] Wrote 1 sequences to ref.fa
[09:13:07] Wrote 0 features to ref.gff
[09:13:07] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3982AA_AS.fasta into pseudo-reads
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[09:13:08] Wrote 433482 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:08] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:08] Using BAM RG (Read Group) ID: ESC_IA0811AA_AS.out
[09:13:08] Wrote 436180 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:08] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:08] Using BAM RG (Read Group) ID: ESC_NA4056AA_AS.out
[09:13:08] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:08] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:08] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:08] Running: bwa index reference/ref.fa 2>> snps.log
[M::mem_process_seqs] Processed 120490 reads in 14.223 CPU sec, 1.862 real sec
[M::mem_process_seqs] Processed 320096 reads in 41.982 CPU sec, 6.929 real sec
[09:13:08] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:08] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:09] Running: ln -sf reference/ref.fa . 2>> snps.log
[samclip] Processed 300000 records...
[09:13:09] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:09] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:09] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:09] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:09] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:09] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4056AA_AS.out\tSM:ESC_NA4056AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::process] read 113810 sequences (28449800 bp)...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:09] Running: bwa mem  -Y -M -R '@RG\tID:ESC_IA0811AA_AS.out\tSM:ESC_IA0811AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] Processed 400000 records...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4053AA_AS.out\tSM:ESC_NA4053AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.827 sec; CPU: 74.103 sec
[samclip] Total SAM records 440694, removed 1590, allowed 131, passed 439104
[samclip] Header contained 3 lines
[samclip] Done.
[M::process] read 321522 sequences (80000022 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 320332 sequences (80000374 bp)...
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 112884 reads in 11.483 CPU sec, 1.551 real sec
[M::process] read 113150 sequences (28263022 bp)...
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[09:13:11] Wrote 430500 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:11] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:11] Using BAM RG (Read Group) ID: ESC_NA3982AA_AS.out
[09:13:11] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:11] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 400000 records...
[09:13:11] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:11] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:11] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3992AA_AS.out\tSM:ESC_NA3992AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.469 sec; CPU: 54.162 sec
[samclip] Total SAM records 433118, removed 1445, allowed 112, passed 431673
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:11] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:11] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3982AA_AS.out\tSM:ESC_NA3982AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:12] Running: samtools index snps.bam 2>> snps.log
[M::process] read 320078 sequences (80000386 bp)...
[09:13:12] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::process] read 110422 sequences (27601220 bp)...
[09:13:12] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::mem_process_seqs] Processed 320444 reads in 39.533 CPU sec, 10.848 real sec
[09:13:13] This is snippy 4.4.3
[09:13:13] Written by Torsten Seemann
[09:13:13] Obtained from https://github.com/tseemann/snippy
[09:13:13] Detected operating system: linux
[09:13:13] Enabling bundled linux tools.
[09:13:13] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:13] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:13] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:13] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:13] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:13] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:13] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:13] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:13] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:13] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:13] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:13] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:13] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:13] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:13] Found gzip - /usr/bin/gzip
[09:13:13] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:13] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:14] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:15] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:15] Checking version: samtools --version is >= 1.7 - ok, have 1.9
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:15] Checking version: bcftools --version is >= 1.7 - ok, have 1.9

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 323
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:15] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:15] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:15] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:15] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 116716 reads in 13.781 CPU sec, 2.494 real sec
[samclip] Processed 100000 records...
[09:13:15] Running: samtools index snps.bam 2>> snps.log
[09:13:15] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:15] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:15] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:15] Treating reference as 'fasta' format.
[09:13:15] Will use 8 CPU cores.
[09:13:15] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta
[09:13:15] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out
[09:13:15] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out
[09:13:15] Creating reference folder: reference
[09:13:15] Extracting FASTA and GFF from reference.
[09:13:15] Wrote 1 sequences to ref.fa
[09:13:15] Wrote 0 features to ref.gff
[09:13:15] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6413AA_AS.fasta into pseudo-reads
[09:13:15] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[samclip] Processed 200000 records...
[09:13:15] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:15] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::mem_process_seqs] Processed 320108 reads in 39.089 CPU sec, 10.795 real sec
[09:13:15] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:15] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:15] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:13:16] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:16] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:16] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:16] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:16] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:16] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3975AA_AS.out\tSM:ESC_NA3975AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.990 sec; CPU: 54.172 sec
[samclip] Total SAM records 437323, removed 1394, allowed 168, passed 435929
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:16] Marked 227 heterozygous sites with 'n'
[09:13:16] Creating extra output files: BED GFF CSV TXT HTML
[09:13:16] Identified 323 variants.
[09:13:16] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:16] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out
[09:13:16] Result files:
[samclip] Processed 100000 records...
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.aligned.fa
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.bam
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.bam.bai
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.bed
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.consensus.fa
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.consensus.subs.fa
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.csv
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.filt.vcf
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.gff
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.html
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.log
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.raw.vcf
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.subs.vcf
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.tab
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.txt
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.vcf
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.vcf.gz
[09:13:16] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out/snps.vcf.gz.csi
[09:13:16] Walltime used: 25 seconds
[09:13:16] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:13:16] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 317
       total no. reference observed             : 0

Time elapsed: 0.00s

[Thu Sep 10 09:13:16 2020]
Finished job 88.
70 of 121 steps (58%) done
[09:13:16] Running: cp snps.filt.vcf snps.vcf 2>> snps.log

[Thu Sep 10 09:13:16 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out
    jobid: 48
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4071AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta
[09:13:16] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:16] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:17] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:17] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:17] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:17] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:17] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:17] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:17] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:17] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:17] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:17] Marked 170 heterozygous sites with 'n'
[09:13:17] Creating extra output files: BED GFF CSV TXT HTML
[09:13:17] Identified 317 variants.
[09:13:17] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out
[09:13:17] Result files:
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.aligned.fa
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.bam
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.bam.bai
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.bed
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.consensus.fa
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.consensus.subs.fa
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.csv
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.filt.vcf
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.gff
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.html
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.log
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.raw.vcf
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.subs.vcf
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.tab
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.txt
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.vcf
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.vcf.gz
[09:13:17] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out/snps.vcf.gz.csi
[09:13:17] Walltime used: 21 seconds
[09:13:17] Wishing you a life free of homopolymer errors.
[09:13:17] Done.
[M::mem_process_seqs] Processed 320332 reads in 39.998 CPU sec, 7.741 real sec
[Thu Sep 10 09:13:17 2020]
Finished job 16.
71 of 121 steps (59%) done

[Thu Sep 10 09:13:17 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out
    jobid: 102
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4061AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::mem_process_seqs] Processed 113810 reads in 17.799 CPU sec, 2.327 real sec
[samclip] Processed 200000 records...
[samclip] Processed 100000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:18] This is snippy 4.4.3
[09:13:18] Written by Torsten Seemann
[09:13:18] Obtained from https://github.com/tseemann/snippy
[09:13:18] Detected operating system: linux
[09:13:18] Enabling bundled linux tools.
[09:13:18] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:18] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:18] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:18] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:18] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:18] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:18] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:18] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[samclip] Processed 300000 records...
[09:13:18] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:18] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:18] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:18] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:18] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:18] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:18] Found gzip - /usr/bin/gzip
[09:13:18] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:18] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:18] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[samclip] Processed 200000 records...
[09:13:18] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[M::process] read 114658 sequences (28559392 bp)...
[09:13:19] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:19] Wrote 431622 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:19] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:19] Using BAM RG (Read Group) ID: ESC_HA6413AA_AS.out
[09:13:19] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:19] Running: samtools faidx reference/ref.fa 2>> snps.log
[samclip] Processed 400000 records...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:19] Running: samtools index snps.bam 2>> snps.log
[09:13:19] Running: bwa index reference/ref.fa 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4066AA_AS.out\tSM:ESC_NA4066AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.849 sec; CPU: 57.608 sec
[samclip] Total SAM records 434269, removed 2366, allowed 253, passed 431903
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 113150 reads in 13.169 CPU sec, 1.859 real sec
[09:13:19] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:19] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:19] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:19] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:19] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:13:19] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6413AA_AS.out\tSM:ESC_HA6413AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:13:19] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:19] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:19] This is snippy 4.4.3
[09:13:19] Written by Torsten Seemann
[09:13:19] Obtained from https://github.com/tseemann/snippy
[09:13:19] Detected operating system: linux
[09:13:19] Enabling bundled linux tools.
[09:13:19] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:19] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:19] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:19] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:19] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:19] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:19] Treating reference as 'fasta' format.
[09:13:19] Will use 8 CPU cores.
[09:13:19] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta
[09:13:19] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out
[09:13:19] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out
[09:13:19] Creating reference folder: reference
[09:13:19] Extracting FASTA and GFF from reference.
[09:13:19] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:19] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:19] Wrote 1 sequences to ref.fa
[09:13:19] Wrote 0 features to ref.gff
[09:13:19] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4071AA_AS.fasta into pseudo-reads
[09:13:19] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:19] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:19] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:19] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:19] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:19] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:19] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:19] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:19] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:19] Found gzip - /usr/bin/gzip
[09:13:19] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:19] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:19] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[samclip] Processed 400000 records...
[09:13:19] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:19] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:19] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:19] Checking version: freebayes --version is >= 1.1 - ok, have 1.3

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 319
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:20] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 320068 sequences (80000436 bp)...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_IA0811AA_AS.out\tSM:ESC_IA0811AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.725 sec; CPU: 53.814 sec
[samclip] Total SAM records 433560, removed 1667, allowed 138, passed 431893
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:20] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:20] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:20] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:20] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:20] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:20] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:20] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:20] Treating reference as 'fasta' format.
[09:13:20] Will use 8 CPU cores.
[09:13:20] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta
[09:13:20] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out
[09:13:20] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out
[09:13:20] Creating reference folder: reference
[09:13:20] Extracting FASTA and GFF from reference.
[09:13:20] Wrote 1 sequences to ref.fa
[09:13:20] Wrote 0 features to ref.gff
[09:13:20] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4061AA_AS.fasta into pseudo-reads
[09:13:20] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:20] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:20] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:20] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:20] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:20] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:20] Marked 178 heterozygous sites with 'n'
[09:13:20] Creating extra output files: BED GFF CSV TXT HTML
[09:13:20] Identified 319 variants.
[09:13:20] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out
[09:13:20] Result files:
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.aligned.fa
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.bam
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.bam.bai
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.bed
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.consensus.fa
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.consensus.subs.fa
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.csv
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.filt.vcf
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.gff
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.html
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.log
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.raw.vcf
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.subs.vcf
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.tab
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.txt
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.vcf
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.vcf.gz
[09:13:20] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out/snps.vcf.gz.csi
[09:13:20] Walltime used: 23 seconds
[09:13:20] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:13:20] Done.
[Thu Sep 10 09:13:20 2020]
Finished job 70.
72 of 121 steps (60%) done

[Thu Sep 10 09:13:20 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out
    jobid: 72
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3973AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:21] Running: samtools index snps.bam 2>> snps.log
[09:13:21] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:21] This is snippy 4.4.3
[09:13:21] Written by Torsten Seemann
[09:13:21] Obtained from https://github.com/tseemann/snippy
[09:13:21] Detected operating system: linux
[09:13:21] Enabling bundled linux tools.
[M::mem_process_seqs] Processed 320078 reads in 48.729 CPU sec, 9.363 real sec
[09:13:21] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:21] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:21] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:21] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:21] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:21] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:21] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:22] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:22] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:22] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:22] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:22] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:22] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:22] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:22] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:22] Found gzip - /usr/bin/gzip
[09:13:22] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:22] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:22] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::process] read 111554 sequences (27888200 bp)...
[09:13:22] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:22] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:22] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:22] Running: samtools index snps.bam 2>> snps.log
[09:13:22] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:22] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:22] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[samclip] Processed 100000 records...
[09:13:22] Checking version: java -version is >= 1.8 - ok, have 1.8

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 9
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 10

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 10
       total no. variants observed              : 334
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:22] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:23] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:23] Wrote 428844 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:23] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:23] Using BAM RG (Read Group) ID: ESC_NA4071AA_AS.out
[09:13:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:23] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:23] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:23] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:23] Treating reference as 'fasta' format.
[09:13:23] Will use 8 CPU cores.
[09:13:23] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta
[09:13:23] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out
[09:13:23] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out
[09:13:23] Creating reference folder: reference
[09:13:23] Extracting FASTA and GFF from reference.
[09:13:23] Wrote 1 sequences to ref.fa
[09:13:23] Wrote 0 features to ref.gff
[09:13:23] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3973AA_AS.fasta into pseudo-reads
[09:13:23] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:23] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 200000 records...
[09:13:23] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:23] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:23] Running: bcftools index -f snps.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 25
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:23] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[M::mem_process_seqs] Processed 110422 reads in 15.377 CPU sec, 1.964 real sec
[09:13:23] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:23] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:23] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:23] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:23] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:23] Wrote 432188 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:23] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:23] Using BAM RG (Read Group) ID: ESC_NA4061AA_AS.out
[09:13:23] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:23] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:23] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:23] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:23] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4071AA_AS.out\tSM:ESC_NA4071AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:23] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:23] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:23] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:23] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:23] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:23] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:23] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:23] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:13:23] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:24] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4061AA_AS.out\tSM:ESC_NA4061AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::mem_process_seqs] Processed 321522 reads in 39.255 CPU sec, 14.338 real sec
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:24] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:24] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:24] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:24] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[M::process] read 320024 sequences (80000308 bp)...
[09:13:24] Marked 533 heterozygous sites with 'n'
[09:13:24] Creating extra output files: BED GFF CSV TXT HTML
[09:13:24] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:24] Identified 334 variants.
[09:13:24] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out
[09:13:24] Result files:
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.aligned.fa
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.bam
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.bam.bai
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.bed
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.consensus.fa
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.consensus.subs.fa
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.csv
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.filt.vcf
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.gff
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.html
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.log
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.raw.vcf
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.subs.vcf
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.tab
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.txt
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.vcf
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.vcf.gz
[09:13:24] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out/snps.vcf.gz.csi
[09:13:24] Walltime used: 25 seconds
[09:13:24] Wishing you a life free of homopolymer errors.
[09:13:24] Done.
[09:13:24] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[Thu Sep 10 09:13:24 2020]
Finished job 64.
73 of 121 steps (60%) done

[Thu Sep 10 09:13:24 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out
    jobid: 42
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3971AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta
[M::process] read 320850 sequences (80000178 bp)...
[samclip] Processed 400000 records...
[09:13:24] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:24] Running: rm -f fake_reads\.fq 2>> snps.log
[M::process] read 108820 sequences (27194200 bp)...
[09:13:24] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3982AA_AS.out\tSM:ESC_NA3982AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.718 sec; CPU: 64.744 sec
[samclip] Total SAM records 430639, removed 1333, allowed 98, passed 429306
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:25] Marked 219 heterozygous sites with 'n'
[09:13:25] Creating extra output files: BED GFF CSV TXT HTML
[09:13:25] Identified 25 variants.
[09:13:25] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out
[09:13:25] Result files:
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.aligned.fa
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.bam
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.bam.bai
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.bed
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.consensus.fa
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.consensus.subs.fa
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.csv
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.filt.vcf
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.gff
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.html
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.log
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.raw.vcf
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.subs.vcf
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.tab
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.txt
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.vcf
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.vcf.gz
[09:13:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out/snps.vcf.gz.csi
[09:13:25] Walltime used: 22 seconds
[09:13:25] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:13:25] Done.
[Thu Sep 10 09:13:25 2020]
Finished job 34.
74 of 121 steps (61%) done

[Thu Sep 10 09:13:25 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out
    jobid: 100
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_LB6279AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 114658 reads in 13.357 CPU sec, 2.056 real sec
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:26] Wrote 429240 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:26] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:26] Using BAM RG (Read Group) ID: ESC_NA3973AA_AS.out
[09:13:26] Running: samtools faidx reference/ref.fa 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:26] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 300000 records...
[09:13:26] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:26] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:26] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:26] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:26] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3973AA_AS.out\tSM:ESC_NA3973AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:26] This is snippy 4.4.3
[09:13:26] Written by Torsten Seemann
[09:13:26] Obtained from https://github.com/tseemann/snippy
[09:13:26] Detected operating system: linux
[09:13:26] Enabling bundled linux tools.
[09:13:26] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:26] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:26] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:26] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:26] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:27] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:27] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:27] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:27] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[samclip] Processed 400000 records...
[09:13:27] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:27] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:27] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:27] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:27] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:27] Found gzip - /usr/bin/gzip
[09:13:27] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:27] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:27] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:27] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:27] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:27] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[M::process] read 320086 sequences (80000126 bp)...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4056AA_AS.out\tSM:ESC_NA4056AA_AS.out -t 8 reference/ref.fa fake_reads.fq[samclip] Total SAM records 436323, removed 1412, allowed 182, passed 434911

[main] Real time: 17.988 sec; CPU: 53.384 sec
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:27] This is snippy 4.4.3
[09:13:27] Written by Torsten Seemann
[09:13:27] Obtained from https://github.com/tseemann/snippy
[09:13:27] Detected operating system: linux
[09:13:27] Enabling bundled linux tools.
[09:13:27] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:27] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:27] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:27] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:27] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:27] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:27] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:27] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:27] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:27] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:27] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:27] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:27] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:27] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:27] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:27] Found gzip - /usr/bin/gzip
[09:13:27] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:27] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:27] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:27] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:27] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:27] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:27] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:27] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:27] Treating reference as 'fasta' format.
[09:13:27] Will use 8 CPU cores.
[09:13:27] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta
[09:13:27] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out
[09:13:27] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out
[09:13:27] Creating reference folder: reference
[09:13:27] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:27] Extracting FASTA and GFF from reference.
[09:13:27] Wrote 1 sequences to ref.fa
[09:13:27] Wrote 0 features to ref.gff
[09:13:27] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3971AA_AS.fasta into pseudo-reads
[09:13:27] Running: samtools index snps.bam 2>> snps.log
[09:13:27] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:27] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:27] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:28] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:28] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:28] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:28] Treating reference as 'fasta' format.
[09:13:28] Will use 8 CPU cores.
[09:13:28] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta
[09:13:28] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out
[09:13:28] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out
[09:13:28] Creating reference folder: reference
[09:13:28] Extracting FASTA and GFF from reference.
[09:13:28] Wrote 1 sequences to ref.fa
[09:13:28] Wrote 0 features to ref.gff
[09:13:28] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6279AA_AS.fasta into pseudo-reads
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:28] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 318
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:28] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[M::process] read 109154 sequences (27275304 bp)...
[09:13:28] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:29] Running: samtools index snps.bam 2>> snps.log
[09:13:29] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::mem_process_seqs] Processed 320068 reads in 39.853 CPU sec, 9.683 real sec
[09:13:29] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:29] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:30] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] Processed 100000 records...
[09:13:30] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:30] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:30] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:31] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:31] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:31] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:31] Wrote 432156 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:31] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:31] Using BAM RG (Read Group) ID: ESC_NA3971AA_AS.out

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 314
       total no. reference observed             : 0

Time elapsed: 0.00s

[samclip] Processed 200000 records...
[09:13:31] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:31] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:31] Wrote 422172 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:31] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:31] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:31] Using BAM RG (Read Group) ID: ESC_LB6279AA_AS.out
[09:13:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:31] Running: rm -f fake_reads\.fq 2>> snps.log
[M::mem_process_seqs] Processed 111554 reads in 12.719 CPU sec, 2.199 real sec
[09:13:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:31] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:31] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:31] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:31] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:31] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:31] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3971AA_AS.out\tSM:ESC_NA3971AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:32] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:32] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:32] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:32] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:32] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:32] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LB6279AA_AS.out\tSM:ESC_LB6279AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] Processed 300000 records...
[09:13:32] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:32] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:32] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:32] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:32] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:32] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:32] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:32] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:32] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:32] Marked 166 heterozygous sites with 'n'
[09:13:32] Creating extra output files: BED GFF CSV TXT HTML
[09:13:32] Identified 318 variants.
[09:13:32] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out
[09:13:32] Result files:
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.aligned.fa
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.bam
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.bam.bai
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.bed
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.consensus.fa
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.consensus.subs.fa
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.csv
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.filt.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.gff
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.html
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.log
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.raw.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.subs.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.tab
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.txt
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.vcf.gz
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out/snps.vcf.gz.csi
[09:13:32] Walltime used: 27 seconds
[09:13:32] Wishing you a life free of homopolymer errors.
[09:13:32] Done.
[Thu Sep 10 09:13:32 2020]
Finished job 44.
75 of 121 steps (62%) done

[Thu Sep 10 09:13:32 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out
    jobid: 36
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4070AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta
[samclip] Processed 400000 records...
[M::process] read 320040 sequences (80000178 bp)...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6413AA_AS.out\tSM:ESC_HA6413AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.874 sec; CPU: 53.331 sec
[samclip] Total SAM records 431741, removed 1782, allowed 118, passed 429959
[samclip] Header contained 3 lines
[samclip] Done.
[M::process] read 320028 sequences (80000192 bp)...
[09:13:32] Marked 166 heterozygous sites with 'n'
[09:13:32] Creating extra output files: BED GFF CSV TXT HTML
[09:13:32] Identified 314 variants.
[09:13:32] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out
[09:13:32] Result files:
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.aligned.fa
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.bam
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.bam.bai
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.bed
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.consensus.fa
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.consensus.subs.fa
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.csv
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.filt.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.gff
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.html
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.log
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.raw.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.subs.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.tab
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.txt
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.vcf
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.vcf.gz
[09:13:32] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out/snps.vcf.gz.csi
[09:13:32] Walltime used: 29 seconds
[09:13:32] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:13:32] Done.
[Thu Sep 10 09:13:32 2020]
Finished job 98.
76 of 121 steps (63%) done

[Thu Sep 10 09:13:32 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out
    jobid: 80
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_MA2736AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 102144 sequences (25536000 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::process] read 111338 sequences (27679820 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:33] This is snippy 4.4.3
[09:13:33] Written by Torsten Seemann
[09:13:33] Obtained from https://github.com/tseemann/snippy
[09:13:33] Detected operating system: linux
[09:13:33] Enabling bundled linux tools.
[09:13:33] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:33] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:33] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:33] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[M::mem_process_seqs] Processed 320024 reads in 55.036 CPU sec, 9.724 real sec
[09:13:34] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:34] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:34] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:34] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:34] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:34] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:34] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:34] This is snippy 4.4.3
[09:13:34] Written by Torsten Seemann
[09:13:34] Obtained from https://github.com/tseemann/snippy
[09:13:34] Detected operating system: linux
[09:13:34] Enabling bundled linux tools.
[09:13:34] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:34] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:34] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:34] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:34] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:34] Found gzip - /usr/bin/gzip
[09:13:34] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:34] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:34] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:34] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:34] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:34] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:34] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:34] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:34] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:34] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:34] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:34] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:34] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:34] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:34] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:34] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:34] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:34] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:35] Found gzip - /usr/bin/gzip
[09:13:35] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:35] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:35] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[samclip] Processed 100000 records...
[09:13:35] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:35] Running: samtools index snps.bam 2>> snps.log
[09:13:35] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:35] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:36] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:36] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:36] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 108820 reads in 12.467 CPU sec, 2.147 real sec
[09:13:36] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 200000 records...
[09:13:36] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:36] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:36] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:36] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:36] Treating reference as 'fasta' format.
[09:13:36] Will use 8 CPU cores.
[09:13:36] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta
[09:13:36] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out
[09:13:36] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out
[09:13:36] Creating reference folder: reference
[09:13:36] Extracting FASTA and GFF from reference.

stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 24
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:36] Wrote 1 sequences to ref.fa
[09:13:36] Wrote 0 features to ref.gff
[09:13:36] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4070AA_AS.fasta into pseudo-reads
[09:13:36] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 300000 records...
[09:13:36] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:36] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:36] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:36] Treating reference as 'fasta' format.
[09:13:36] Will use 8 CPU cores.
[09:13:36] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta
[09:13:36] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out
[09:13:36] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out
[09:13:36] Creating reference folder: reference
[09:13:36] Extracting FASTA and GFF from reference.
[09:13:36] Wrote 1 sequences to ref.fa
[09:13:36] Wrote 0 features to ref.gff
[09:13:36] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_MA2736AA_AS.fasta into pseudo-reads
[09:13:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::process] read 112116 sequences (28010038 bp)...
[09:13:36] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:37] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4071AA_AS.out\tSM:ESC_NA4071AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.293 sec; CPU: 68.284 sec
[samclip] Total SAM records 428986, removed 1484, allowed 133, passed 427502
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 320086 reads in 46.780 CPU sec, 10.050 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:37] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:37] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:37] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:37] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:37] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:37] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 320850 reads in 37.314 CPU sec, 13.686 real sec
[09:13:38] Marked 224 heterozygous sites with 'n'
[09:13:38] Creating extra output files: BED GFF CSV TXT HTML
[09:13:38] Identified 24 variants.
[09:13:38] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out
[09:13:38] Result files:
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.aligned.fa
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.bam
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.bam.bai
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.bed
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.consensus.fa
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.consensus.subs.fa
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.csv
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.filt.vcf
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.gff
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.html
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.log
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.raw.vcf
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.subs.vcf
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.tab
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.txt
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.vcf
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.vcf.gz
[09:13:38] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out/snps.vcf.gz.csi
[09:13:38] Walltime used: 25 seconds
[09:13:38] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:13:38] Done.
[Thu Sep 10 09:13:38 2020]
Finished job 10.
77 of 121 steps (64%) done

[Thu Sep 10 09:13:38 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out
    jobid: 76
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_LB6278AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 109154 reads in 10.272 CPU sec, 2.399 real sec
[samclip] Processed 200000 records...
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:39] Wrote 430226 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:39] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:39] Using BAM RG (Read Group) ID: ESC_NA4070AA_AS.out
[09:13:39] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:39] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:40] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:40] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:40] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:40] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:40] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4070AA_AS.out\tSM:ESC_NA4070AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 111338 reads in 14.025 CPU sec, 1.972 real sec
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] Processed 300000 records...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 400000 records...
[09:13:40] Wrote 423986 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:40] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:40] Using BAM RG (Read Group) ID: ESC_MA2736AA_AS.out
[09:13:40] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:40] Running: bwa index reference/ref.fa 2>> snps.log
[M::mem_process_seqs] Processed 320028 reads in 43.616 CPU sec, 7.986 real sec
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3973AA_AS.out\tSM:ESC_NA3973AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.703 sec; CPU: 57.744 sec
[samclip] Total SAM records 429380, removed 1576, allowed 110, passed 427804
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:40] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:40] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:40] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[M::process] read 320416 sequences (80000270 bp)...
[09:13:40] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:40] Running: bwa mem  -Y -M -R '@RG\tID:ESC_MA2736AA_AS.out\tSM:ESC_MA2736AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4061AA_AS.out\tSM:ESC_NA4061AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 16.845 sec; CPU: 52.076 sec
[samclip] Total SAM records 432342, removed 1491, allowed 99, passed 430851
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:41] Running: samtools index snps.bam 2>> snps.log
[M::process] read 320052 sequences (80000196 bp)...
[09:13:41] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:41] This is snippy 4.4.3
[09:13:41] Written by Torsten Seemann
[09:13:41] Obtained from https://github.com/tseemann/snippy
[09:13:41] Detected operating system: linux
[09:13:41] Enabling bundled linux tools.
[09:13:41] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:41] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:41] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:41] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:41] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:41] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:41] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:41] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:41] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:41] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[samclip] Processed 100000 records...
[09:13:41] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:41] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:41] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:41] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:41] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:42] Found gzip - /usr/bin/gzip
[09:13:42] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:42] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:42] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:42] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:42] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:42] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[M::mem_process_seqs] Processed 102144 reads in 12.874 CPU sec, 1.727 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:42] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::process] read 109810 sequences (27399172 bp)...
[09:13:42] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 315
       total no. reference observed             : 0

Time elapsed: 0.00s

[samclip] Processed 200000 records...
[09:13:42] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:42] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[M::process] read 103934 sequences (25966888 bp)...
[09:13:42] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:42] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:42] Treating reference as 'fasta' format.
[09:13:42] Will use 8 CPU cores.
[09:13:42] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta
[09:13:42] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out
[09:13:42] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out
[09:13:42] Creating reference folder: reference
[09:13:42] Extracting FASTA and GFF from reference.
[09:13:42] Wrote 1 sequences to ref.fa
[09:13:42] Wrote 0 features to ref.gff
[09:13:42] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LB6278AA_AS.fasta into pseudo-reads
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[09:13:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:43] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:43] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[samclip] Processed 400000 records...
[09:13:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LB6279AA_AS.out\tSM:ESC_LB6279AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.291 sec; CPU: 57.257 sec
[samclip] Total SAM records 422326, removed 1624, allowed 101, passed 420702
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:43] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:43] Running: samtools index snps.bam 2>> snps.log
[09:13:43] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:43] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:43] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 320040 reads in 48.139 CPU sec, 11.394 real sec
[09:13:43] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:43] Running: samtools index snps.bam 2>> snps.log
[09:13:43] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:44] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:44] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:44] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[samclip] Processed 100000 records...
[09:13:44] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:44] Marked 469 heterozygous sites with 'n'
[09:13:44] Creating extra output files: BED GFF CSV TXT HTML
[09:13:45] Identified 315 variants.
[09:13:45] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out
[09:13:45] Result files:
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.aligned.fa
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.bam
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.bam.bai
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.bed
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.consensus.fa
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.consensus.subs.fa
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.csv
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.filt.vcf
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.gff
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.html
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.log
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.raw.vcf
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.subs.vcf
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.tab
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.txt
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.vcf
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.vcf.gz
[09:13:45] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out/snps.vcf.gz.csi
[09:13:45] Walltime used: 27 seconds
[09:13:45] Questionable SNP? Try the --report option to see the alignments.
[09:13:45] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[Thu Sep 10 09:13:45 2020]
Finished job 48.
78 of 121 steps (64%) done

[Thu Sep 10 09:13:45 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out
    jobid: 28
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_LA2848AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta
[09:13:45] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[samclip] Processed 200000 records...
[M::mem_process_seqs] Processed 112116 reads in 10.713 CPU sec, 2.055 real sec

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 322
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:46] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:46] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 300000 records...
[09:13:46] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:46] Wrote 420944 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:46] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:46] Using BAM RG (Read Group) ID: ESC_LB6278AA_AS.out
[09:13:46] Running: samtools faidx reference/ref.fa 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:46] Running: bwa index reference/ref.fa 2>> snps.log

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 296
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:46] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:46] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:46] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:46] Running: ln -sf reference/ref.fa . 2>> snps.log
[samclip] Processed 400000 records...
[09:13:46] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:46] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:46] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:46] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3971AA_AS.out\tSM:ESC_NA3971AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.608 sec; CPU: 59.609 sec
[samclip] Total SAM records 432386, removed 1877, allowed 153, passed 430509
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:46] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:46] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:46] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:46] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LB6278AA_AS.out\tSM:ESC_LB6278AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:13:46] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:46] Running: samtools index snps.bam 2>> snps.log
[09:13:46] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:46] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:46] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:46] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:46] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:46] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:46] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:46] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:46] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:47] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:47] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:47] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:47] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:47] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:47] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 320006 sequences (80000012 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:47] Marked 172 heterozygous sites with 'n'
[09:13:47] Creating extra output files: BED GFF CSV TXT HTML
[09:13:47] Identified 322 variants.
[09:13:47] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out
[09:13:47] Result files:
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.aligned.fa
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.bam
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.bam.bai
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.bed
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.consensus.fa
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.consensus.subs.fa
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.csv
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.filt.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.gff
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.html
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.log
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.raw.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.subs.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.tab
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.txt
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.vcf.gz
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out/snps.vcf.gz.csi
[09:13:47] Walltime used: 26 seconds
[09:13:47] Questionable SNP? Try the --report option to see the alignments.
[09:13:47] Done.
[M::process] read 100938 sequences (25234500 bp)...
[Thu Sep 10 09:13:47 2020]
Finished job 72.
79 of 121 steps (65%) done

[Thu Sep 10 09:13:47 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out
    jobid: 108
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3980AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta
[09:13:47] Marked 163 heterozygous sites with 'n'
[09:13:47] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:47] Creating extra output files: BED GFF CSV TXT HTML
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:47] Identified 296 variants.
[09:13:47] This is snippy 4.4.3
[09:13:47] Written by Torsten Seemann
[09:13:47] Obtained from https://github.com/tseemann/snippy
[09:13:47] Detected operating system: linux
[09:13:47] Enabling bundled linux tools.
[09:13:47] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out
[09:13:47] Result files:
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.aligned.fa
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.bam
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.bam.bai
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.bed
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.consensus.fa
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.consensus.subs.fa
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.csv
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.filt.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.gff
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.html
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.log
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.raw.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.subs.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.tab
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.txt
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.vcf
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.vcf.gz
[09:13:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out/snps.vcf.gz.csi
[09:13:47] Walltime used: 28 seconds
[09:13:47] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:13:47] Done.
[09:13:47] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:47] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 316
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:47] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:47] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:47] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:47] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[Thu Sep 10 09:13:47 2020]
Finished job 102.
80 of 121 steps (66%) done

[Thu Sep 10 09:13:47 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out
    jobid: 104
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_LA2840AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta
[09:13:47] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:47] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:47] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:47] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:47] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:47] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:47] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:47] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:47] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:47] Found gzip - /usr/bin/gzip
[09:13:47] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:47] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:47] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:47] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:47] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:47] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:47] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:47] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:47] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:47] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:47] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:47] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:47] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:47] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:47] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:47] Treating reference as 'fasta' format.
[09:13:47] Will use 8 CPU cores.
[09:13:47] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta
[09:13:47] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out
[09:13:47] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out
[09:13:47] Creating reference folder: reference
[09:13:47] Extracting FASTA and GFF from reference.
[09:13:47] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:47] Wrote 1 sequences to ref.fa
[09:13:47] Wrote 0 features to ref.gff
[09:13:47] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2848AA_AS.fasta into pseudo-reads
[09:13:47] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:47] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:47] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:48] Marked 161 heterozygous sites with 'n'
[09:13:48] Creating extra output files: BED GFF CSV TXT HTML
[09:13:48] Identified 316 variants.
[M::mem_process_seqs] Processed 320416 reads in 41.593 CPU sec, 7.525 real sec
[09:13:48] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out
[09:13:48] Result files:
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.aligned.fa
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.bam
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.bam.bai
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.bed
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.consensus.fa
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.consensus.subs.fa
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.csv
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.filt.vcf
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.gff
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.html
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.log
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.raw.vcf
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.subs.vcf
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.tab
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.txt
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.vcf
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.vcf.gz
[09:13:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out/snps.vcf.gz.csi
[09:13:48] Walltime used: 21 seconds
[09:13:48] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:13:48] Done.
[Thu Sep 10 09:13:48 2020]
Finished job 100.
81 of 121 steps (67%) done

[Thu Sep 10 09:13:48 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out
    jobid: 24
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4048AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta
[09:13:48] This is snippy 4.4.3
[09:13:48] Written by Torsten Seemann
[09:13:48] Obtained from https://github.com/tseemann/snippy
[09:13:48] Detected operating system: linux
[09:13:48] Enabling bundled linux tools.
[09:13:48] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:48] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:48] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:48] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:48] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:48] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:48] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:48] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:48] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:48] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:48] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:48] This is snippy 4.4.3
[09:13:48] Written by Torsten Seemann
[09:13:48] Obtained from https://github.com/tseemann/snippy
[09:13:48] Detected operating system: linux
[09:13:48] Enabling bundled linux tools.
[09:13:48] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:48] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:48] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:48] Found gzip - /usr/bin/gzip
[09:13:48] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:48] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:48] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:48] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:48] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:48] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:48] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:48] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:48] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:48] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:48] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:48] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:48] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:48] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:48] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:48] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:48] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:48] Running: samtools index snps.bam 2>> snps.log
[09:13:48] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:48] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[M::mem_process_seqs] Processed 320052 reads in 39.209 CPU sec, 7.468 real sec
[09:13:48] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[samclip] Processed 100000 records...
[09:13:48] Found gzip - /usr/bin/gzip
[09:13:48] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:49] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:49] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:49] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:49] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:49] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:49] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:49] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:49] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::mem_process_seqs] Processed 109810 reads in 12.824 CPU sec, 1.892 real sec
[samclip] Processed 200000 records...
[09:13:50] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 100000 records...
[09:13:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:50] Treating reference as 'fasta' format.
[09:13:50] Will use 8 CPU cores.
[09:13:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta
[09:13:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out
[09:13:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out
[09:13:50] Creating reference folder: reference
[09:13:50] Extracting FASTA and GFF from reference.
[09:13:50] Wrote 1 sequences to ref.fa
[09:13:50] Wrote 0 features to ref.gff
[09:13:50] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3980AA_AS.fasta into pseudo-reads
[09:13:50] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:50] This is snippy 4.4.3
[09:13:50] Written by Torsten Seemann
[09:13:50] Obtained from https://github.com/tseemann/snippy
[09:13:50] Detected operating system: linux
[09:13:50] Enabling bundled linux tools.
[09:13:50] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:50] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[M::mem_process_seqs] Processed 103934 reads in 11.792 CPU sec, 1.783 real sec
[09:13:50] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:50] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[samclip] Processed 300000 records...
[09:13:50] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:50] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:50] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:50] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:50] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 7
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 8

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 8
       total no. variants observed              : 313
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:50] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:50] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:50] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:50] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:50] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:50] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:50] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:50] Found gzip - /usr/bin/gzip
[09:13:50] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:50] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:50] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:50] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:50] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:50] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:50] Treating reference as 'fasta' format.
[09:13:50] Will use 8 CPU cores.
[09:13:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta
[09:13:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out
[09:13:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out
[09:13:50] Creating reference folder: reference
[09:13:50] Extracting FASTA and GFF from reference.
[09:13:50] Wrote 1 sequences to ref.fa
[09:13:50] Wrote 0 features to ref.gff
[09:13:50] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA2840AA_AS.fasta into pseudo-reads
[samclip] Processed 200000 records...
[09:13:50] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:50] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:50] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:50] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:50] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:50] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:50] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[samclip] Processed 400000 records...
[09:13:50] Treating reference as 'fasta' format.
[09:13:50] Will use 8 CPU cores.
[09:13:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta
[09:13:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out
[09:13:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out
[09:13:50] Creating reference folder: reference
[09:13:50] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:50] Extracting FASTA and GFF from reference.
[09:13:50] Wrote 1 sequences to ref.fa
[09:13:50] Wrote 0 features to ref.gff
[09:13:50] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4048AA_AS.fasta into pseudo-reads
[09:13:50] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:50] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 300000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4070AA_AS.out\tSM:ESC_NA4070AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.922 sec; CPU: 55.282 sec
[samclip] Total SAM records 430367, removed 1358, allowed 111, passed 429009
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:51] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_MA2736AA_AS.out\tSM:ESC_MA2736AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.709 sec; CPU: 51.829 sec
[samclip] Total SAM records 424136, removed 1229, allowed 112, passed 422907
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:51] Wrote 424364 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:51] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:51] Using BAM RG (Read Group) ID: ESC_LA2848AA_AS.out
[09:13:51] Running: samtools faidx reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:51] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:51] Marked 389 heterozygous sites with 'n'
[09:13:51] Creating extra output files: BED GFF CSV TXT HTML
[09:13:51] Identified 313 variants.
[09:13:51] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out
[09:13:51] Result files:
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.aligned.fa
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.bam
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.bam.bai
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.bed
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.consensus.fa
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.consensus.subs.fa
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.csv
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.filt.vcf
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.gff
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.html
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.log
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.raw.vcf
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.subs.vcf
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.tab
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.txt
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.vcf
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.vcf.gz
[09:13:51] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out/snps.vcf.gz.csi
[09:13:51] Walltime used: 25 seconds
[09:13:51] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:13:51] Done.
[Thu Sep 10 09:13:51 2020]
Finished job 42.
82 of 121 steps (68%) done

[Thu Sep 10 09:13:51 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out
    jobid: 58
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_GA5350AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta
[09:13:51] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:51] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:51] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:51] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:51] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LA2848AA_AS.out\tSM:ESC_LA2848AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320072 sequences (80000096 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 104292 sequences (26073000 bp)...
[09:13:52] This is snippy 4.4.3
[09:13:52] Written by Torsten Seemann
[09:13:52] Obtained from https://github.com/tseemann/snippy
[09:13:52] Detected operating system: linux
[09:13:52] Enabling bundled linux tools.
[09:13:52] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:52] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:52] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:52] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:52] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:52] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:52] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:52] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:52] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:52] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:52] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:52] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:52] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:52] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:52] Found gzip - /usr/bin/gzip
[09:13:52] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:52] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:52] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:52] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:52] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:52] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:52] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:53] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:53] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:53] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:53] Treating reference as 'fasta' format.
[09:13:53] Will use 8 CPU cores.
[09:13:53] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta
[09:13:53] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out
[09:13:53] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out
[09:13:53] Creating reference folder: reference
[09:13:53] Extracting FASTA and GFF from reference.
[09:13:53] Wrote 1 sequences to ref.fa
[09:13:53] Wrote 0 features to ref.gff
[09:13:53] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_GA5350AA_AS.fasta into pseudo-reads
[09:13:53] Running: samtools index snps.bam 2>> snps.log
[M::mem_process_seqs] Processed 320006 reads in 44.067 CPU sec, 6.034 real sec
[09:13:53] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:53] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:53] Running: samtools index snps.bam 2>> snps.log
[09:13:53] Wrote 426252 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:53] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:53] Using BAM RG (Read Group) ID: ESC_NA3980AA_AS.out
[09:13:53] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:53] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[samclip] Processed 100000 records...
[09:13:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:54] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:13:54] Wrote 424060 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:54] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:54] Using BAM RG (Read Group) ID: ESC_LA2840AA_AS.out
[samclip] Processed 200000 records...
[09:13:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:54] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[samclip] Processed 300000 records...
[09:13:54] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:54] Wrote 428210 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:54] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:54] Using BAM RG (Read Group) ID: ESC_NA4048AA_AS.out
[09:13:54] Running: samtools faidx reference/ref.fa 2>> snps.log

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 318
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:54] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:54] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:54] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:54] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:54] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:54] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3980AA_AS.out\tSM:ESC_NA3980AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:54] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:54] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:54] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:54] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:54] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[M::mem_process_seqs] Processed 100938 reads in 13.758 CPU sec, 1.766 real sec
[09:13:54] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LA2840AA_AS.out\tSM:ESC_LA2840AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:55] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:55] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:55] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:55] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:13:55] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4048AA_AS.out\tSM:ESC_NA4048AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:13:55] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:13:55] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:55] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:55] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:55] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:55] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 314
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:13:55] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:13:55] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:55] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:13:55] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[samclip] Processed 400000 records...
[09:13:55] Running: rm -f fake_reads\.fq 2>> snps.log
[M::process] read 320074 sequences (80000204 bp)...
[09:13:55] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LB6278AA_AS.out\tSM:ESC_LB6278AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 8.479 sec; CPU: 58.319 sec
[samclip] Total SAM records 421084, removed 1536, allowed 109, passed 419548
[samclip] Header contained 3 lines
[samclip] Done.
[09:13:55] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::process] read 106178 sequences (26544200 bp)...
[M::process] read 320016 sequences (80000192 bp)...
[09:13:55] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::process] read 320026 sequences (80000076 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:55] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:13:55] Marked 179 heterozygous sites with 'n'
[09:13:55] Creating extra output files: BED GFF CSV TXT HTML
[09:13:55] Identified 318 variants.
[09:13:55] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out
[09:13:55] Result files:
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.aligned.fa
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.bam
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.bam.bai
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.bed
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.consensus.fa
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.consensus.subs.fa
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.csv
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.filt.vcf
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.gff
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.html
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.log
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.raw.vcf
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.subs.vcf
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.tab
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.txt
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.vcf
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.vcf.gz
[09:13:55] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out/snps.vcf.gz.csi
[09:13:55] Walltime used: 22 seconds
[09:13:55] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:13:55] Done.
[Thu Sep 10 09:13:55 2020]
Finished job 36.
83 of 121 steps (69%) done

[Thu Sep 10 09:13:55 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out
    jobid: 30
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4063AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta
[09:13:55] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:13:55] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:13:56] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:13:56] Wrote 429232 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:13:56] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:13:56] Using BAM RG (Read Group) ID: ESC_GA5350AA_AS.out
[09:13:56] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:13:56] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:13:56] Running: bwa index reference/ref.fa 2>> snps.log
[09:13:56] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:13:56] Running: rm -f fake_reads\.fq 2>> snps.log
[09:13:56] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:13:56] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:13:56] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:13:56] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:13:56] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:13:56] Running: bwa mem  -Y -M -R '@RG\tID:ESC_GA5350AA_AS.out\tSM:ESC_GA5350AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:13:57] Marked 124 heterozygous sites with 'n'
[09:13:57] Creating extra output files: BED GFF CSV TXT HTML
[09:13:57] Identified 314 variants.
[09:13:57] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out
[09:13:57] Result files:
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.aligned.fa
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.bam
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.bam.bai
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.bed
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.consensus.fa
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.consensus.subs.fa
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.csv
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.filt.vcf
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.gff
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.html
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.log
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.raw.vcf
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.subs.vcf
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.tab
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.txt
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.vcf
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.vcf.gz
[09:13:57] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out/snps.vcf.gz.csi
[09:13:57] Walltime used: 23 seconds
[09:13:57] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:13:57] Done.
[Thu Sep 10 09:13:57 2020]
Finished job 80.
84 of 121 steps (69%) done

[Thu Sep 10 09:13:57 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out
    jobid: 84
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4067AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta
[M::process] read 104044 sequences (26007428 bp)...
[M::process] read 320048 sequences (80000068 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:13:58] This is snippy 4.4.3
[09:13:58] Written by Torsten Seemann
[09:13:58] Obtained from https://github.com/tseemann/snippy
[09:13:58] Detected operating system: linux
[09:13:58] Enabling bundled linux tools.
[09:13:58] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:13:58] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:13:58] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:13:58] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:13:58] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:13:58] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:13:58] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:13:58] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:13:58] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:13:58] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:13:58] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:13:58] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:13:58] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:13:58] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:13:58] Found gzip - /usr/bin/gzip
[09:13:58] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:13:58] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:13:58] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:13:58] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:13:58] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:13:58] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:13:58] Running: samtools index snps.bam 2>> snps.log
[09:13:58] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:13:58] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:13:58] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::mem_process_seqs] Processed 320072 reads in 39.216 CPU sec, 7.342 real sec
[09:13:59] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:13:59] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:13:59] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:13:59] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:13:59] Treating reference as 'fasta' format.
[09:13:59] Will use 8 CPU cores.
[09:13:59] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta
[09:13:59] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out
[09:13:59] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out
[09:13:59] Creating reference folder: reference
[09:13:59] Extracting FASTA and GFF from reference.
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:13:59] Wrote 1 sequences to ref.fa
[09:13:59] Wrote 0 features to ref.gff
[09:13:59] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4063AA_AS.fasta into pseudo-reads

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 302
       total no. reference observed             : 0

Time elapsed: 0.00s

[samclip] Processed 100000 records...
[09:14:00] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 200000 records...
[09:14:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:01] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::mem_process_seqs] Processed 104292 reads in 12.025 CPU sec, 1.830 real sec
[M::process] read 108184 sequences (27028996 bp)...
[09:14:01] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:01] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:01] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:14:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:01] This is snippy 4.4.3
[09:14:01] Written by Torsten Seemann
[09:14:01] Obtained from https://github.com/tseemann/snippy
[09:14:01] Detected operating system: linux
[09:14:01] Enabling bundled linux tools.
[09:14:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:01] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:01] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:01] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:01] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:01] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:01] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:01] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:01] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:01] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:01] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:01] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:01] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:01] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:01] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:01] Found gzip - /usr/bin/gzip
[09:14:01] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:01] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:01] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:01] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:01] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:01] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:01] Marked 150 heterozygous sites with 'n'
[09:14:01] Creating extra output files: BED GFF CSV TXT HTML
[09:14:01] Identified 302 variants.
[09:14:01] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out
[09:14:01] Result files:
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.aligned.fa
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.bam
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.bam.bai
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.bed
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.consensus.fa
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.consensus.subs.fa
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.csv
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.filt.vcf
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.gff
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.html
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.log
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.raw.vcf
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.subs.vcf
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.tab
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.txt
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.vcf
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.vcf.gz
[09:14:01] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out/snps.vcf.gz.csi
[09:14:01] Walltime used: 20 seconds
[09:14:01] May the SNPs be with you.
[09:14:01] Done.
[09:14:01] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 400000 records...
[Thu Sep 10 09:14:01 2020]
Finished job 76.
85 of 121 steps (70%) done

[Thu Sep 10 09:14:01 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out
    jobid: 86
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4068AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta
[M::process] read 109184 sequences (27288658 bp)...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LA2848AA_AS.out\tSM:ESC_LA2848AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.348 sec; CPU: 51.882 sec
[samclip] Total SAM records 424510, removed 1337, allowed 97, passed 423173
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:02] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[M::mem_process_seqs] Processed 320074 reads in 39.190 CPU sec, 6.949 real sec
[09:14:02] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:02] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:02] Treating reference as 'fasta' format.
[09:14:02] Will use 8 CPU cores.
[09:14:02] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta
[09:14:02] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out
[09:14:02] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out
[09:14:02] Creating reference folder: reference
[09:14:02] Extracting FASTA and GFF from reference.
[09:14:02] Wrote 1 sequences to ref.fa
[09:14:02] Wrote 0 features to ref.gff
[09:14:02] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4067AA_AS.fasta into pseudo-reads
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 320016 reads in 36.275 CPU sec, 7.435 real sec
[09:14:03] Wrote 424980 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:03] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:03] Using BAM RG (Read Group) ID: ESC_NA4063AA_AS.out
[09:14:03] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:04] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 300000 records...
[09:14:04] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:04] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:04] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:04] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[M::mem_process_seqs] Processed 106178 reads in 13.866 CPU sec, 2.838 real sec
[09:14:05] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4063AA_AS.out\tSM:ESC_NA4063AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] Processed 100000 records...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::mem_process_seqs] Processed 104044 reads in 13.938 CPU sec, 2.415 real sec
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3980AA_AS.out\tSM:ESC_NA3980AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.615 sec; CPU: 53.606 sec
[samclip] Total SAM records 426392, removed 1364, allowed 133, passed 425028
[samclip] Header contained 3 lines
[samclip] Done.
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::process] read 320078 sequences (80000346 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 200000 records...
[M::process] read 104902 sequences (26214428 bp)...
[samclip] Processed 300000 records...
[09:14:05] Running: samtools index snps.bam 2>> snps.log
[samclip] Processed 400000 records...
[09:14:06] This is snippy 4.4.3
[09:14:06] Written by Torsten Seemann
[09:14:06] Obtained from https://github.com/tseemann/snippy
[09:14:06] Detected operating system: linux
[09:14:06] Enabling bundled linux tools.
[09:14:06] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:06] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:06] Wrote 423074 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:06] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:06] Using BAM RG (Read Group) ID: ESC_NA4067AA_AS.out
[09:14:06] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:06] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:06] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:06] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:06] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:06] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:06] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:06] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:06] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:06] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:06] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:06] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:06] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:06] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:06] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:06] Found gzip - /usr/bin/gzip
[09:14:06] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:06] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:06] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:06] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LA2840AA_AS.out\tSM:ESC_LA2840AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.260 sec; CPU: 51.102 sec
[samclip] Total SAM records 424216, removed 1550, allowed 94, passed 422666
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:06] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:06] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:06] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:06] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:06] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:06] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:06] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:06] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4067AA_AS.out\tSM:ESC_NA4067AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:06] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:06] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:14:06] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:06] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:06] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:06] Treating reference as 'fasta' format.
[09:14:06] Will use 8 CPU cores.
[09:14:06] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta
[09:14:06] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 309
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:06] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out
[09:14:06] Creating reference folder: reference
[09:14:06] Extracting FASTA and GFF from reference.
[09:14:06] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:06] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:06] Wrote 1 sequences to ref.fa
[09:14:06] Wrote 0 features to ref.gff
[09:14:06] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4068AA_AS.fasta into pseudo-reads
[M::mem_process_seqs] Processed 320026 reads in 39.141 CPU sec, 11.155 real sec
[M::process] read 320052 sequences (80000474 bp)...
[09:14:06] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:06] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:07] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:07] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:07] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:07] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:07] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[samclip] Processed 100000 records...
[09:14:07] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:07] Running: rm -f fake_reads\.fq 2>> snps.log
[M::mem_process_seqs] Processed 320048 reads in 32.859 CPU sec, 10.040 real sec
[09:14:07] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:07] Running: samtools index snps.bam 2>> snps.log
[09:14:08] Marked 177 heterozygous sites with 'n'
[09:14:08] Creating extra output files: BED GFF CSV TXT HTML
[M::mem_process_seqs] Processed 108184 reads in 10.674 CPU sec, 1.508 real sec
[09:14:08] Identified 309 variants.
[09:14:08] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out
[09:14:08] Result files:
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.aligned.fa
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.bam
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.bam.bai
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.bed
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.consensus.fa
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.consensus.subs.fa
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.csv
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.filt.vcf
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.gff
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.html
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.log
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.raw.vcf
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.subs.vcf
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.tab
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.txt
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.vcf
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.vcf.gz
[09:14:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out/snps.vcf.gz.csi
[09:14:08] Walltime used: 21 seconds
[09:14:08] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:14:08] Done.
[Thu Sep 10 09:14:08 2020]
Finished job 28.
86 of 121 steps (71%) done

[Thu Sep 10 09:14:08 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out
    jobid: 2
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4004AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta
[09:14:08] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[samclip] Processed 200000 records...
[09:14:08] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 100000 records...
[samclip] Processed 300000 records...
[samclip] Processed 400000 records...
[09:14:09] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:09] Running: samtools index snps.bam 2>> snps.log
[M::mem_process_seqs] Processed 109184 reads in 12.852 CPU sec, 2.045 real sec
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[samclip] Processed 200000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4048AA_AS.out\tSM:ESC_NA4048AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 14.524 sec; CPU: 50.534 sec
[M::process] read 103022 sequences (25738346 bp)...
[samclip] Total SAM records 428350, removed 1680, allowed 76, passed 426670
[samclip] Header contained 3 lines
[samclip] Done.

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 9
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 10

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 10
       total no. variants observed              : 307
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:09] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:09] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:09] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 300000 records...
[09:14:10] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:10] Wrote 422066 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:10] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:10] Using BAM RG (Read Group) ID: ESC_NA4068AA_AS.out
[09:14:10] Running: samtools faidx reference/ref.fa 2>> snps.log
[samclip] Processed 400000 records...
[09:14:10] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:10] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:10] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_GA5350AA_AS.out\tSM:ESC_GA5350AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.392 sec; CPU: 46.443 sec
[samclip] Total SAM records 429331, removed 1837, allowed 102, passed 427494
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:10] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:10] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:10] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:10] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:10] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:10] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4068AA_AS.out\tSM:ESC_NA4068AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:10] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:10] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:10] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:10] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:10] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:10] Running: rm -f fake_reads\.fq 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[bam_sort_core] merging from 0 files and 8 in-memory blocks...

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 319
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:10] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:10] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:10] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 320084 sequences (80000346 bp)...
[09:14:11] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:11] This is snippy 4.4.3
[09:14:11] Written by Torsten Seemann
[09:14:11] Obtained from https://github.com/tseemann/snippy
[09:14:11] Detected operating system: linux
[09:14:11] Enabling bundled linux tools.
[09:14:11] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:11] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:11] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:11] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:11] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:11] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:11] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:11] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:11] Marked 160 heterozygous sites with 'n'
[09:14:11] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:11] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:11] Creating extra output files: BED GFF CSV TXT HTML
[09:14:11] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:11] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:11] Identified 307 variants.
[09:14:11] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out
[09:14:11] Result files:
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.aligned.fa
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.bam
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.bam.bai
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.bed
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.consensus.fa
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.consensus.subs.fa
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.csv
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.filt.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.gff
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.html
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.log
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.raw.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.subs.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.tab
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.txt
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.vcf.gz
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out/snps.vcf.gz.csi
[09:14:11] Walltime used: 23 seconds
[09:14:11] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:14:11] Done.
[09:14:11] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[Thu Sep 10 09:14:11 2020]
Finished job 108.
87 of 121 steps (72%) done

[Thu Sep 10 09:14:11 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out
    jobid: 82
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4045AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta
[09:14:11] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:11] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:11] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:11] Found gzip - /usr/bin/gzip
[09:14:11] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:11] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:11] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:11] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:11] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:11] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:11] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:11] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:11] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:11] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::process] read 101982 sequences (25478552 bp)...
[09:14:11] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:11] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:11] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:11] Checking version: java -version is >= 1.8 - ok, have 1.8
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:11] Marked 151 heterozygous sites with 'n'
[09:14:11] Creating extra output files: BED GFF CSV TXT HTML
[09:14:11] Identified 319 variants.
[09:14:11] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out
[09:14:11] Result files:
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.aligned.fa
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.bam
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.bam.bai
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.bed
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.consensus.fa
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.consensus.subs.fa
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.csv
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.filt.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.gff
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.html
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.log
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.raw.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.subs.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.tab
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.txt
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.vcf
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.vcf.gz
[09:14:11] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out/snps.vcf.gz.csi
[09:14:11] Walltime used: 23 seconds
[09:14:11] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:14:11] Done.
[Thu Sep 10 09:14:11 2020]
Finished job 104.
88 of 121 steps (73%) done

[Thu Sep 10 09:14:11 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out
    jobid: 26
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4055AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta
[09:14:11] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:11] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:11] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:11] Treating reference as 'fasta' format.
[09:14:11] Will use 8 CPU cores.
[09:14:11] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta
[09:14:11] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out
[09:14:11] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out
[09:14:11] Creating reference folder: reference
[09:14:11] Extracting FASTA and GFF from reference.
[09:14:11] Wrote 1 sequences to ref.fa
[09:14:11] Wrote 0 features to ref.gff
[09:14:11] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4004AA_AS.fasta into pseudo-reads
[09:14:12] Running: samtools index snps.bam 2>> snps.log
[09:14:12] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:12] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:12] This is snippy 4.4.3
[09:14:12] Written by Torsten Seemann
[09:14:12] Obtained from https://github.com/tseemann/snippy
[09:14:12] Detected operating system: linux
[09:14:12] Enabling bundled linux tools.
[09:14:12] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:12] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:12] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:12] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:12] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:12] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:12] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:12] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:12] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:14:12] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes

stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 2
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 2

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 2
       total no. variants observed              : 41
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:12] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:12] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:12] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:12] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:12] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:12] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:12] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:12] Found gzip - /usr/bin/gzip
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:12] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:12] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:12] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:13] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:13] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:13] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:13] Running: samtools index snps.bam 2>> snps.log
[09:14:13] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:13] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:13] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:13] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:13] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:13] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:13] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:13] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:13] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:13] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:13] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:13] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:13] This is snippy 4.4.3
[09:14:13] Written by Torsten Seemann
[09:14:13] Obtained from https://github.com/tseemann/snippy
[09:14:13] Detected operating system: linux
[09:14:13] Enabling bundled linux tools.
[09:14:13] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:13] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:13] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:13] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:13] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:13] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:13] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:13] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[M::mem_process_seqs] Processed 320078 reads in 44.317 CPU sec, 8.017 real sec
[09:14:13] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:13] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:13] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:13] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:13] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:13] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:13] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:13] Treating reference as 'fasta' format.
[09:14:13] Will use 8 CPU cores.
[09:14:13] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta
[09:14:13] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out
[09:14:13] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out
[09:14:13] Creating reference folder: reference
[09:14:13] Extracting FASTA and GFF from reference.
[09:14:13] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:13] Wrote 1 sequences to ref.fa
[09:14:13] Wrote 0 features to ref.gff
[09:14:13] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4045AA_AS.fasta into pseudo-reads
[09:14:13] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:13] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:13] Found gzip - /usr/bin/gzip
[09:14:13] Marked 177 heterozygous sites with 'n'
[09:14:13] Creating extra output files: BED GFF CSV TXT HTML
[09:14:13] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:13] Identified 41 variants.
[09:14:13] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out
[09:14:13] Result files:
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.aligned.fa
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.bam
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.bam.bai
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.bed
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.consensus.fa
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.consensus.subs.fa
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.csv
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.filt.vcf
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.gff
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.html
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.log
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.raw.vcf
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.subs.vcf
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.tab
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.txt
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.vcf
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.vcf.gz
[09:14:13] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out/snps.vcf.gz.csi
[09:14:13] Walltime used: 23 seconds
[09:14:13] May the SNPs be with you.
[09:14:13] Done.
[Thu Sep 10 09:14:13 2020]
Finished job 24.
89 of 121 steps (74%) done

[Thu Sep 10 09:14:13 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out
    jobid: 106
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4072AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta
[09:14:13] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:13] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:13] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:13] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:13] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:13] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 3
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 19
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:13] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:13] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:14] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:14] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:14] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:14] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:14] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 100000 records...
[09:14:14] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:14] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:14] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:14] Treating reference as 'fasta' format.
[09:14:14] Will use 8 CPU cores.
[09:14:14] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta
[09:14:14] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out
[09:14:14] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out
[09:14:14] Creating reference folder: reference
[09:14:14] Extracting FASTA and GFF from reference.
[09:14:14] Wrote 1 sequences to ref.fa
[09:14:14] Wrote 0 features to ref.gff
[09:14:14] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4055AA_AS.fasta into pseudo-reads
[09:14:14] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:14] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 104902 reads in 13.116 CPU sec, 1.705 real sec
[M::mem_process_seqs] Processed 320052 reads in 38.583 CPU sec, 8.475 real sec
[09:14:15] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:15] Wrote 423584 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:15] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:15] Using BAM RG (Read Group) ID: ESC_NA4004AA_AS.out
[09:14:15] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:15] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:15] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:15] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 200000 records...
[09:14:15] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:15] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:15] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:15] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:15] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:15] This is snippy 4.4.3
[09:14:15] Written by Torsten Seemann
[09:14:15] Obtained from https://github.com/tseemann/snippy
[09:14:15] Detected operating system: linux
[09:14:15] Enabling bundled linux tools.
[09:14:15] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4004AA_AS.out\tSM:ESC_NA4004AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:15] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:15] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 300000 records...
[09:14:15] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:15] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:15] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:15] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:15] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:15] Marked 191 heterozygous sites with 'n'
[09:14:15] Creating extra output files: BED GFF CSV TXT HTML
[09:14:15] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:15] Identified 19 variants.
[09:14:15] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out
[09:14:15] Result files:
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.aligned.fa
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.bam
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.bam.bai
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.bed
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.consensus.fa
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.consensus.subs.fa
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.csv
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.filt.vcf
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.gff
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.html
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.log
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.raw.vcf
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.subs.vcf
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.tab
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.txt
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.vcf
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.vcf.gz
[09:14:15] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out/snps.vcf.gz.csi
[09:14:15] Walltime used: 23 seconds
[09:14:15] May the SNPs be with you.
[09:14:15] Done.
[Thu Sep 10 09:14:15 2020]
Finished job 58.
90 of 121 steps (74%) done

[Thu Sep 10 09:14:15 2020]
[09:14:15] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out
    jobid: 74
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_IA3651AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta
[09:14:15] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:15] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:15] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:16] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:16] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[M::process] read 320096 sequences (80000260 bp)...
[09:14:16] Found gzip - /usr/bin/gzip
[09:14:16] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:16] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[samclip] Processed 400000 records...
[09:14:16] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[samclip] Processed 100000 records...
[09:14:16] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4063AA_AS.out\tSM:ESC_NA4063AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.336 sec; CPU: 58.210 sec
[samclip] Total SAM records 425120, removed 1558, allowed 141, passed 423562
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:16] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:16] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:16] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 103022 reads in 13.744 CPU sec, 1.750 real sec
[09:14:16] Wrote 424214 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:16] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:16] Using BAM RG (Read Group) ID: ESC_NA4045AA_AS.out
[09:14:16] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:16] Running: bwa index reference/ref.fa 2>> snps.log
[M::process] read 103488 sequences (25864382 bp)...
[samclip] Processed 200000 records...
[09:14:17] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:17] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:17] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:17] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:17] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:17] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:17] Treating reference as 'fasta' format.
[09:14:17] Will use 8 CPU cores.
[09:14:17] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:17] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta
[09:14:17] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out
[09:14:17] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out
[09:14:17] Creating reference folder: reference
[09:14:17] Extracting FASTA and GFF from reference.
[09:14:17] Wrote 1 sequences to ref.fa
[09:14:17] Wrote 0 features to ref.gff
[09:14:17] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4072AA_AS.fasta into pseudo-reads
[09:14:17] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4045AA_AS.out\tSM:ESC_NA4045AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 300000 records...
[M::process] read 320028 sequences (80000132 bp)...
[samclip] Processed 400000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 104186 sequences (26036904 bp)...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4067AA_AS.out\tSM:ESC_NA4067AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.294 sec; CPU: 52.968 sec
[samclip] Total SAM records 423214, removed 1366, allowed 106, passed 421848
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:17] Wrote 423406 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:17] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:17] Using BAM RG (Read Group) ID: ESC_NA4055AA_AS.out
[09:14:17] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:17] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:17] This is snippy 4.4.3
[09:14:17] Written by Torsten Seemann
[09:14:17] Obtained from https://github.com/tseemann/snippy
[09:14:17] Detected operating system: linux
[09:14:17] Enabling bundled linux tools.
[09:14:17] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:17] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:17] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:17] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:17] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:17] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:17] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:17] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:17] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:17] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4055AA_AS.out\tSM:ESC_NA4055AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:14:17] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:17] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:18] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[09:14:18] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:18] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:18] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:18] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:18] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:18] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:18] Found gzip - /usr/bin/gzip
[M::process] read 320254 sequences (80000248 bp)...
[09:14:18] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:18] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:18] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::mem_process_seqs] Processed 320084 reads in 46.736 CPU sec, 7.470 real sec
[09:14:18] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:18] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:18] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:18] Running: samtools index snps.bam 2>> snps.log
[09:14:19] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:19] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:20] Checking version: java -version is >= 1.8 - ok, have 1.8
[samclip] Processed 100000 records...
[M::mem_process_seqs] Processed 101982 reads in 11.362 CPU sec, 2.122 real sec
[09:14:20] Wrote 422708 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:20] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:20] Using BAM RG (Read Group) ID: ESC_NA4072AA_AS.out
[09:14:20] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:20] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:20] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:20] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:20] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:20] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[samclip] Processed 200000 records...
[09:14:20] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:20] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:21] Treating reference as 'fasta' format.
[09:14:21] Will use 8 CPU cores.
[09:14:21] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta
[09:14:21] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out
[09:14:21] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out
[09:14:21] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:21] Creating reference folder: reference
[09:14:21] Extracting FASTA and GFF from reference.
[09:14:21] Wrote 1 sequences to ref.fa
[09:14:21] Wrote 0 features to ref.gff
[09:14:21] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_IA3651AA_AS.fasta into pseudo-reads
[09:14:21] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4072AA_AS.out\tSM:ESC_NA4072AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:21] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 323
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:21] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:21] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:21] Running: samtools index snps.bam 2>> snps.log
[samclip] Processed 300000 records...
[M::process] read 320052 sequences (80000002 bp)...
[M::process] read 103152 sequences (25771738 bp)...
[09:14:21] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:21] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::process] read 102656 sequences (25661008 bp)...
[09:14:21] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:21] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:22] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:22] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:22] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 320096 reads in 36.521 CPU sec, 6.510 real sec
[09:14:22] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:22] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 7
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 8

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 8
       total no. variants observed              : 315
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:23] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:23] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[samclip] Processed 400000 records...
[09:14:23] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:23] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4068AA_AS.out\tSM:ESC_NA4068AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.577 sec; CPU: 58.805 sec
[samclip] Total SAM records 422206, removed 1361, allowed 102, passed 420845
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:23] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:23] Marked 148 heterozygous sites with 'n'
[09:14:23] Creating extra output files: BED GFF CSV TXT HTML
[09:14:23] Identified 323 variants.
[09:14:23] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out
[09:14:23] Result files:
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.aligned.fa
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.bam
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.bam.bai
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.bed
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.consensus.fa
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.consensus.subs.fa
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.csv
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.filt.vcf
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.gff
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.html
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.log
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.raw.vcf
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.subs.vcf
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.tab
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.txt
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.vcf
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.vcf.gz
[09:14:23] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out/snps.vcf.gz.csi
[09:14:23] Walltime used: 25 seconds
[09:14:23] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:14:23] Done.
[samclip] Processed 100000 records...
[Thu Sep 10 09:14:24 2020]
Finished job 30.
91 of 121 steps (75%) done

[Thu Sep 10 09:14:24 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out
    jobid: 52
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4069AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta
[09:14:24] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::mem_process_seqs] Processed 103488 reads in 9.804 CPU sec, 1.481 real sec
[09:14:24] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:24] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:24] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:24] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[samclip] Processed 200000 records...
[09:14:24] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:24] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:24] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:24] Running: rm -f fake_reads\.fq 2>> snps.log
[samclip] Processed 300000 records...
[09:14:24] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:24] Wrote 421012 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:24] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:24] Using BAM RG (Read Group) ID: ESC_IA3651AA_AS.out
[09:14:24] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:25] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 400000 records...
[09:14:25] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:25] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:25] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:25] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4004AA_AS.out\tSM:ESC_NA4004AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.574 sec; CPU: 47.084 sec
[samclip] Total SAM records 423725, removed 1337, allowed 132, passed 422388
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:25] Marked 151 heterozygous sites with 'n'
[09:14:25] Creating extra output files: BED GFF CSV TXT HTML
[09:14:25] Running: bwa mem  -Y -M -R '@RG\tID:ESC_IA3651AA_AS.out\tSM:ESC_IA3651AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:14:25] Identified 315 variants.
[09:14:25] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out
[09:14:25] Result files:
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.aligned.fa
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.bam
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.bam.bai
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.bed
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.consensus.fa
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.consensus.subs.fa
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.csv
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.filt.vcf
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.gff
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.html
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.log
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.raw.vcf
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.subs.vcf
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.tab
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.txt
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.vcf
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.vcf.gz
[09:14:25] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out/snps.vcf.gz.csi
[09:14:25] Walltime used: 24 seconds
[09:14:25] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:14:25] Done.
[Thu Sep 10 09:14:25 2020]
Finished job 84.
92 of 121 steps (76%) done

[Thu Sep 10 09:14:25 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out
    jobid: 32
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3974AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[M::process] read 320042 sequences (80000192 bp)...
[M::mem_process_seqs] Processed 320028 reads in 38.150 CPU sec, 8.527 real sec
[09:14:26] This is snippy 4.4.3
[09:14:26] Written by Torsten Seemann
[09:14:26] Obtained from https://github.com/tseemann/snippy
[09:14:26] Detected operating system: linux
[09:14:26] Enabling bundled linux tools.
[09:14:26] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:26] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:26] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:26] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:26] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:26] Running: samtools index snps.bam 2>> snps.log
[09:14:26] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:26] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:26] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:26] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:26] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:26] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:26] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:26] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:26] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:26] Found gzip - /usr/bin/gzip
[09:14:26] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:26] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:26] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:26] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:27] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:27] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:27] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:27] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:27] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:27] This is snippy 4.4.3
[09:14:27] Written by Torsten Seemann
[09:14:27] Obtained from https://github.com/tseemann/snippy
[09:14:27] Detected operating system: linux
[09:14:27] Enabling bundled linux tools.
[09:14:27] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:27] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:27] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:27] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:27] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:27] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:27] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:27] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:27] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:27] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[samclip] Processed 100000 records...
[09:14:27] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:27] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:27] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:27] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:27] Found gzip - /usr/bin/gzip
[09:14:27] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:27] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:27] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::mem_process_seqs] Processed 104186 reads in 12.076 CPU sec, 1.802 real sec
[09:14:27] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:27] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:27] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:27] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:27] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:27] Treating reference as 'fasta' format.
[09:14:27] Will use 8 CPU cores.
[09:14:27] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta
[09:14:27] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out
[09:14:27] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out
[09:14:27] Creating reference folder: reference
[09:14:27] Extracting FASTA and GFF from reference.
[09:14:27] Wrote 1 sequences to ref.fa
[09:14:27] Wrote 0 features to ref.gff
[09:14:27] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4069AA_AS.fasta into pseudo-reads
[09:14:27] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[M::process] read 100970 sequences (25225044 bp)...
[09:14:28] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:28] Checking version: java -version is >= 1.8 - ok, have 1.8
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 315
       total no. reference observed             : 0

Time elapsed: 0.00s

[samclip] Processed 200000 records...
[09:14:28] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:28] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:28] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:28] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:28] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:28] Treating reference as 'fasta' format.
[09:14:28] Will use 8 CPU cores.
[09:14:28] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta
[09:14:28] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out
[09:14:28] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out
[09:14:28] Creating reference folder: reference
[09:14:28] Extracting FASTA and GFF from reference.
[09:14:28] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:28] Wrote 1 sequences to ref.fa
[09:14:28] Wrote 0 features to ref.gff
[09:14:28] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3974AA_AS.fasta into pseudo-reads
[09:14:28] Running: samtools index snps.bam 2>> snps.log
[09:14:28] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] Processed 300000 records...
[09:14:28] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:28] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:28] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:28] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:28] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:28] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:28] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:28] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:28] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:28] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4045AA_AS.out\tSM:ESC_NA4045AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.662 sec; CPU: 50.875 sec
[samclip] Total SAM records 424356, removed 1379, allowed 159, passed 422977
[samclip] Header contained 3 lines
[samclip] Done.
[M::mem_process_seqs] Processed 320052 reads in 44.160 CPU sec, 7.202 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:29] Marked 171 heterozygous sites with 'n'
[09:14:29] Creating extra output files: BED GFF CSV TXT HTML
[M::mem_process_seqs] Processed 320254 reads in 52.992 CPU sec, 10.871 real sec
[09:14:29] Identified 315 variants.
[09:14:29] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out
[09:14:29] Result files:
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.aligned.fa
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.bam
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.bam.bai
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.bed
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.consensus.fa
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.consensus.subs.fa
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.csv
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.filt.vcf
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.gff
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.html
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.log
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.raw.vcf
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.subs.vcf
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.tab
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.txt
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.vcf
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.vcf.gz
[09:14:29] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out/snps.vcf.gz.csi
[09:14:29] Walltime used: 23 seconds
[09:14:29] Wishing you a life free of homopolymer errors.
[09:14:29] Done.
[Thu Sep 10 09:14:29 2020]
Finished job 86.
93 of 121 steps (77%) done

[Thu Sep 10 09:14:29 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out
    jobid: 54
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_HA6411AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta
[09:14:29] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 314
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:29] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:29] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 100000 records...
[samclip] Processed 100000 records...
[09:14:30] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::mem_process_seqs] Processed 102656 reads in 11.165 CPU sec, 1.730 real sec
[09:14:30] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:30] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:30] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[samclip] Processed 200000 records...
[samclip] Processed 200000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 103152 reads in 10.722 CPU sec, 1.716 real sec
[09:14:30] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:31] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:31] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:31] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[samclip] Processed 300000 records...
[samclip] Processed 300000 records...
[09:14:31] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:31] Wrote 423802 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:31] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:31] Using BAM RG (Read Group) ID: ESC_NA4069AA_AS.out
[09:14:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:31] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:31] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:31] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:31] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:31] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[09:14:31] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4069AA_AS.out\tSM:ESC_NA4069AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4072AA_AS.out\tSM:ESC_NA4072AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.288 sec; CPU: 56.096 sec
[samclip] Total SAM records 422850, removed 1324, allowed 137, passed 421526
[samclip] Header contained 3 lines
[samclip] Done.
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4055AA_AS.out\tSM:ESC_NA4055AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 13.481 sec; CPU: 64.364 sec
[samclip] Total SAM records 423565, removed 1456, allowed 140, passed 422109
[samclip] Header contained 3 lines
[samclip] Done.
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:31] Marked 164 heterozygous sites with 'n'
[09:14:31] Creating extra output files: BED GFF CSV TXT HTML
[09:14:31] Identified 314 variants.
[09:14:31] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out
[09:14:31] Result files:
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.aligned.fa
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.bam
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.bam.bai
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.bed
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.consensus.fa
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.consensus.subs.fa
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.csv
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.filt.vcf
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.gff
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.html
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.log
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.raw.vcf
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.subs.vcf
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.tab
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.txt
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.vcf
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.vcf.gz
[09:14:31] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out/snps.vcf.gz.csi
[09:14:31] Walltime used: 20 seconds
[09:14:31] May the SNPs be with you.
[09:14:31] Done.
[09:14:31] Wrote 422150 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:31] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:31] Using BAM RG (Read Group) ID: ESC_NA3974AA_AS.out
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[Thu Sep 10 09:14:31 2020]
Finished job 2.
94 of 121 steps (78%) done

[Thu Sep 10 09:14:31 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out
    jobid: 66
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4003AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta
[09:14:31] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:31] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:31] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:31] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:31] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:31] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3974AA_AS.out\tSM:ESC_NA3974AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:31] This is snippy 4.4.3
[09:14:31] Written by Torsten Seemann
[09:14:31] Obtained from https://github.com/tseemann/snippy
[09:14:31] Detected operating system: linux
[09:14:31] Enabling bundled linux tools.
[09:14:31] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:31] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:31] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:31] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:31] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:31] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:31] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:31] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:31] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:31] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:31] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:31] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:31] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:31] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:31] Found gzip - /usr/bin/gzip
[09:14:31] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:31] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:31] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:31] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:31] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:31] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:31] Running: samtools index snps.bam 2>> snps.log
[M::process] read 320084 sequences (80000282 bp)...
[09:14:31] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:32] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::process] read 103718 sequences (25916210 bp)...
[M::process] read 320034 sequences (80000468 bp)...
[09:14:32] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:32] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:32] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:32] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:32] Treating reference as 'fasta' format.
[09:14:32] Will use 8 CPU cores.
[09:14:32] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta
[09:14:32] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out
[09:14:32] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out
[09:14:32] Creating reference folder: reference
[09:14:32] Extracting FASTA and GFF from reference.
[09:14:32] Wrote 1 sequences to ref.fa
[09:14:32] Wrote 0 features to ref.gff
[09:14:32] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_HA6411AA_AS.fasta into pseudo-reads
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:32] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 316
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:32] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:32] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 102116 sequences (25522104 bp)...
[09:14:32] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:32] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:32] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:32] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:33] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:33] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:33] This is snippy 4.4.3
[09:14:33] Written by Torsten Seemann
[09:14:33] Obtained from https://github.com/tseemann/snippy
[09:14:33] Detected operating system: linux
[09:14:33] Enabling bundled linux tools.
[09:14:33] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:33] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:33] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:33] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:33] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:33] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:33] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:33] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:33] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:33] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:33] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:33] Running: samtools index snps.bam 2>> snps.log
[09:14:33] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:33] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:33] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:33] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:33] Running: samtools index snps.bam 2>> snps.log
[09:14:33] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:33] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:33] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:33] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:33] Found gzip - /usr/bin/gzip
[09:14:34] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:34] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:34] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:34] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:34] Marked 179 heterozygous sites with 'n'
[09:14:34] Creating extra output files: BED GFF CSV TXT HTML
[09:14:34] Identified 316 variants.
[09:14:34] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out
[09:14:34] Result files:
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.aligned.fa
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.bam
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.bam.bai
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.bed
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.consensus.fa
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.consensus.subs.fa
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.csv
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.filt.vcf
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.gff
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.html
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.log
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.raw.vcf
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.subs.vcf
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.tab
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.txt
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.vcf
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.vcf.gz
[09:14:34] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out/snps.vcf.gz.csi
[09:14:34] Walltime used: 22 seconds
[09:14:34] Wishing you a life free of homopolymer errors.
[09:14:34] Done.
[09:14:34] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[M::mem_process_seqs] Processed 320042 reads in 39.203 CPU sec, 8.398 real sec
[Thu Sep 10 09:14:34 2020]
Finished job 82.
95 of 121 steps (79%) done

[Thu Sep 10 09:14:34 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out
    jobid: 4
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4000AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta
[09:14:34] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:34] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:34] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:34] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:35] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[M::mem_process_seqs] Processed 100970 reads in 11.592 CPU sec, 2.039 real sec
[samclip] Processed 100000 records...
[09:14:36] Checking version: java -version is >= 1.8 - ok, have 1.8

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 7
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 8

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 8
       total no. variants observed              : 308
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:36] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:36] Wrote 421888 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:36] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:36] Using BAM RG (Read Group) ID: ESC_HA6411AA_AS.out
[09:14:36] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:36] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:36] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:36] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[samclip] Processed 200000 records...
[09:14:36] Running: ln -sf reference/ref.fa . 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:14:36] Running: ln -sf reference/ref.fa.fai . 2>> snps.log

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 326
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:36] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:36] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:36] Running: bwa mem  -Y -M -R '@RG\tID:ESC_HA6411AA_AS.out\tSM:ESC_HA6411AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:14:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:36] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:36] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:36] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:36] Treating reference as 'fasta' format.
[09:14:36] Will use 8 CPU cores.
[09:14:36] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[09:14:36] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:36] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out
[09:14:36] Creating reference folder: reference
[09:14:36] Extracting FASTA and GFF from reference.
[09:14:36] Wrote 1 sequences to ref.fa
[09:14:36] Wrote 0 features to ref.gff
[09:14:36] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4003AA_AS.fasta into pseudo-reads
[09:14:36] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:36] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:36] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:36] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:36] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:36] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:36] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:36] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:36] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:14:36] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:36] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:36] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:36] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:36] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:36] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:37] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 320104 sequences (80000456 bp)...
[09:14:37] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:37] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:37] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[samclip] Processed 400000 records...
[09:14:37] Marked 129 heterozygous sites with 'n'
[09:14:37] Creating extra output files: BED GFF CSV TXT HTML
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_IA3651AA_AS.out\tSM:ESC_IA3651AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.081 sec; CPU: 51.467 sec
[09:14:37] Identified 308 variants.
[samclip] Total SAM records 421151, removed 1272, allowed 101, passed 419879
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:37] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out
[09:14:37] Result files:
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.aligned.fa
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.bam
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.bam.bai
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.bed
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.consensus.fa
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.consensus.subs.fa
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.csv
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.filt.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.gff
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.html
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.log
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.raw.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.subs.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.tab
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.txt
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.vcf.gz
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out/snps.vcf.gz.csi
[09:14:37] Walltime used: 22 seconds
[09:14:37] Questionable SNP? Try the --report option to see the alignments.
[09:14:37] Done.
[Thu Sep 10 09:14:37 2020]
Finished job 106.
96 of 121 steps (79%) done

[Thu Sep 10 09:14:37 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out
    jobid: 90
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4005AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::process] read 101784 sequences (25424068 bp)...
[09:14:37] Marked 181 heterozygous sites with 'n'
[09:14:37] Creating extra output files: BED GFF CSV TXT HTML
[09:14:37] Identified 326 variants.
[09:14:37] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out
[09:14:37] Result files:
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.aligned.fa
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.bam
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.bam.bai
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.bed
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.consensus.fa
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.consensus.subs.fa
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.csv
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.filt.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.gff
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.html
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.log
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.raw.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.subs.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.tab
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.txt
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.vcf
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.vcf.gz
[09:14:37] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out/snps.vcf.gz.csi
[09:14:37] Walltime used: 24 seconds
[09:14:37] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:14:37] Done.
[09:14:37] This is snippy 4.4.3
[09:14:37] Written by Torsten Seemann
[09:14:37] Obtained from https://github.com/tseemann/snippy
[09:14:37] Detected operating system: linux
[09:14:37] Enabling bundled linux tools.
[09:14:37] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:37] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[Thu Sep 10 09:14:37 2020]
Finished job 26.
97 of 121 steps (80%) done

[Thu Sep 10 09:14:37 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out
    jobid: 78
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA3999AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta
[09:14:37] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:37] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:37] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:37] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:37] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:37] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:37] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:37] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:37] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:37] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:37] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:37] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:37] Found gzip - /usr/bin/gzip
[09:14:37] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:37] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:37] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:37] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:37] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:37] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:38] Checking version: java -version is >= 1.8 - ok, have 1.8
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:38] This is snippy 4.4.3
[09:14:38] Written by Torsten Seemann
[09:14:38] Obtained from https://github.com/tseemann/snippy
[09:14:38] Detected operating system: linux
[09:14:38] Enabling bundled linux tools.
[09:14:38] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:38] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:38] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:38] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:38] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:38] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:38] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:38] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:38] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:38] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:38] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:38] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:38] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:38] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:38] Found gzip - /usr/bin/gzip
[09:14:38] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:38] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:38] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:38] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:38] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:38] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:38] This is snippy 4.4.3
[09:14:38] Written by Torsten Seemann
[09:14:38] Obtained from https://github.com/tseemann/snippy
[09:14:38] Detected operating system: linux
[09:14:38] Enabling bundled linux tools.
[09:14:38] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:38] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:38] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:38] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:38] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:38] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:38] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:38] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:38] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:38] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:38] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:38] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:38] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:38] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:38] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:38] Found gzip - /usr/bin/gzip
[09:14:38] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:38] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:38] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:38] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:38] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[M::mem_process_seqs] Processed 320034 reads in 41.009 CPU sec, 6.850 real sec
[09:14:38] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:39] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:39] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:39] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:39] Treating reference as 'fasta' format.
[09:14:39] Will use 8 CPU cores.
[09:14:39] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta
[09:14:39] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out
[09:14:39] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out
[09:14:39] Creating reference folder: reference
[09:14:39] Extracting FASTA and GFF from reference.
[09:14:39] Wrote 1 sequences to ref.fa
[09:14:39] Wrote 0 features to ref.gff
[09:14:39] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4000AA_AS.fasta into pseudo-reads
[09:14:39] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:39] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:39] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:39] Treating reference as 'fasta' format.
[09:14:39] Will use 8 CPU cores.
[09:14:39] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta
[09:14:39] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out
[09:14:39] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out
[09:14:39] Creating reference folder: reference
[09:14:39] Extracting FASTA and GFF from reference.
[09:14:39] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:39] Wrote 1 sequences to ref.fa
[09:14:39] Wrote 0 features to ref.gff
[09:14:39] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4005AA_AS.fasta into pseudo-reads
[samclip] Processed 100000 records...
[09:14:39] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:39] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:39] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:39] Treating reference as 'fasta' format.
[09:14:39] Will use 8 CPU cores.
[09:14:39] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta
[09:14:39] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out
[09:14:39] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out
[09:14:39] Creating reference folder: reference
[09:14:39] Extracting FASTA and GFF from reference.
[09:14:39] Wrote 1 sequences to ref.fa
[09:14:39] Wrote 0 features to ref.gff
[09:14:39] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA3999AA_AS.fasta into pseudo-reads
[09:14:39] Wrote 423204 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:39] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:39] Using BAM RG (Read Group) ID: ESC_NA4003AA_AS.out
[09:14:39] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:40] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:40] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:40] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:40] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[samclip] Processed 200000 records...
[09:14:40] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:40] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4003AA_AS.out\tSM:ESC_NA4003AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:40] Running: samtools index snps.bam 2>> snps.log
[M::mem_process_seqs] Processed 102116 reads in 11.997 CPU sec, 1.561 real sec
[09:14:40] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[M::mem_process_seqs] Processed 320084 reads in 56.233 CPU sec, 8.789 real sec
[09:14:40] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[samclip] Processed 300000 records...
[M::process] read 320040 sequences (80000112 bp)...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3974AA_AS.out\tSM:ESC_NA3974AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.733 sec; CPU: 53.656 sec
[samclip] Total SAM records 422290, removed 1307, allowed 108, passed 420983
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:41] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 317
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:41] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:41] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:42] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:42] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] Processed 100000 records...
[09:14:42] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:42] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::process] read 103164 sequences (25788600 bp)...
[M::mem_process_seqs] Processed 103718 reads in 15.989 CPU sec, 2.113 real sec
[09:14:42] Wrote 424712 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:42] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:42] Using BAM RG (Read Group) ID: ESC_NA4000AA_AS.out
[09:14:42] Running: samtools faidx reference/ref.fa 2>> snps.log
[samclip] Processed 200000 records...
[09:14:42] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:42] Running: bwa index reference/ref.fa 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:42] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:42] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:42] Wrote 425244 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:42] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:42] Using BAM RG (Read Group) ID: ESC_NA4005AA_AS.out
[09:14:42] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:42] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:42] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:42] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:43] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:43] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:43] Running: ln -sf reference/ref.fa . 2>> snps.log
[samclip] Processed 300000 records...
[09:14:43] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:43] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:43] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4000AA_AS.out\tSM:ESC_NA4000AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:14:43] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:43] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:43] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:43] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:43] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4005AA_AS.out\tSM:ESC_NA4005AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:14:43] Wrote 428090 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:43] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:43] Using BAM RG (Read Group) ID: ESC_NA3999AA_AS.out
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:43] Running: samtools faidx reference/ref.fa 2>> snps.log
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:43] Running: bwa index reference/ref.fa 2>> snps.log
[samclip] Processed 400000 records...
[09:14:43] Marked 178 heterozygous sites with 'n'
[09:14:43] Creating extra output files: BED GFF CSV TXT HTML
[09:14:43] Identified 317 variants.
[09:14:43] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out
[09:14:43] Result files:
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4069AA_AS.out\tSM:ESC_NA4069AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.117 sec; CPU: 72.958 sec
[samclip] Total SAM records 423942, removed 1407, allowed 105, passed 422535
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.aligned.fa
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.bam
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.bam.bai
[09:14:43] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.bed
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.consensus.fa
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.consensus.subs.fa
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.csv
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.filt.vcf
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.gff
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.html
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.log
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.raw.vcf
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.subs.vcf
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.tab
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.txt
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.vcf
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.vcf.gz
[09:14:43] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out/snps.vcf.gz.csi
[09:14:43] Walltime used: 26 seconds
[09:14:43] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:14:43] Done.
[Thu Sep 10 09:14:43 2020]
Finished job 74.
98 of 121 steps (81%) done

[Thu Sep 10 09:14:43 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out
    jobid: 38
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4046AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta
[09:14:43] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:43] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:43] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:43] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA3999AA_AS.out\tSM:ESC_NA3999AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[M::process] read 320090 sequences (80000324 bp)...
[M::process] read 320002 sequences (80000200 bp)...
[09:14:43] Running: samtools index snps.bam 2>> snps.log
[M::process] read 320548 sequences (80000280 bp)...
[M::mem_process_seqs] Processed 320104 reads in 43.108 CPU sec, 6.947 real sec
[09:14:44] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:44] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:45] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 312
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:45] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:45] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::mem_process_seqs] Processed 101784 reads in 11.440 CPU sec, 1.691 real sec
[samclip] Processed 100000 records...
[09:14:45] This is snippy 4.4.3
[09:14:45] Written by Torsten Seemann
[09:14:45] Obtained from https://github.com/tseemann/snippy
[09:14:45] Detected operating system: linux
[09:14:45] Enabling bundled linux tools.
[09:14:45] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:45] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:45] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:45] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:45] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:45] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:45] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:45] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:46] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:46] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:46] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:46] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:46] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[M::process] read 104622 sequences (26140594 bp)...
[09:14:46] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:46] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:46] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:46] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:46] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[samclip] Processed 200000 records...
[09:14:46] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:46] Found gzip - /usr/bin/gzip
[09:14:46] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:46] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:46] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:46] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:46] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:46] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:46] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:46] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:46] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:46] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:46] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:46] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 300000 records...
[09:14:46] Running: samtools index snps.bam 2>> snps.log
[09:14:47] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:47] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:47] Marked 158 heterozygous sites with 'n'
[09:14:47] Creating extra output files: BED GFF CSV TXT HTML
[samclip] Processed 400000 records...
[09:14:47] Identified 312 variants.
[09:14:47] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out
[09:14:47] Result files:
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.aligned.fa
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.bam
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.bam.bai
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.bed
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.consensus.fa
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.consensus.subs.fa
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.csv
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.filt.vcf
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.gff
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.html
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.log
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.raw.vcf
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.subs.vcf
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.tab
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.txt
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.vcf
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.vcf.gz
[09:14:47] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out/snps.vcf.gz.csi
[09:14:47] Walltime used: 20 seconds
[09:14:47] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[09:14:47] Done.
[Thu Sep 10 09:14:47 2020]
Finished job 32.
99 of 121 steps (82%) done

[Thu Sep 10 09:14:47 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out
    jobid: 46
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_NA4035AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta
[09:14:47] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_HA6411AA_AS.out\tSM:ESC_HA6411AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 10.812 sec; CPU: 55.253 sec
[samclip] Total SAM records 422032, removed 1204, allowed 162, passed 420828
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:47] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:47] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:47] Treating reference as 'fasta' format.
[09:14:47] Will use 8 CPU cores.
[09:14:47] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta
[09:14:47] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out
[09:14:47] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out
[09:14:47] Creating reference folder: reference
[09:14:47] Extracting FASTA and GFF from reference.
[09:14:47] Wrote 1 sequences to ref.fa
[09:14:47] Wrote 0 features to ref.gff
[09:14:47] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4046AA_AS.fasta into pseudo-reads
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:48] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 302
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:48] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:48] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:14:48] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:48] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:48] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:48] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:48] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:48] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:48] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:48] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:48] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:48] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 105242 sequences (26306596 bp)...
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:48] Marked 128 heterozygous sites with 'n'
[09:14:48] Creating extra output files: BED GFF CSV TXT HTML
[09:14:48] Identified 302 variants.
[09:14:48] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out
[09:14:48] Result files:
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.aligned.fa
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.bam
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.bam.bai
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.bed
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.consensus.fa
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.consensus.subs.fa
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.csv
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.filt.vcf
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.gff
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.html
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.log
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.raw.vcf
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.subs.vcf
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.tab
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.txt
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.vcf
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.vcf.gz
[09:14:48] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out/snps.vcf.gz.csi
[09:14:48] Walltime used: 22 seconds
[09:14:48] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:14:48] Done.
[Thu Sep 10 09:14:48 2020]
Finished job 52.
100 of 121 steps (83%) done

[Thu Sep 10 09:14:48 2020]
rule snippy_run:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out
    jobid: 18
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF, sample=ESC_LA1124AA_AS
    threads: 5

snippy --outdir /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa --ctgs /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:49] This is snippy 4.4.3
[09:14:49] Written by Torsten Seemann
[09:14:49] Obtained from https://github.com/tseemann/snippy
[09:14:49] Detected operating system: linux
[09:14:49] Enabling bundled linux tools.
[09:14:49] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:49] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:49] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:49] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:49] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:49] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:49] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:49] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:49] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:49] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:49] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:49] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:49] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:49] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:49] Found gzip - /usr/bin/gzip
[09:14:49] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:49] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
[09:14:49] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[09:14:49] Checking version: samtools --version is >= 1.7 - ok, have 1.9
[09:14:49] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:49] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:49] Checking version: java -version is >= 1.8 - ok, have 1.8
[M::mem_process_seqs] Processed 320040 reads in 46.111 CPU sec, 9.081 real sec
[09:14:50] Running: samtools index snps.bam 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:14:50] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:50] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:50] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:50] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:50] Treating reference as 'fasta' format.
[09:14:50] Will use 8 CPU cores.
[09:14:50] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta
[09:14:50] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out
[09:14:50] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out
[09:14:50] Creating reference folder: reference
[09:14:50] Extracting FASTA and GFF from reference.
[09:14:50] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:50] Wrote 1 sequences to ref.fa
[09:14:50] Wrote 0 features to ref.gff
[09:14:50] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_NA4035AA_AS.fasta into pseudo-reads
[samclip] Processed 100000 records...
[09:14:51] Wrote 419186 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:51] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:51] Using BAM RG (Read Group) ID: ESC_NA4046AA_AS.out
[09:14:51] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:51] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:51] This is snippy 4.4.3
[09:14:51] Written by Torsten Seemann
[09:14:51] Obtained from https://github.com/tseemann/snippy
[09:14:51] Detected operating system: linux
[09:14:51] Enabling bundled linux tools.
[09:14:51] Found bwa - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bwa
[09:14:51] Found bcftools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bcftools
[09:14:51] Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:14:51] Found java - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/java
[09:14:51] Found snpEff - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snpEff
[09:14:51] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:51] Found samclip - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samclip
[09:14:51] Found seqtk - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/seqtk
[09:14:51] Found parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/parallel
[09:14:51] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:51] Found freebayes - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes
[09:14:51] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:51] Found freebayes-parallel - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/freebayes-parallel
[09:14:51] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:51] Found fasta_generate_regions.py - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/fasta_generate_regions.py
[09:14:51] Found vcfstreamsort - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfstreamsort
[09:14:51] Found vcfuniq - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcfuniq
[09:14:51] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4046AA_AS.out\tSM:ESC_NA4046AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[09:14:51] Found vcffirstheader - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vcffirstheader
[09:14:51] Found gzip - /usr/bin/gzip
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[09:14:51] Found vt - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/vt
[09:14:51] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:14:51] Found snippy-vcf_to_tab - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:14:51] Found snippy-vcf_report - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_report
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[09:14:51] Checking version: samtools --version is >= 1.7 - ok, have 1.9

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 305
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:51] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:51] Checking version: bcftools --version is >= 1.7 - ok, have 1.9
[09:14:51] Checking version: freebayes --version is >= 1.1 - ok, have 1.3
[09:14:51] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[samclip] Processed 200000 records...
[09:14:51] Checking version: java -version is >= 1.8 - ok, have 1.8
[09:14:51] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:14:51] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:51] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:51] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 103164 reads in 14.383 CPU sec, 1.848 real sec
[09:14:51] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:51] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:51] Checking version: snpEff -version is >= 4.3 - ok, have 4.3
[09:14:51] Checking version: bwa is >= 7.12 - ok, have 7.17
[09:14:51] Using reference: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
[09:14:51] Treating reference as 'fasta' format.
[09:14:51] Will use 8 CPU cores.
[09:14:51] Using read file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta
[09:14:51] Creating folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out
[09:14:51] Changing working directory: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out
[09:14:51] Creating reference folder: reference
[09:14:51] Extracting FASTA and GFF from reference.
[09:14:51] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[samclip] Processed 300000 records...
[09:14:51] Wrote 1 sequences to ref.fa
[09:14:51] Wrote 0 features to ref.gff
[09:14:51] Shredding /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/HC50_1106/ESC_LA1124AA_AS.fasta into pseudo-reads
[09:14:51] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:51] Running: rm -f fake_reads\.fq 2>> snps.log
[M::process] read 320042 sequences (80000116 bp)...
[09:14:51] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[M::process] read 99144 sequences (24770656 bp)...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4003AA_AS.out\tSM:ESC_NA4003AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.816 sec; CPU: 61.139 sec
[samclip] Total SAM records 423341, removed 1298, allowed 96, passed 422043
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:52] Marked 163 heterozygous sites with 'n'
[09:14:52] Creating extra output files: BED GFF CSV TXT HTML
[09:14:52] Identified 305 variants.
[09:14:52] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out
[09:14:52] Result files:
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.aligned.fa
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.bam
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.bam.bai
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.bed
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.consensus.fa
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.consensus.subs.fa
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.csv
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.filt.vcf
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.gff
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.html
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.log
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.raw.vcf
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.subs.vcf
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.tab
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.txt
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.vcf
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.vcf.gz
[09:14:52] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out/snps.vcf.gz.csi
[09:14:52] Walltime used: 21 seconds
[09:14:52] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[09:14:52] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[Thu Sep 10 09:14:52 2020]
Finished job 54.
101 of 121 steps (83%) done
[M::mem_process_seqs] Processed 320090 reads in 41.490 CPU sec, 8.717 real sec
[samclip] Processed 100000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 320002 reads in 34.980 CPU sec, 9.739 real sec
[samclip] Processed 100000 records...
[09:14:54] Wrote 417532 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[09:14:54] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:54] Using BAM RG (Read Group) ID: ESC_NA4035AA_AS.out
[09:14:54] Running: samtools faidx reference/ref.fa 2>> snps.log
[M::mem_process_seqs] Processed 104622 reads in 12.415 CPU sec, 1.692 real sec
[samclip] Processed 200000 records...
[09:14:54] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:54] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[09:14:54] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:54] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[samclip] Processed 200000 records...
[09:14:54] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:54] Running: bwa mem  -Y -M -R '@RG\tID:ESC_NA4035AA_AS.out\tSM:ESC_NA4035AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 300000 records...
[09:14:55] Running: samtools index snps.bam 2>> snps.log
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4000AA_AS.out\tSM:ESC_NA4000AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.921 sec; CPU: 54.567 sec
[samclip] Total SAM records 424837, removed 1394, allowed 133, passed 423443
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:55] Wrote 417692 fake 250bp reads (20x, stride 25bp) to fake_reads.fq
[M::process] read 320056 sequences (80000098 bp)...
[09:14:55] Freebayes will process 15 chunks of 9830 bp, 8 chunks at a time.
[09:14:55] Using BAM RG (Read Group) ID: ESC_LA1124AA_AS.out
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 105242 reads in 12.062 CPU sec, 1.809 real sec
[samclip] Processed 300000 records...
[09:14:55] Running: samtools faidx reference/ref.fa 2>> snps.log
[09:14:55] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:55] Running: bwa index reference/ref.fa 2>> snps.log
[09:14:55] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:55] Running: mkdir -p reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[M::process] read 97476 sequences (24363148 bp)...
[09:14:55] Running: ln -sf reference/ref.fa . 2>> snps.log
[09:14:55] Running: ln -sf reference/ref.fa.fai . 2>> snps.log
[09:14:55] Running: mkdir -p reference/ref && gzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[09:14:55] Running: bwa mem  -Y -M -R '@RG\tID:ESC_LA1124AA_AS.out\tSM:ESC_LA1124AA_AS.out' -t 8 reference/ref.fa fake_reads.fq | samclip --max 10 --ref reference/ref.fa.fai | samtools sort -n -l 0 -T /tmp --threads 8 -m 500M | samtools fixmate -m - - | samtools sort -l 0 -T /tmp --threads 8 -m 500M | samtools markdup -T /tmp -r -s - - > snps.bam 2>> snps.log
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[samclip] samclip 0.2 by Torsten Seemann (@torstenseemann)
[samclip] Loading: reference/ref.fa.fai
[samclip] Found 1 sequences in reference/ref.fa.fai
[samclip] Processed 400000 records...
[M::process] read 107542 sequences (26830384 bp)...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4005AA_AS.out\tSM:ESC_NA4005AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 12.645 sec; CPU: 47.665 sec
[samclip] Total SAM records 425387, removed 1403, allowed 128, passed 423984
[samclip] Header contained 3 lines
[samclip] Done.
[09:14:55] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[bam_sort_core] merging from 0 files and 8 in-memory blocks...

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 7
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 8

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 8
       total no. variants observed              : 309
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:56] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:56] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::process] read 320014 sequences (80000092 bp)...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:57] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:14:58] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:14:58] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:14:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:14:58] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:14:58] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:14:58] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:14:58] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:14:58] Running: rm -f fake_reads\.fq 2>> snps.log
[09:14:58] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:14:58] Running: samtools index snps.bam 2>> snps.log
[09:14:58] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:58] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[M::process] read 97678 sequences (24415596 bp)...
[09:14:59] Marked 181 heterozygous sites with 'n'
[09:14:59] Creating extra output files: BED GFF CSV TXT HTML
[09:14:59] Identified 309 variants.
[09:14:59] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out
[09:14:59] Result files:
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.aligned.fa
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.bam
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.bam.bai
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.bed
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.consensus.fa
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.consensus.subs.fa
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.csv
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.filt.vcf
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.gff
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.html
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.log
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.raw.vcf
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.subs.vcf
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.tab
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.txt
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.vcf
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.vcf.gz
[09:14:59] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out/snps.vcf.gz.csi
[09:14:59] Walltime used: 26 seconds
[09:14:59] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[09:14:59] Done.
[Thu Sep 10 09:14:59 2020]
Finished job 66.
102 of 121 steps (84%) done
[09:14:59] Running: samtools index snps.bam 2>> snps.log
[09:14:59] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:14:59] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:14:59] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 307
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:14:59] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:14:59] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::mem_process_seqs] Processed 320042 reads in 48.960 CPU sec, 8.025 real sec
[09:15:00] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
[09:15:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 7
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 8

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 8
       total no. variants observed              : 320
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:15:00] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:15:00] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:15:00] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[M::mem_process_seqs] Processed 320548 reads in 37.162 CPU sec, 16.586 real sec
[09:15:00] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:15:00] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:15:01] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:15:01] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:15:01] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:15:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:15:01] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[samclip] Processed 100000 records...
[09:15:01] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:15:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:15:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:15:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:15:01] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:15:01] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:15:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:15:01] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[M::mem_process_seqs] Processed 99144 reads in 11.715 CPU sec, 1.828 real sec
[09:15:01] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:15:01] Running: rm -f fake_reads\.fq 2>> snps.log
[09:15:01] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[samclip] Processed 100000 records...
[09:15:02] Marked 144 heterozygous sites with 'n'
[09:15:02] Creating extra output files: BED GFF CSV TXT HTML
[09:15:02] Identified 307 variants.
[09:15:02] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out
[09:15:02] Result files:
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.aligned.fa
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.bam
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.bam.bai
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.bed
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.consensus.fa
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.consensus.subs.fa
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.csv
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.filt.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.gff
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.html
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.log
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.raw.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.subs.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.tab
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.txt
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.vcf.gz
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out/snps.vcf.gz.csi
[09:15:02] Walltime used: 25 seconds
[09:15:02] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:15:02] Done.
[Thu Sep 10 09:15:02 2020]
Finished job 4.
103 of 121 steps (85%) done
[samclip] Processed 200000 records...
[09:15:02] Marked 161 heterozygous sites with 'n'
[09:15:02] Creating extra output files: BED GFF CSV TXT HTML
[09:15:02] Identified 320 variants.
[09:15:02] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out
[09:15:02] Result files:
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.aligned.fa
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.bam
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.bam.bai
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.bed
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.consensus.fa
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.consensus.subs.fa
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.csv
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.filt.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.gff
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.html
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.log
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.raw.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.subs.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.tab
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.txt
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.vcf
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.vcf.gz
[09:15:02] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out/snps.vcf.gz.csi
[09:15:02] Walltime used: 24 seconds
[09:15:02] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:15:02] Done.
[Thu Sep 10 09:15:02 2020]
Finished job 90.
104 of 121 steps (86%) done
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[samclip] Processed 300000 records...
[M::mem_process_seqs] Processed 107542 reads in 13.225 CPU sec, 2.006 real sec
[M::mem_process_seqs] Processed 320056 reads in 39.833 CPU sec, 7.352 real sec
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4046AA_AS.out\tSM:ESC_NA4046AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 11.219 sec; CPU: 61.370 sec
[samclip] Total SAM records 419226, removed 932, allowed 83, passed 418294
[samclip] Header contained 3 lines
[samclip] Done.
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA3999AA_AS.out\tSM:ESC_NA3999AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 19.269 sec; CPU: 50.883 sec
[samclip] Total SAM records 428215, removed 1358, allowed 99, passed 426857
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 100000 records...
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 320014 reads in 38.291 CPU sec, 7.428 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[M::mem_process_seqs] Processed 97476 reads in 11.801 CPU sec, 1.455 real sec
[samclip] Processed 100000 records...
[samclip] Processed 400000 records...
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_NA4035AA_AS.out\tSM:ESC_NA4035AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.701 sec; CPU: 52.172 sec
[samclip] Total SAM records 417709, removed 1610, allowed 119, passed 416099
[samclip] Header contained 3 lines
[samclip] Done.
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[samclip] Processed 200000 records...
[samclip] Processed 300000 records...
[09:15:04] Running: samtools index snps.bam 2>> snps.log
[09:15:04] Running: samtools index snps.bam 2>> snps.log
[09:15:04] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:15:05] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:15:05] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:15:05] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:15:05] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 2
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 3

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 3
       total no. variants observed              : 125
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:15:05] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:15:05] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[M::mem_process_seqs] Processed 97678 reads in 11.372 CPU sec, 1.397 real sec
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:15:05] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:15:05] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:15:05] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa

[09:15:05] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:15:05] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log

stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 308
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:15:05] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:15:05] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:15:05] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:15:05] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:15:05] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[samclip] Processed 400000 records...
[09:15:05] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:15:05] Running: rm -f fake_reads\.fq 2>> snps.log
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -Y -M -R @RG\tID:ESC_LA1124AA_AS.out\tSM:ESC_LA1124AA_AS.out -t 8 reference/ref.fa fake_reads.fq
[main] Real time: 9.792 sec; CPU: 50.207 sec
[samclip] Total SAM records 417830, removed 1184, allowed 106, passed 416646
[samclip] Header contained 3 lines
[samclip] Done.
[09:15:05] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:15:05] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:15:05] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:15:05] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:15:05] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:15:05] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:15:05] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:15:05] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:15:05] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:15:05] Running: rm -f fake_reads\.fq 2>> snps.log
[09:15:05] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:15:05] Marked 1 heterozygous sites with 'n'
[09:15:05] Creating extra output files: BED GFF CSV TXT HTML
[09:15:05] Identified 125 variants.
[09:15:05] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out
[09:15:05] Result files:
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.aligned.fa
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.bam
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.bam.bai
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.bed
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.consensus.fa
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.consensus.subs.fa
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.csv
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.filt.vcf
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.gff
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.html
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.log
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.raw.vcf
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.subs.vcf
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.tab
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.txt
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.vcf
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.vcf.gz
[09:15:05] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out/snps.vcf.gz.csi
[09:15:05] Walltime used: 20 seconds
[09:15:05] Questionable SNP? Try the --report option to see the alignments.
[09:15:05] Done.
[Thu Sep 10 09:15:05 2020]
Finished job 38.
105 of 121 steps (87%) done
[09:15:06] Marked 182 heterozygous sites with 'n'
[09:15:06] Creating extra output files: BED GFF CSV TXT HTML
[09:15:06] Identified 308 variants.
[09:15:06] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out
[09:15:06] Result files:
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.aligned.fa
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.bam
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.bam.bai
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.bed
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.consensus.fa
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.consensus.subs.fa
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.csv
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.filt.vcf
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.gff
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.html
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.log
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.raw.vcf
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.subs.vcf
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.tab
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.txt
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.vcf
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.vcf.gz
[09:15:06] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out/snps.vcf.gz.csi
[09:15:06] Walltime used: 28 seconds
[09:15:06] Wishing you a life free of homopolymer errors.
[09:15:06] Done.
[Thu Sep 10 09:15:06 2020]
Finished job 78.
106 of 121 steps (88%) done
[09:15:06] Running: samtools index snps.bam 2>> snps.log
[09:15:06] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:15:06] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[bam_sort_core] merging from 0 files and 8 in-memory blocks...
[09:15:06] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 316
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:15:06] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:15:06] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[09:15:06] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:15:06] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:15:06] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:15:06] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:15:06] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:15:06] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
[09:15:06] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
[09:15:06] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:15:06] Running: rm -f fake_reads\.fq 2>> snps.log
[09:15:07] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
[09:15:07] Marked 151 heterozygous sites with 'n'
[09:15:07] Running: samtools index snps.bam 2>> snps.log
[09:15:07] Creating extra output files: BED GFF CSV TXT HTML
[09:15:07] Identified 316 variants.
[09:15:07] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out
[09:15:07] Result files:
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.aligned.fa
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.bam
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.bam.bai
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.bed
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.consensus.fa
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.consensus.subs.fa
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.csv
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.filt.vcf
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.gff
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.html
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.log
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.raw.vcf
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.subs.vcf
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.tab
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.txt
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.vcf
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.vcf.gz
[09:15:07] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out/snps.vcf.gz.csi
[09:15:07] Walltime used: 18 seconds
[09:15:07] Questionable SNP? Try the --report option to see the alignments.
[09:15:07] Done.
[Thu Sep 10 09:15:07 2020]
Finished job 46.
107 of 121 steps (88%) done

[Thu Sep 10 09:15:07 2020]
rule snippy_core:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.full.aln
    jobid: 119
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome
    threads: 32


        snippy-core --prefix /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/*.out
        
[09:15:07] Running: fasta_generate_regions.py reference/ref.fa.fai 9830 > reference/ref.txt 2>> snps.log
[09:15:07] Running: freebayes-parallel reference/ref.txt 8 -p 2 -P 0 -C 10 --min-repeat-entropy 1.5 --strict-vcf -q 13 -m 60 --min-coverage 10 -F 0.05  -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[09:15:07] Running: bcftools view --include 'FMT/GT="1/1" && QUAL>=100 && FMT/DP>=10 && (FMT/AO)/(FMT/DP)>=0' snps.raw.vcf  | vt normalize -r reference/ref.fa - | bcftools annotate --remove '^INFO/TYPE,^INFO/DP,^INFO/RO,^INFO/AO,^INFO/AB,^FORMAT/GT,^FORMAT/DP,^FORMAT/RO,^FORMAT/AO,^FORMAT/QR,^FORMAT/QA,^FORMAT/GL' > snps.filt.vcf 2>> snps.log
normalize v0.5

options:     input VCF file                                  -
         [o] output VCF file                                 -
         [w] sorting window size                             10000
         [n] no fail on reference inconsistency for non SNPs false
         [q] quiet                                           false
         [d] debug                                           false
         [r] reference FASTA file                            reference/ref.fa


stats: biallelic
          no. left trimmed                      : 1
          no. right trimmed                     : 8
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. biallelic normalized           : 9

       multiallelic
          no. left trimmed                      : 0
          no. right trimmed                     : 0
          no. left and right trimmed            : 0
          no. right trimmed and left aligned    : 0
          no. left aligned                      : 0

       total no. multiallelic normalized        : 0

       total no. variants normalized            : 9
       total no. variants observed              : 319
       total no. reference observed             : 0

Time elapsed: 0.00s

[09:15:07] Running: cp snps.filt.vcf snps.vcf 2>> snps.log
[09:15:07] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[09:15:07] Running: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snippy-vcf_extract_subs snps.filt.vcf > snps.subs.vcf 2>> snps.log
[09:15:07] Running: bcftools convert -Oz -o snps.vcf.gz snps.vcf 2>> snps.log
[09:15:07] Running: bcftools index -f snps.vcf.gz 2>> snps.log
[09:15:07] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.fa snps.vcf.gz 2>> snps.log
[09:15:08] Running: bcftools convert -Oz -o snps.subs.vcf.gz snps.subs.vcf 2>> snps.log
[09:15:08] Running: bcftools index -f snps.subs.vcf.gz 2>> snps.log
This is snippy-core 4.4.3
Obtained from http://github.com/tseemann/snippy
Enabling bundled tools.
Found any2fasta - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/binaries/noarch/any2fasta
Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
[09:15:08] Running: bcftools consensus -f reference/ref.fa -o snps.consensus.subs.fa snps.subs.vcf.gz 2>> snps.log
Found minimap2 - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/minimap2
Found bedtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bedtools
Found snp-sites - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snp-sites
Saving reference FASTA: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.ref.fa
[09:15:08] Running: rm -f snps.subs.vcf.gz snps.subs.vcf.gz.csi snps.subs.vcf.gz.tbi 2>> snps.log
[09:15:08] Running: rm -f fake_reads\.fq 2>> snps.log
[09:15:08] Generating reference aligned/masked FASTA relative to reference: snps.aligned.fa
This is any2fasta 0.4.2
Opening '/projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa'
Detected FASTA format
[09:15:08] Marked 154 heterozygous sites with 'n'
[09:15:08] Creating extra output files: BED GFF CSV TXT HTML
[09:15:08] Identified 319 variants.
[09:15:08] Result folder: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out
[09:15:08] Result files:
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.aligned.fa
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.bam
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.bam.bai
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.bed
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.consensus.fa
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.consensus.subs.fa
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.csv
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.filt.vcf
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.gff
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.html
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.log
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.raw.vcf
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.subs.vcf
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.tab
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.txt
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.vcf
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.vcf.gz
[09:15:08] * /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out/snps.vcf.gz.csi
[09:15:08] Walltime used: 17 seconds
[09:15:08] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[09:15:08] Done.
[Thu Sep 10 09:15:08 2020]
Finished job 18.
108 of 121 steps (89%) done
Read 65164 lines from '/projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/AVC171_chromosome.fa'
Wrote 1 sequences from FASTA file.
Processed 1 files.
Done.
Loaded 1 sequences totalling 5213028 bp.
Will mask 0 regions totalling 0 bp ~ 0.00%
0	ESC_BA8511AA_AS.out	snp=4041	del=110	ins=43	het=203	unaligned=386559
1	ESC_GA5350AA_AS.out	snp=3737	del=84	ins=29	het=278	unaligned=360208
2	ESC_GB6943AA_AS.out	snp=4008	del=56	ins=51	het=226	unaligned=384137
3	ESC_HA6332AA_AS.out	snp=4080	del=158	ins=41	het=683	unaligned=346961
4	ESC_HA6342AA_AS.out	snp=3876	del=98	ins=58	het=382	unaligned=334699
5	ESC_HA6411AA_AS.out	snp=3937	del=110	ins=46	het=202	unaligned=388699
6	ESC_HA6413AA_AS.out	snp=3879	del=146	ins=58	het=423	unaligned=336654
7	ESC_HA6418AA_AS.out	snp=3841	del=76	ins=36	het=459	unaligned=334749
8	ESC_HA6420AA_AS.out	snp=3937	del=62	ins=50	het=259	unaligned=393877
9	ESC_HB8007AA_AS.out	snp=4248	del=116	ins=35	het=316	unaligned=384807
10	ESC_IA0811AA_AS.out	snp=3884	del=56	ins=32	het=368	unaligned=340357
11	ESC_IA3651AA_AS.out	snp=4114	del=67	ins=69	het=209	unaligned=388841
12	ESC_LA1124AA_AS.out	snp=4073	del=58	ins=57	het=234	unaligned=418578
13	ESC_LA2840AA_AS.out	snp=4457	del=144	ins=54	het=303	unaligned=378501
14	ESC_LA2848AA_AS.out	snp=3959	del=172	ins=56	het=283	unaligned=387797
15	ESC_LB6278AA_AS.out	snp=3963	del=114	ins=50	het=169	unaligned=420835
16	ESC_LB6279AA_AS.out	snp=3938	del=115	ins=51	het=214	unaligned=419998
17	ESC_MA2736AA_AS.out	snp=4212	del=161	ins=50	het=270	unaligned=376069
18	ESC_NA3971AA_AS.out	snp=4118	del=66	ins=61	het=182	unaligned=435496
19	ESC_NA3973AA_AS.out	snp=4106	del=98	ins=47	het=229	unaligned=408355
20	ESC_NA3974AA_AS.out	snp=3927	del=54	ins=46	het=212	unaligned=402399
21	ESC_NA3975AA_AS.out	snp=3925	del=57	ins=51	het=204	unaligned=397590
22	ESC_NA3980AA_AS.out	snp=4001	del=60	ins=47	het=215	unaligned=424678
23	ESC_NA3982AA_AS.out	snp=3948	del=108	ins=51	het=171	unaligned=391929
24	ESC_NA3992AA_AS.out	snp=3921	del=57	ins=51	het=221	unaligned=389244
25	ESC_NA3999AA_AS.out	snp=3794	del=94	ins=44	het=180	unaligned=441643
26	ESC_NA4000AA_AS.out	snp=3905	del=103	ins=39	het=207	unaligned=428228
27	ESC_NA4003AA_AS.out	snp=3889	del=53	ins=49	het=213	unaligned=423167
28	ESC_NA4004AA_AS.out	snp=3910	del=102	ins=52	het=198	unaligned=399558
29	ESC_NA4005AA_AS.out	snp=3840	del=103	ins=39	het=200	unaligned=423894
30	ESC_NA4035AA_AS.out	snp=3857	del=50	ins=33	het=183	unaligned=348979
31	ESC_NA4045AA_AS.out	snp=3912	del=97	ins=48	het=182	unaligned=405256
32	ESC_NA4046AA_AS.out	snp=3926	del=56	ins=50	het=132	unaligned=415429
33	ESC_NA4048AA_AS.out	snp=4185	del=125	ins=92	het=260	unaligned=405407
34	ESC_NA4052AA_AS.out	snp=4043	del=56	ins=49	het=349	unaligned=386112
35	ESC_NA4053AA_AS.out	snp=4000	del=57	ins=61	het=365	unaligned=406383
36	ESC_NA4055AA_AS.out	snp=3908	del=93	ins=49	het=213	unaligned=390064
37	ESC_NA4056AA_AS.out	snp=3914	del=98	ins=56	het=211	unaligned=394407
38	ESC_NA4061AA_AS.out	snp=3917	del=64	ins=50	het=182	unaligned=395529
39	ESC_NA4063AA_AS.out	snp=3934	del=105	ins=50	het=203	unaligned=402394
40	ESC_NA4064AA_AS.out	snp=3839	del=166	ins=57	het=105	unaligned=405460
41	ESC_NA4066AA_AS.out	snp=3854	del=54	ins=50	het=132	unaligned=384505
42	ESC_NA4067AA_AS.out	snp=3953	del=53	ins=44	het=221	unaligned=394585
43	ESC_NA4068AA_AS.out	snp=3938	del=103	ins=50	het=188	unaligned=393631
44	ESC_NA4069AA_AS.out	snp=3872	del=62	ins=48	het=194	unaligned=405163
45	ESC_NA4070AA_AS.out	snp=3946	del=55	ins=51	het=254	unaligned=399261
46	ESC_NA4071AA_AS.out	snp=4331	del=76	ins=65	het=427	unaligned=377480
47	ESC_NA4072AA_AS.out	snp=3898	del=53	ins=53	het=209	unaligned=403123
48	ESC_SA8250AA_AS.out	snp=117	del=25	ins=3	het=50	unaligned=200348
49	ESC_SA8273AA_AS.out	snp=117	del=13	ins=5	het=182	unaligned=203363
50	ESC_SA8291AA_AS.out	snp=3950	del=52	ins=63	het=211	unaligned=394619
51	ESC_SA8296AA_AS.out	snp=3918	del=51	ins=60	het=176	unaligned=394545
52	ESC_SA8312AA_AS.out	snp=4123	del=121	ins=35	het=661	unaligned=385153
53	ESC_VA0598AA_AS.out	snp=3978	del=111	ins=37	het=305	unaligned=383004
Opening: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.tab
Opening: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.vcf
Processing contig: AVC171_chromosome
Generating /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.full.aln
Creating TSV file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.txt
Running: snp-sites -c -o /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.aln /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.full.aln
Have a suggestion? Tell me at http://github.com/tseemann/snippy/issues
Done.
[Thu Sep 10 09:15:18 2020]
Finished job 119.
109 of 121 steps (90%) done

[Thu Sep 10 09:15:18 2020]
rule snippy_clean:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.full.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.clean.full.aln
    jobid: 117
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome
    threads: 32

snippy-clean_full_aln /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.full.aln > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.clean.full.aln
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[Thu Sep 10 09:15:28 2020]
Finished job 117.
110 of 121 steps (91%) done

[Thu Sep 10 09:15:28 2020]
rule gubbins:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.clean.full.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/AVC171_chromosome.filtered_polymorphic_sites.fasta
    jobid: 115
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome
    threads: 32


        run_gubbins.py -v -f 25 -p /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/AVC171_chromosome /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/AVC171_chromosome.clean.full.aln
        rm AVC171_chromosome.clean.full.aln.seq.joint.txt
        
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/0d285378


Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 2112 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 23.07%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 distinct randomized MP trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 2112
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s AVC171_chromosome.clean.full.aln.phylip -n AVC171_chromosome.clean.full.iteration_1 


Partition: 0 with name: No Name Provided
Base frequencies: 0.222 0.271 0.251 0.257 

Inference[0]: Time 43.681809 CAT-based likelihood -49609.248613, best rearrangement setting 10


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 14.659413 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 30.281383 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 61.239263 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 121.154072 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 222.976069 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 418.827235 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 801.262502 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -49609.282238 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.AVC171_chromosome.clean.full.iteration_1


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -49609.282238 .... 

Final GAMMA-based Score of best tree -49609.282238

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.AVC171_chromosome.clean.full.iteration_1
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.AVC171_chromosome.clean.full.iteration_1

Overall execution time: 60.460195 secs or 0.016794 hours or 0.000700 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 2112 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 23.07%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 2112
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpsg5u3zle/rooted_tree.newick -n internal 



WARNING the alpha parameter with a value of 14.670242 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 30.309169 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 61.292845 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 121.257857 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 223.174843 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 418.915670 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 801.433748 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpsg5u3zle/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpsg5u3zle/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpsg5u3zle/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 6.217539



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 852 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 6.81%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 852
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.AVC171_chromosome.clean.full.iteration_1.phylip -n AVC171_chromosome.clean.full.iteration_2 -t RAxML_result.AVC171_chromosome.clean.full.iteration_1 


Partition: 0 with name: No Name Provided
Base frequencies: 0.191 0.301 0.317 0.191 

Inference[0]: Time 5.679600 CAT-based likelihood -11247.575244, best rearrangement setting 10


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 11.968398 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 26.963195 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 61.016750 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 138.973581 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 309.170511 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 701.784440 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -11246.741176 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.AVC171_chromosome.clean.full.iteration_2


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -11246.741176 .... 

Final GAMMA-based Score of best tree -11243.863270

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.AVC171_chromosome.clean.full.iteration_2
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.AVC171_chromosome.clean.full.iteration_2

Overall execution time: 11.177990 secs or 0.003105 hours or 0.000129 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 2112 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 23.07%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 2112
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpnme8pm26/rooted_tree.newick -n internal 



WARNING the alpha parameter with a value of 10.429110 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 19.745679 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 33.375471 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 36.870162 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 37.131268 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpnme8pm26/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpnme8pm26/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpnme8pm26/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 5.394298



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 852 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 6.62%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 852
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.AVC171_chromosome.clean.full.iteration_2.phylip -n AVC171_chromosome.clean.full.iteration_3 -t RAxML_result.AVC171_chromosome.clean.full.iteration_2 


Partition: 0 with name: No Name Provided
Base frequencies: 0.190 0.300 0.316 0.193 

Inference[0]: Time 3.677023 CAT-based likelihood -11349.392707, best rearrangement setting 5


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 11.579415 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 25.467779 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 55.784398 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 122.584370 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 262.764777 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 582.518082 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 999.876281 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -11349.620719 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.AVC171_chromosome.clean.full.iteration_3


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -11349.620719 .... 

Final GAMMA-based Score of best tree -11349.620591

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.AVC171_chromosome.clean.full.iteration_3
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.AVC171_chromosome.clean.full.iteration_3

Overall execution time: 9.725363 secs or 0.002701 hours or 0.000113 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 2112 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 23.07%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 2112
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmphdigfr7m/rooted_tree.newick -n internal 



WARNING the alpha parameter with a value of 10.531965 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 19.929510 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 33.624324 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 36.924513 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 37.185127 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmphdigfr7m/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmphdigfr7m/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmphdigfr7m/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 5.690046



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 848 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 6.67%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 848
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.AVC171_chromosome.clean.full.iteration_3.phylip -n AVC171_chromosome.clean.full.iteration_4 -t RAxML_result.AVC171_chromosome.clean.full.iteration_3 


Partition: 0 with name: No Name Provided
Base frequencies: 0.190 0.300 0.318 0.192 

Inference[0]: Time 3.176384 CAT-based likelihood -11314.997776, best rearrangement setting 5


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 11.570283 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 25.441225 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 55.709770 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 122.372271 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 262.210082 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 581.128965 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 999.872168 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -11315.223164 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.AVC171_chromosome.clean.full.iteration_4


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -11315.223164 .... 

Final GAMMA-based Score of best tree -11315.222905

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.AVC171_chromosome.clean.full.iteration_4
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.AVC171_chromosome.clean.full.iteration_4

Overall execution time: 9.294032 secs or 0.002582 hours or 0.000108 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 2112 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 23.07%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 2112
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpsqzh0xvg/rooted_tree.newick -n internal 



WARNING the alpha parameter with a value of 10.531965 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 19.929510 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 33.624324 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 36.924513 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 37.185127 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpsqzh0xvg/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpsqzh0xvg/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpsqzh0xvg/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 5.522386



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 848 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 6.67%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 848
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.AVC171_chromosome.clean.full.iteration_4.phylip -n AVC171_chromosome.clean.full.iteration_5 -t RAxML_result.AVC171_chromosome.clean.full.iteration_4 


Partition: 0 with name: No Name Provided
Base frequencies: 0.190 0.300 0.318 0.192 

Inference[0]: Time 3.212010 CAT-based likelihood -11314.997776, best rearrangement setting 5


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 11.570283 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 25.441225 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 55.709770 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 122.372271 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 262.210082 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 581.128965 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 999.872168 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 1000.000000 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -11315.223164 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.AVC171_chromosome.clean.full.iteration_5


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -11315.223164 .... 

Final GAMMA-based Score of best tree -11315.222905

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.AVC171_chromosome.clean.full.iteration_5
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.AVC171_chromosome.clean.full.iteration_5

Overall execution time: 8.790799 secs or 0.002442 hours or 0.000102 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 2112 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 23.07%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 2112
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmplrexn8wp/rooted_tree.newick -n internal 



WARNING the alpha parameter with a value of 10.531965 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 19.929510 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 33.624324 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 36.924513 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 37.185127 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmplrexn8wp/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmplrexn8wp/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmplrexn8wp/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 5.341278

Sample ESC_BA8511AA_AS.out has missing data percentage of 8.24969672136808
Sample ESC_GA5350AA_AS.out has missing data percentage of 8.03901302659414
Sample ESC_GB6943AA_AS.out has missing data percentage of 8.221632417857721
Sample ESC_HA6332AA_AS.out has missing data percentage of 7.499940533601585
Sample ESC_HA6342AA_AS.out has missing data percentage of 7.239938093560978
Sample ESC_HA6411AA_AS.out has missing data percentage of 8.206305433233814
Sample ESC_HA6413AA_AS.out has missing data percentage of 7.27496572049872
Sample ESC_HA6418AA_AS.out has missing data percentage of 7.2244768299729065
Sample ESC_HA6420AA_AS.out has missing data percentage of 8.342924687916504
Sample ESC_HB8007AA_AS.out has missing data percentage of 8.42136278569768
Sample ESC_IA0811AA_AS.out has missing data percentage of 7.350603142741608
Sample ESC_IA3651AA_AS.out has missing data percentage of 8.249197970929755
Sample ESC_LA1124AA_AS.out has missing data percentage of 8.79651902886384
Sample ESC_LA2840AA_AS.out has missing data percentage of 8.055490973768029
Sample ESC_LA2848AA_AS.out has missing data percentage of 8.21545558550616
Sample ESC_LB6278AA_AS.out has missing data percentage of 8.883992182662361
Sample ESC_LB6279AA_AS.out has missing data percentage of 8.853223117159548
Sample ESC_MA2736AA_AS.out has missing data percentage of 7.997482461249009
Sample ESC_NA3971AA_AS.out has missing data percentage of 9.706124732113466
Sample ESC_NA3973AA_AS.out has missing data percentage of 8.934807179244002
Sample ESC_NA3974AA_AS.out has missing data percentage of 8.635883022304887
Sample ESC_NA3975AA_AS.out has missing data percentage of 8.597709431063866
Sample ESC_NA3980AA_AS.out has missing data percentage of 9.119172197041719
Sample ESC_NA3982AA_AS.out has missing data percentage of 8.329093954607572
Sample ESC_NA3992AA_AS.out has missing data percentage of 8.274960349340153
Sample ESC_NA3999AA_AS.out has missing data percentage of 9.87278410935065
Sample ESC_NA4000AA_AS.out has missing data percentage of 9.462619421955916
Sample ESC_NA4003AA_AS.out has missing data percentage of 9.227746330923217
Sample ESC_NA4004AA_AS.out has missing data percentage of 8.588636009628186
Sample ESC_NA4005AA_AS.out has missing data percentage of 9.442650221713752
Sample ESC_NA4035AA_AS.out has missing data percentage of 7.478973832482772
Sample ESC_NA4045AA_AS.out has missing data percentage of 8.691052493867288
Sample ESC_NA4046AA_AS.out has missing data percentage of 8.75251389403625
Sample ESC_NA4048AA_AS.out has missing data percentage of 8.909697012945259
Sample ESC_NA4052AA_AS.out has missing data percentage of 8.581250666599143
Sample ESC_NA4053AA_AS.out has missing data percentage of 9.109753486841045
Sample ESC_NA4055AA_AS.out has missing data percentage of 8.292800268864852
Sample ESC_NA4056AA_AS.out has missing data percentage of 8.37143019373769
Sample ESC_NA4061AA_AS.out has missing data percentage of 8.407781427607908
Sample ESC_NA4063AA_AS.out has missing data percentage of 8.631490181905795
Sample ESC_NA4064AA_AS.out has missing data percentage of 8.874074722023362
Sample ESC_NA4066AA_AS.out has missing data percentage of 8.22531549801766
Sample ESC_NA4067AA_AS.out has missing data percentage of 8.397058293183923
Sample ESC_NA4068AA_AS.out has missing data percentage of 8.33713150974827
Sample ESC_NA4069AA_AS.out has missing data percentage of 8.795540710696356
Sample ESC_NA4070AA_AS.out has missing data percentage of 8.624450127641747
Sample ESC_NA4071AA_AS.out has missing data percentage of 8.269147988462752
Sample ESC_NA4072AA_AS.out has missing data percentage of 8.657655397208686
Sample ESC_SA8250AA_AS.out has missing data percentage of 4.587871003186631
Sample ESC_SA8273AA_AS.out has missing data percentage of 4.639299846461596
Sample ESC_SA8291AA_AS.out has missing data percentage of 8.530167112089174
Sample ESC_SA8296AA_AS.out has missing data percentage of 8.561262283647814
Sample ESC_SA8312AA_AS.out has missing data percentage of 8.187026810521639
Sample ESC_VA0598AA_AS.out has missing data percentage of 8.148910767408116
Sample Reference has missing data percentage of 0.0
gubbins /data/malcummi/pipelord/snplord/tmpcfzq_4v6/AVC171_chromosome.clean.full.aln
1599693360
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s AVC171_chromosome.clean.full.aln.phylip -n AVC171_chromosome.clean.full.iteration_1 
1599693448
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpsg5u3zle/rooted_tree.newick -n internal 
1599693454
1599693467
gubbins -r -v AVC171_chromosome.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmpcfzq_4v6/AVC171_chromosome.clean.full.aln -t RAxML_result.AVC171_chromosome.clean.full.iteration_1 -m 3 AVC171_chromosome.clean.full.aln.gaps.snp_sites.aln
1599693478
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.AVC171_chromosome.clean.full.iteration_1.phylip -n AVC171_chromosome.clean.full.iteration_2 -t RAxML_result.AVC171_chromosome.clean.full.iteration_1
1599693490
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpnme8pm26/rooted_tree.newick -n internal 
1599693495
1599693508
gubbins -r -v AVC171_chromosome.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmpcfzq_4v6/AVC171_chromosome.clean.full.aln -t RAxML_result.AVC171_chromosome.clean.full.iteration_2 -m 3 AVC171_chromosome.clean.full.aln.gaps.snp_sites.aln
1599693519
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.AVC171_chromosome.clean.full.iteration_2.phylip -n AVC171_chromosome.clean.full.iteration_3 -t RAxML_result.AVC171_chromosome.clean.full.iteration_2
1599693529
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmphdigfr7m/rooted_tree.newick -n internal 
1599693535
1599693548
gubbins -r -v AVC171_chromosome.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmpcfzq_4v6/AVC171_chromosome.clean.full.aln -t RAxML_result.AVC171_chromosome.clean.full.iteration_3 -m 3 AVC171_chromosome.clean.full.aln.gaps.snp_sites.aln
1599693559
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.AVC171_chromosome.clean.full.iteration_3.phylip -n AVC171_chromosome.clean.full.iteration_4 -t RAxML_result.AVC171_chromosome.clean.full.iteration_3
1599693568
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpsqzh0xvg/rooted_tree.newick -n internal 
1599693574
1599693586
gubbins -r -v AVC171_chromosome.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmpcfzq_4v6/AVC171_chromosome.clean.full.aln -t RAxML_result.AVC171_chromosome.clean.full.iteration_4 -m 3 AVC171_chromosome.clean.full.aln.gaps.snp_sites.aln
1599693598
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.AVC171_chromosome.clean.full.iteration_4.phylip -n AVC171_chromosome.clean.full.iteration_5 -t RAxML_result.AVC171_chromosome.clean.full.iteration_4
1599693606
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/AVC171_chromosome.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmplrexn8wp/rooted_tree.newick -n internal 
1599693612
1599693624
gubbins -r -v AVC171_chromosome.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmpcfzq_4v6/AVC171_chromosome.clean.full.aln -t RAxML_result.AVC171_chromosome.clean.full.iteration_5 -m 3 AVC171_chromosome.clean.full.aln.gaps.snp_sites.aln
1599693636
Tree observed before so stopping: RAxML_result.AVC171_chromosome.clean.full.iteration_5
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.branch_snps.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_parsimonyTree.AVC171_chromosome.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.phylip regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.snp_sites.aln regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.snp_sites.aln regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_log.AVC171_chromosome.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.vcf regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_info.AVC171_chromosome.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.branch_snps.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.phylip regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2 regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2$
Deleting file: ./RAxML_info.AVC171_chromosome.clean.full.iteration_3 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.phylip regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_log.AVC171_chromosome.clean.full.iteration_5 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.gff regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_log.AVC171_chromosome.clean.full.iteration_4 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.gff regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./RAxML_info.AVC171_chromosome.clean.full.iteration_2 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4 regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4$
Deleting file: ./RAxML_log.AVC171_chromosome.clean.full.iteration_2 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_info.AVC171_chromosome.clean.full.iteration_4 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.vcf regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.gff regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.snp_sites.aln regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.stats regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_info.AVC171_chromosome.clean.full.iteration_5 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3 regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3$
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1 regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1$
Deleting file: ./RAxML_bestTree.AVC171_chromosome.clean.full.iteration_4 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.snp_sites.aln regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.stats regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_1.vcf regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_1\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.stats regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./RAxML_bestTree.AVC171_chromosome.clean.full.iteration_5 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_bestTree.AVC171_chromosome.clean.full.iteration_2 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.stats regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_log.AVC171_chromosome.clean.full.iteration_3 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.branch_snps.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.branch_snps.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.tab regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_3.gff regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_3\.
Deleting file: ./RAxML_bestTree.AVC171_chromosome.clean.full.iteration_3 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_bestTree.AVC171_chromosome.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).AVC171_chromosome.clean.full.iteration_
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_2.phylip regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_2\.
Deleting file: ./RAxML_result.AVC171_chromosome.clean.full.iteration_4.vcf regex:^RAxML_result.AVC171_chromosome.clean.full.iteration_4\.
Deleting file: ./AVC171_chromosome.clean.full.aln.phylip regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./AVC171_chromosome.clean.full.aln.gaps.snp_sites.aln regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./AVC171_chromosome.clean.full.aln.gaps.vcf regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./AVC171_chromosome.clean.full.aln.gaps.phylip regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./AVC171_chromosome.clean.full.aln.vcf regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./AVC171_chromosome.clean.full.aln.start regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./AVC171_chromosome.clean.full.aln.snp_sites.aln regex:^AVC171_chromosome.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
[Thu Sep 10 09:20:44 2020]
Finished job 115.
111 of 121 steps (92%) done

[Thu Sep 10 09:20:44 2020]
rule snippy_core:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.full.aln
    jobid: 120
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF
    threads: 32


        snippy-core --prefix /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF --ref /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/*.out
        
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
This is snippy-core 4.4.3
Obtained from http://github.com/tseemann/snippy
Enabling bundled tools.
Found any2fasta - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/binaries/noarch/any2fasta
Found samtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/samtools
Found minimap2 - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/minimap2
Found bedtools - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/bedtools
Found snp-sites - /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609/bin/snp-sites
Saving reference FASTA: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.ref.fa
This is any2fasta 0.4.2
Opening '/projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa'
Detected FASTA format
Read 1814 lines from '/projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/assemblies/AVC171/refs/pAVC171-IncF.fa'
Wrote 1 sequences from FASTA file.
Processed 1 files.
Done.
Loaded 1 sequences totalling 144998 bp.
Will mask 0 regions totalling 0 bp ~ 0.00%
0	ESC_BA8511AA_AS.out	snp=373	del=7	ins=3	het=197	unaligned=9575
1	ESC_GA5350AA_AS.out	snp=22	del=1	ins=2	het=191	unaligned=3663
2	ESC_GB6943AA_AS.out	snp=369	del=7	ins=4	het=190	unaligned=21803
3	ESC_HA6332AA_AS.out	snp=1337	del=27	ins=13	het=135	unaligned=40565
4	ESC_HA6342AA_AS.out	snp=23	del=1	ins=2	het=467	unaligned=3587
5	ESC_HA6411AA_AS.out	snp=367	del=7	ins=5	het=163	unaligned=21416
6	ESC_HA6413AA_AS.out	snp=29	del=1	ins=2	het=224	unaligned=3595
7	ESC_HA6418AA_AS.out	snp=26	del=1	ins=12	het=504	unaligned=4399
8	ESC_HA6420AA_AS.out	snp=385	del=7	ins=4	het=407	unaligned=21874
9	ESC_HB8007AA_AS.out	snp=151	del=2	ins=1	het=1228	unaligned=7394
10	ESC_IA0811AA_AS.out	snp=29	del=1	ins=2	het=219	unaligned=3586
11	ESC_IA3651AA_AS.out	snp=380	del=7	ins=3	het=178	unaligned=21560
12	ESC_LA1124AA_AS.out	snp=382	del=7	ins=4	het=154	unaligned=21372
13	ESC_LA2840AA_AS.out	snp=386	del=7	ins=4	het=151	unaligned=22197
14	ESC_LA2848AA_AS.out	snp=371	del=7	ins=4	het=177	unaligned=21638
15	ESC_LB6278AA_AS.out	snp=364	del=7	ins=4	het=150	unaligned=33500
16	ESC_LB6279AA_AS.out	snp=380	del=7	ins=4	het=161	unaligned=21576
17	ESC_MA2736AA_AS.out	snp=377	del=7	ins=4	het=124	unaligned=21534
18	ESC_NA3971AA_AS.out	snp=376	del=5	ins=4	het=389	unaligned=27882
19	ESC_NA3973AA_AS.out	snp=389	del=7	ins=4	het=172	unaligned=22541
20	ESC_NA3974AA_AS.out	snp=375	del=7	ins=4	het=158	unaligned=22060
21	ESC_NA3975AA_AS.out	snp=383	del=7	ins=4	het=178	unaligned=22028
22	ESC_NA3980AA_AS.out	snp=368	del=8	ins=4	het=160	unaligned=22077
23	ESC_NA3982AA_AS.out	snp=383	del=7	ins=4	het=166	unaligned=21530
24	ESC_NA3992AA_AS.out	snp=377	del=7	ins=4	het=170	unaligned=21842
25	ESC_NA3999AA_AS.out	snp=371	del=7	ins=4	het=182	unaligned=23660
26	ESC_NA4000AA_AS.out	snp=369	del=7	ins=4	het=144	unaligned=22352
27	ESC_NA4003AA_AS.out	snp=372	del=5	ins=4	het=181	unaligned=22774
28	ESC_NA4004AA_AS.out	snp=376	del=7	ins=4	het=164	unaligned=21521
29	ESC_NA4005AA_AS.out	snp=385	del=5	ins=4	het=161	unaligned=23705
30	ESC_NA4035AA_AS.out	snp=380	del=7	ins=5	het=151	unaligned=21637
31	ESC_NA4045AA_AS.out	snp=379	del=7	ins=4	het=179	unaligned=23249
32	ESC_NA4046AA_AS.out	snp=154	del=1	ins=10	het=1	unaligned=135626
33	ESC_NA4048AA_AS.out	snp=46	del=1	ins=1	het=177	unaligned=15932
34	ESC_NA4052AA_AS.out	snp=390	del=7	ins=4	het=216	unaligned=24727
35	ESC_NA4053AA_AS.out	snp=387	del=7	ins=4	het=227	unaligned=27481
36	ESC_NA4055AA_AS.out	snp=390	del=7	ins=4	het=181	unaligned=21632
37	ESC_NA4056AA_AS.out	snp=377	del=7	ins=4	het=166	unaligned=21494
38	ESC_NA4061AA_AS.out	snp=353	del=7	ins=4	het=163	unaligned=22925
39	ESC_NA4063AA_AS.out	snp=387	del=7	ins=4	het=148	unaligned=21412
40	ESC_NA4064AA_AS.out	snp=1358	del=40	ins=46	het=396	unaligned=76639
41	ESC_NA4066AA_AS.out	snp=399	del=7	ins=15	het=533	unaligned=18921
42	ESC_NA4067AA_AS.out	snp=380	del=5	ins=4	het=151	unaligned=21562
43	ESC_NA4068AA_AS.out	snp=380	del=7	ins=4	het=171	unaligned=21512
44	ESC_NA4069AA_AS.out	snp=360	del=7	ins=4	het=128	unaligned=22248
45	ESC_NA4070AA_AS.out	snp=380	del=7	ins=4	het=179	unaligned=21907
46	ESC_NA4071AA_AS.out	snp=382	del=7	ins=4	het=469	unaligned=22155
47	ESC_NA4072AA_AS.out	snp=372	del=5	ins=4	het=129	unaligned=22178
48	ESC_SA8250AA_AS.out	snp=34	del=15	ins=2	het=333	unaligned=1393
49	ESC_SA8273AA_AS.out	snp=30	del=1	ins=2	het=580	unaligned=1705
50	ESC_SA8291AA_AS.out	snp=375	del=7	ins=4	het=138	unaligned=21760
51	ESC_SA8296AA_AS.out	snp=371	del=7	ins=4	het=93	unaligned=21902
52	ESC_SA8312AA_AS.out	snp=1296	del=27	ins=13	het=138	unaligned=40421
53	ESC_VA0598AA_AS.out	snp=383	del=7	ins=3	het=466	unaligned=20627
Opening: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.tab
Opening: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.vcf
Processing contig: pAVC171-IncF_origin.dna
Generating /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.full.aln
Creating TSV file: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.txt
Running: snp-sites -c -o /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.aln /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.full.aln
Found a bug? Post it at http://github.com/tseemann/snippy/issues
Done.
[Thu Sep 10 09:20:46 2020]
Finished job 120.
112 of 121 steps (93%) done

[Thu Sep 10 09:20:46 2020]
rule snippy_clean:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.full.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.clean.full.aln
    jobid: 118
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF
    threads: 32

snippy-clean_full_aln /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.full.aln > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.clean.full.aln
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[Thu Sep 10 09:20:47 2020]
Finished job 118.
113 of 121 steps (93%) done

[Thu Sep 10 09:20:47 2020]
rule gubbins:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.clean.full.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/pAVC171-IncF.filtered_polymorphic_sites.fasta
    jobid: 116
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF
    threads: 32


        run_gubbins.py -v -f 25 -p /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/pAVC171-IncF /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/core/pAVC171-IncF.clean.full.aln
        rm pAVC171-IncF.clean.full.aln.seq.joint.txt
        
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/0d285378


Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 265 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 7.94%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 distinct randomized MP trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 265
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s pAVC171-IncF.clean.full.aln.phylip -n pAVC171-IncF.clean.full.iteration_1 


Partition: 0 with name: No Name Provided
Base frequencies: 0.268 0.240 0.245 0.247 

Inference[0]: Time 2.179227 CAT-based likelihood -4604.782123, best rearrangement setting 15


Conducting final model optimizations on all 1 trees under GAMMA-based models ....

Inference[0] final GAMMA-based Likelihood: -4582.537124 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.pAVC171-IncF.clean.full.iteration_1


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -4582.537124 .... 

Final GAMMA-based Score of best tree -4582.217120

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.pAVC171-IncF.clean.full.iteration_1
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.pAVC171-IncF.clean.full.iteration_1

Overall execution time: 4.900841 secs or 0.001361 hours or 0.000057 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 265 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 7.94%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 265
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpwgtbn3y_/rooted_tree.newick -n internal 


Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpwgtbn3y_/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpwgtbn3y_/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpwgtbn3y_/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 0.487907



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 121 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 37.11%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 121
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.pAVC171-IncF.clean.full.iteration_1.phylip -n pAVC171-IncF.clean.full.iteration_2 -t RAxML_result.pAVC171-IncF.clean.full.iteration_1 


Partition: 0 with name: No Name Provided
Base frequencies: 0.203 0.259 0.235 0.303 

Inference[0]: Time 1.304446 CAT-based likelihood -836.993193, best rearrangement setting 15


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 11.226589 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 25.554651 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 58.606900 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 134.907931 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 301.850669 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 687.252279 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -837.057664 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.pAVC171-IncF.clean.full.iteration_2


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -837.057664 .... 

Final GAMMA-based Score of best tree -837.049253

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.pAVC171-IncF.clean.full.iteration_2
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.pAVC171-IncF.clean.full.iteration_2

Overall execution time: 2.249563 secs or 0.000625 hours or 0.000026 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 265 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 7.94%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 265
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpwt913qva/rooted_tree.newick -n internal 


Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpwt913qva/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpwt913qva/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpwt913qva/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 0.315426



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 95 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 37.58%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 95
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.pAVC171-IncF.clean.full.iteration_2.phylip -n pAVC171-IncF.clean.full.iteration_3 -t RAxML_result.pAVC171-IncF.clean.full.iteration_2 


Partition: 0 with name: No Name Provided
Base frequencies: 0.221 0.264 0.242 0.272 

Inference[0]: Time 0.880724 CAT-based likelihood -628.834967, best rearrangement setting 20


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 11.161269 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 25.415943 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 58.297468 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 134.196391 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 300.216720 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 683.489152 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -628.704369 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.pAVC171-IncF.clean.full.iteration_3


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -628.704369 .... 

Final GAMMA-based Score of best tree -628.701572

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.pAVC171-IncF.clean.full.iteration_3
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.pAVC171-IncF.clean.full.iteration_3

Overall execution time: 1.522612 secs or 0.000423 hours or 0.000018 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 265 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 7.94%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 265
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpxx6y92s8/rooted_tree.newick -n internal 


Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpxx6y92s8/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpxx6y92s8/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpxx6y92s8/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 0.309251



IMPORTANT WARNING: Sequences ESC_NA4063AA_AS.out and ESC_NA4068AA_AS.out are exactly identical

IMPORTANT WARNING
Found 1 sequence that is exactly identical to other sequences in the alignment.
Normally they should be excluded from the analysis.

Just in case you might need it, an alignment file with 
sequence duplicates removed is printed to file RAxML_result.pAVC171-IncF.clean.full.iteration_3.phylip.reduced


Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 80 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 33.53%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 80
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.pAVC171-IncF.clean.full.iteration_3.phylip -n pAVC171-IncF.clean.full.iteration_4 -t RAxML_result.pAVC171-IncF.clean.full.iteration_3 


Partition: 0 with name: No Name Provided
Base frequencies: 0.240 0.262 0.243 0.255 

Inference[0]: Time 0.776772 CAT-based likelihood -513.479772, best rearrangement setting 20


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 12.416270 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 28.518035 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 65.675567 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 142.241023 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 319.013657 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 727.124100 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -513.525229 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.pAVC171-IncF.clean.full.iteration_4


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -513.525229 .... 

Final GAMMA-based Score of best tree -513.524081

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.pAVC171-IncF.clean.full.iteration_4
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.pAVC171-IncF.clean.full.iteration_4

Overall execution time: 1.297067 secs or 0.000360 hours or 0.000015 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 265 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 7.94%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 265
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpqwxlec3i/rooted_tree.newick -n internal 


Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpqwxlec3i/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmpqwxlec3i/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmpqwxlec3i/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 0.310239



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 77 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 29.31%

RAxML rapid hill-climbing mode

Using 1 distinct models/data partitions with joint branch length optimization


Executing 1 inferences on the original alignment using 1 user-specified trees

All free model parameters will be estimated by RAxML
ML estimate of 25 per site rate categories

Likelihood of final tree will be evaluated and optimized under GAMMA

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 77
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V -s RAxML_result.pAVC171-IncF.clean.full.iteration_4.phylip -n pAVC171-IncF.clean.full.iteration_5 -t RAxML_result.pAVC171-IncF.clean.full.iteration_4 


Partition: 0 with name: No Name Provided
Base frequencies: 0.229 0.266 0.235 0.270 

Inference[0]: Time 0.549866 CAT-based likelihood -498.790527, best rearrangement setting 10


Conducting final model optimizations on all 1 trees under GAMMA-based models ....


WARNING the alpha parameter with a value of 12.446548 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 28.594732 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 65.859950 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 142.673836 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 320.019563 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!


WARNING the alpha parameter with a value of 729.453304 estimated by RAxML for partition number 0 with the name "No Name Provided"
is larger than 10.000000. You should do a model test and confirm that you actually need to incorporate a model of rate heterogeneity!
You can run inferences with a plain substitution model (without rate heterogeneity) by specifyng the CAT model and the "-V" option!

Inference[0] final GAMMA-based Likelihood: -498.897194 tree written to file /data/malcummi/pipelord/snplord/RAxML_result.pAVC171-IncF.clean.full.iteration_5


Starting final GAMMA-based thorough Optimization on tree 0 likelihood -498.897194 .... 

Final GAMMA-based Score of best tree -498.882843

Program execution info written to /data/malcummi/pipelord/snplord/RAxML_info.pAVC171-IncF.clean.full.iteration_5
Best-scoring ML tree written to: /data/malcummi/pipelord/snplord/RAxML_bestTree.pAVC171-IncF.clean.full.iteration_5

Overall execution time: 0.999020 secs or 0.000278 hours or 0.000012 days


RAxML can't, parse the alignment file as phylip file 
it will now try to parse it as FASTA file



Using BFGS method to optimize GTR rate parameters, to disable this specify "--no-bfgs" 



This is RAxML version 8.2.12 released by Alexandros Stamatakis on May 2018.

With greatly appreciated code contributions by:
Andre Aberer      (HITS)
Simon Berger      (HITS)
Alexey Kozlov     (HITS)
Kassian Kobert    (HITS)
David Dao         (KIT and HITS)
Sarah Lutteropp   (KIT and HITS)
Nick Pattengale   (Sandia)
Wayne Pfeiffer    (SDSC)
Akifumi S. Tanabe (NRIFS)
Charlie Taylor    (UF)


Alignment has 265 distinct alignment patterns

Proportion of gaps and completely undetermined characters in this alignment: 7.94%

RAxML marginal ancestral state computation

Using 1 distinct models/data partitions with joint branch length optimization


All free model parameters will be estimated by RAxML
GAMMA model of rate heterogeneity, ML estimate of alpha-parameter

GAMMA Model parameters will be estimated up to an accuracy of 0.1000000000 Log Likelihood units

Partition: 0
Alignment Patterns: 265
Name: No Name Provided
DataType: DNA
Substitution Matrix: GTR




RAxML was called as follows:

raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmp9j9tez91/rooted_tree.newick -n internal 


Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmp9j9tez91/RAxML_marginalAncestralProbabilities.internal

Ancestral Sequences based on Marginal Ancestral Probabilities written to file:
/data/malcummi/pipelord/snplord/tmp9j9tez91/RAxML_marginalAncestralStates.internal

Node-laballed ROOTED tree written to file:
/data/malcummi/pipelord/snplord/tmp9j9tez91/RAxML_nodeLabelledRootedTree.internal


Time for marginal ancestral state computation: 0.323227

Sample ESC_BA8511AA_AS.out has missing data percentage of 9.775307245617181
Sample ESC_GA5350AA_AS.out has missing data percentage of 4.480751458640809
Sample ESC_GB6943AA_AS.out has missing data percentage of 17.0960978772121
Sample ESC_HA6332AA_AS.out has missing data percentage of 33.152871074083784
Sample ESC_HA6342AA_AS.out has missing data percentage of 4.160057380101795
Sample ESC_HA6411AA_AS.out has missing data percentage of 16.820232003200044
Sample ESC_HA6413AA_AS.out has missing data percentage of 4.0993668878191425
Sample ESC_HA6418AA_AS.out has missing data percentage of 4.744203368322322
Sample ESC_HA6420AA_AS.out has missing data percentage of 17.65127794866136
Sample ESC_HB8007AA_AS.out has missing data percentage of 8.394598546186844
Sample ESC_IA0811AA_AS.out has missing data percentage of 3.784190126760369
Sample ESC_IA3651AA_AS.out has missing data percentage of 16.75540352280721
Sample ESC_LA1124AA_AS.out has missing data percentage of 16.74023089973655
Sample ESC_LA2840AA_AS.out has missing data percentage of 17.440930219727168
Sample ESC_LA2848AA_AS.out has missing data percentage of 16.891957130443178
Sample ESC_LB6278AA_AS.out has missing data percentage of 25.07689761238086
Sample ESC_LB6279AA_AS.out has missing data percentage of 16.875405178002456
Sample ESC_MA2736AA_AS.out has missing data percentage of 16.70160967737486
Sample ESC_NA3971AA_AS.out has missing data percentage of 22.899626201740713
Sample ESC_NA3973AA_AS.out has missing data percentage of 18.4850825528628
Sample ESC_NA3974AA_AS.out has missing data percentage of 17.624381025945187
Sample ESC_NA3975AA_AS.out has missing data percentage of 17.44989586063256
Sample ESC_NA3980AA_AS.out has missing data percentage of 17.54713858122181
Sample ESC_NA3982AA_AS.out has missing data percentage of 16.878163836742576
Sample ESC_NA3992AA_AS.out has missing data percentage of 17.689899171023047
Sample ESC_NA3999AA_AS.out has missing data percentage of 19.086470158209078
Sample ESC_NA4000AA_AS.out has missing data percentage of 18.230596284086676
Sample ESC_NA4003AA_AS.out has missing data percentage of 18.104387646726163
Sample ESC_NA4004AA_AS.out has missing data percentage of 17.166443675085173
Sample ESC_NA4005AA_AS.out has missing data percentage of 19.254058676671402
Sample ESC_NA4035AA_AS.out has missing data percentage of 16.816094015089863
Sample ESC_NA4045AA_AS.out has missing data percentage of 18.326459675305866
Sample ESC_NA4046AA_AS.out has missing data percentage of 94.64889170885115
Sample ESC_NA4048AA_AS.out has missing data percentage of 13.251217258169078
Sample ESC_NA4052AA_AS.out has missing data percentage of 20.258210458075283
Sample ESC_NA4053AA_AS.out has missing data percentage of 21.905129725927253
Sample ESC_NA4055AA_AS.out has missing data percentage of 16.96368225768631
Sample ESC_NA4056AA_AS.out has missing data percentage of 16.85333590808149
Sample ESC_NA4061AA_AS.out has missing data percentage of 18.167836797748933
Sample ESC_NA4063AA_AS.out has missing data percentage of 16.869198195837185
Sample ESC_NA4064AA_AS.out has missing data percentage of 60.359453233837705
Sample ESC_NA4066AA_AS.out has missing data percentage of 15.633319080263176
Sample ESC_NA4067AA_AS.out has missing data percentage of 17.069890619180953
Sample ESC_NA4068AA_AS.out has missing data percentage of 16.918854053159354
Sample ESC_NA4069AA_AS.out has missing data percentage of 17.717485758424253
Sample ESC_NA4070AA_AS.out has missing data percentage of 17.4850687595691
Sample ESC_NA4071AA_AS.out has missing data percentage of 17.577483827363135
Sample ESC_NA4072AA_AS.out has missing data percentage of 17.789210885667387
Sample ESC_SA8250AA_AS.out has missing data percentage of 2.2503758672533416
Sample ESC_SA8273AA_AS.out has missing data percentage of 3.0979737651553814
Sample ESC_SA8291AA_AS.out has missing data percentage of 17.50713802949006
Sample ESC_SA8296AA_AS.out has missing data percentage of 17.39403302114512
Sample ESC_SA8312AA_AS.out has missing data percentage of 32.939075021724435
Sample ESC_VA0598AA_AS.out has missing data percentage of 16.54367646450296
Sample Reference has missing data percentage of 0.0
Excluded sequence ESC_HA6332AA_AS.out because it had 33.152871074083784 percentage missing data while a maximum of 25 is allowed
Excluded sequence ESC_LB6278AA_AS.out because it had 25.07689761238086 percentage missing data while a maximum of 25 is allowed
Excluded sequence ESC_NA4064AA_AS.out because it had 60.359453233837705 percentage missing data while a maximum of 25 is allowed
Excluded sequence ESC_NA4046AA_AS.out because it had 94.64889170885115 percentage missing data while a maximum of 25 is allowed
Excluded sequence ESC_SA8312AA_AS.out because it had 32.939075021724435 percentage missing data while a maximum of 25 is allowed
gubbins /data/malcummi/pipelord/snplord/tmppg9micza/pAVC171-IncF.clean.full.aln
1599693649
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s pAVC171-IncF.clean.full.aln.phylip -n pAVC171-IncF.clean.full.iteration_1 
1599693657
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpwgtbn3y_/rooted_tree.newick -n internal 
1599693658
1599693658
gubbins -r -v pAVC171-IncF.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmppg9micza/pAVC171-IncF.clean.full.aln -t RAxML_result.pAVC171-IncF.clean.full.iteration_1 -m 3 pAVC171-IncF.clean.full.aln.gaps.snp_sites.aln
1599693659
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.pAVC171-IncF.clean.full.iteration_1.phylip -n pAVC171-IncF.clean.full.iteration_2 -t RAxML_result.pAVC171-IncF.clean.full.iteration_1
1599693661
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpwt913qva/rooted_tree.newick -n internal 
1599693661
1599693662
gubbins -r -v pAVC171-IncF.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmppg9micza/pAVC171-IncF.clean.full.aln -t RAxML_result.pAVC171-IncF.clean.full.iteration_2 -m 3 pAVC171-IncF.clean.full.aln.gaps.snp_sites.aln
1599693663
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.pAVC171-IncF.clean.full.iteration_2.phylip -n pAVC171-IncF.clean.full.iteration_3 -t RAxML_result.pAVC171-IncF.clean.full.iteration_2
1599693664
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpxx6y92s8/rooted_tree.newick -n internal 
1599693665
1599693665
gubbins -r -v pAVC171-IncF.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmppg9micza/pAVC171-IncF.clean.full.aln -t RAxML_result.pAVC171-IncF.clean.full.iteration_3 -m 3 pAVC171-IncF.clean.full.aln.gaps.snp_sites.aln
1599693666
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.pAVC171-IncF.clean.full.iteration_3.phylip -n pAVC171-IncF.clean.full.iteration_4 -t RAxML_result.pAVC171-IncF.clean.full.iteration_3
1599693667
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmpqwxlec3i/rooted_tree.newick -n internal 
1599693667
1599693668
gubbins -r -v pAVC171-IncF.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmppg9micza/pAVC171-IncF.clean.full.aln -t RAxML_result.pAVC171-IncF.clean.full.iteration_4 -m 3 pAVC171-IncF.clean.full.aln.gaps.snp_sites.aln
1599693669
Tree building command: raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V 
raxmlHPC-AVX2 -f d -p 1 -m GTRCAT -V  -s RAxML_result.pAVC171-IncF.clean.full.iteration_4.phylip -n pAVC171-IncF.clean.full.iteration_5 -t RAxML_result.pAVC171-IncF.clean.full.iteration_4
1599693670
Internal sequence reconstruction command: raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA 
raxmlHPC-AVX2 -f A -p 1 -m GTRGAMMA   -s /data/malcummi/pipelord/snplord/pAVC171-IncF.clean.full.aln.snp_sites.aln -t /data/malcummi/pipelord/snplord/tmp9j9tez91/rooted_tree.newick -n internal 
1599693670
1599693671
gubbins -r -v pAVC171-IncF.clean.full.aln.gaps.vcf -a 100 -b 10000 -f /data/malcummi/pipelord/snplord/tmppg9micza/pAVC171-IncF.clean.full.aln -t RAxML_result.pAVC171-IncF.clean.full.iteration_5 -m 3 pAVC171-IncF.clean.full.aln.gaps.snp_sites.aln
1599693671
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.snp_sites.aln regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3 regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3$
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.phylip regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.vcf regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_bestTree.pAVC171-IncF.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.branch_snps.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./RAxML_log.pAVC171-IncF.clean.full.iteration_2 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.snp_sites.aln regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.gff regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_info.pAVC171-IncF.clean.full.iteration_5 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_log.pAVC171-IncF.clean.full.iteration_4 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1 regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1$
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.phylip.reduced regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.phylip regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.gff regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4 regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4$
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.vcf regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.vcf regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.phylip regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_info.pAVC171-IncF.clean.full.iteration_2 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.stats regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.branch_snps.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.stats regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./RAxML_bestTree.pAVC171-IncF.clean.full.iteration_3 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.stats regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.branch_snps.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_log.pAVC171-IncF.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.stats regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.snp_sites.aln regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_bestTree.pAVC171-IncF.clean.full.iteration_2 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_parsimonyTree.pAVC171-IncF.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_bestTree.pAVC171-IncF.clean.full.iteration_4 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_info.pAVC171-IncF.clean.full.iteration_1 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_log.pAVC171-IncF.clean.full.iteration_3 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.snp_sites.aln regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./RAxML_log.pAVC171-IncF.clean.full.iteration_5 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.gff regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2 regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2$
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_1.phylip regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_1\.
Deleting file: ./RAxML_bestTree.pAVC171-IncF.clean.full.iteration_5 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_4.branch_snps.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_4\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_3.gff regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_3\.
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.tab regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./RAxML_info.pAVC171-IncF.clean.full.iteration_4 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_info.pAVC171-IncF.clean.full.iteration_3 regex:^RAxML_(bestTree|info|log|parsimonyTree).pAVC171-IncF.clean.full.iteration_
Deleting file: ./RAxML_result.pAVC171-IncF.clean.full.iteration_2.vcf regex:^RAxML_result.pAVC171-IncF.clean.full.iteration_2\.
Deleting file: ./pAVC171-IncF.clean.full.aln.gaps.phylip regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./pAVC171-IncF.clean.full.aln.start regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./pAVC171-IncF.clean.full.aln.gaps.vcf regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./pAVC171-IncF.clean.full.aln.vcf regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./pAVC171-IncF.clean.full.aln.gaps.snp_sites.aln regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./pAVC171-IncF.clean.full.aln.phylip regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
Deleting file: ./pAVC171-IncF.clean.full.aln.snp_sites.aln regex:^pAVC171-IncF.clean.full.aln.(gaps|vcf|snp_sites|phylip|start)
[Thu Sep 10 09:21:15 2020]
Finished job 116.
114 of 121 steps (94%) done

[Thu Sep 10 09:21:15 2020]
rule snp_sites:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/AVC171_chromosome.filtered_polymorphic_sites.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln
    jobid: 113
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome
    threads: 32

snp-sites -c /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/AVC171_chromosome.filtered_polymorphic_sites.fasta > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[Thu Sep 10 09:21:16 2020]
Finished job 113.
115 of 121 steps (95%) done

[Thu Sep 10 09:21:16 2020]
rule snp_dists:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_dists/AVC171_chromosome.pairwise_snps.csv
    jobid: 111
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome
    threads: 32

snp-dists -c /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_dists/AVC171_chromosome.pairwise_snps.csv
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/4ead7ed0
This is snp-dists 0.6.3
Read 55 sequences of length 1039
[Thu Sep 10 09:21:16 2020]
Finished job 111.
116 of 121 steps (96%) done

[Thu Sep 10 09:21:16 2020]
rule fasttree:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/fasttree/AVC171_chromosome.clean.fullcore.tree
    jobid: 109
    wildcards: output_prefix=AVC171_HC50, reference=AVC171_chromosome
    threads: 32

fasttree -gtr -nt /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/fasttree/AVC171_chromosome.clean.fullcore.tree
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/89835887
FastTree Version 2.1.10 Double precision (No SSE3)
Alignment: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/AVC171_chromosome.clean.fullcore.aln
Nucleotide distances: Jukes-Cantor Joins: balanced Support: SH-like 1000
Search: Normal +NNI +SPR (2 rounds range 10) +ML-NNI opt-each=1
TopHits: 1.00*sqrtN close=default refresh=0.80
ML Model: Generalized Time-Reversible, CAT approximation with 20 rate categories
Initial topology in 0.02 seconds
Refining topology: 23 rounds ME-NNIs, 2 rounds ME-SPRs, 12 rounds ML-NNIs
      0.13 seconds: SPR round   1 of   2, 101 of 108 nodes
      0.25 seconds: SPR round   2 of   2, 101 of 108 nodes
Total branch-length 1.073 after 0.27 sec
ML-NNI round 1: LogLk = -7886.631 NNIs 7 max delta 0.00 Time 0.40
      0.40 seconds: Optimizing GTR model, step 1 of 12
      0.52 seconds: Optimizing GTR model, step 5 of 12
      0.64 seconds: Optimizing GTR model, step 10 of 12
GTR Frequencies: 0.1502 0.3267 0.3516 0.1715
GTR rates(ac ag at cg ct gt) 1.1128 2.9948 1.4777 0.1604 3.0546 1.0000
      0.74 seconds: Site likelihoods with rate category 1 of 20
Switched to using 20 rate categories (CAT approximation)
Rate categories were divided by 0.794 so that average rate = 1.0
CAT-based log-likelihoods may not be comparable across runs
Use -gamma for approximate but comparable Gamma(20) log-likelihoods
ML-NNI round 2: LogLk = -7537.738 NNIs 9 max delta 0.37 Time 0.92
      0.92 seconds: ML NNI round 3 of 12, 1 of 53 splits
ML-NNI round 3: LogLk = -7537.667 NNIs 2 max delta 0.00 Time 1.02
Turning off heuristics for final round of ML NNIs (converged)
ML-NNI round 4: LogLk = -7537.433 NNIs 1 max delta 0.00 Time 1.18 (final)
      1.17 seconds: ML Lengths 1 of 53 splits
Optimize all lengths: LogLk = -7537.433 Time 1.22
Total time: 1.43 seconds Unique: 55/55 Bad splits: 0/52
[Thu Sep 10 09:21:18 2020]
Finished job 109.
117 of 121 steps (97%) done

[Thu Sep 10 09:21:18 2020]
rule snp_sites:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/pAVC171-IncF.filtered_polymorphic_sites.fasta
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln
    jobid: 114
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF
    threads: 32

snp-sites -c /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/gubbins/pAVC171-IncF.filtered_polymorphic_sites.fasta > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/88bf0609
[Thu Sep 10 09:21:19 2020]
Finished job 114.
118 of 121 steps (98%) done

[Thu Sep 10 09:21:19 2020]
rule snp_dists:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_dists/pAVC171-IncF.pairwise_snps.csv
    jobid: 112
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF
    threads: 32

snp-dists -c /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_dists/pAVC171-IncF.pairwise_snps.csv
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/4ead7ed0
This is snp-dists 0.6.3
Read 50 sequences of length 22
[Thu Sep 10 09:21:20 2020]
Finished job 112.
119 of 121 steps (98%) done

[Thu Sep 10 09:21:20 2020]
rule fasttree:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln
    output: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/fasttree/pAVC171-IncF.clean.fullcore.tree
    jobid: 110
    wildcards: output_prefix=AVC171_HC50, reference=pAVC171-IncF
    threads: 32

fasttree -gtr -nt /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln > /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/fasttree/pAVC171-IncF.clean.fullcore.tree
Activating conda environment: /data/malcummi/pipelord/snplord/.snakemake/conda/89835887
FastTree Version 2.1.10 Double precision (No SSE3)
Alignment: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_sites/pAVC171-IncF.clean.fullcore.aln
Nucleotide distances: Jukes-Cantor Joins: balanced Support: SH-like 1000
Search: Normal +NNI +SPR (2 rounds range 10) +ML-NNI opt-each=1
TopHits: 1.00*sqrtN close=default refresh=0.80
ML Model: Generalized Time-Reversible, CAT approximation with 20 rate categories
Initial topology in 0.00 seconds
Refining topology: 14 rounds ME-NNIs, 2 rounds ME-SPRs, 7 rounds ML-NNIs
Total branch-length 1.800 after 0.00 sec
ML-NNI round 1: LogLk = -119.784 NNIs 3 max delta 0.00 Time 0.00
GTR Frequencies: 0.2927 0.2114 0.3293 0.1667
GTR rates(ac ag at cg ct gt) 1.3288 8.2962 2.9159 0.7831 16.2797 1.0000
Switched to using 20 rate categories (CAT approximation)
Rate categories were divided by 0.718 so that average rate = 1.0
CAT-based log-likelihoods may not be comparable across runs
Use -gamma for approximate but comparable Gamma(20) log-likelihoods
ML-NNI round 2: LogLk = -108.949 NNIs 3 max delta 0.00 Time 0.01
Turning off heuristics for final round of ML NNIs (converged)
ML-NNI round 3: LogLk = -108.949 NNIs 0 max delta 0.00 Time 0.01 (final)
Optimize all lengths: LogLk = -108.949 Time 0.01
Total time: 0.01 seconds Unique: 11/50 Bad splits: 0/8
[Thu Sep 10 09:21:21 2020]
Finished job 110.
120 of 121 steps (99%) done

[Thu Sep 10 09:21:21 2020]
localrule all:
    input: /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4004AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4004AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4000AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4000AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6418AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6418AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8250AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8250AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6413AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6413AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_BA8511AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_BA8511AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_VA0598AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_VA0598AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3992AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3992AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA1124AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA1124AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8312AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8312AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8291AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8291AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4048AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4048AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4055AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4055AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2848AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2848AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4063AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4063AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3974AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3974AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA0811AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA0811AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4070AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4070AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4046AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4046AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4064AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4064AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3971AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3971AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3982AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3982AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4035AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4035AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4071AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4071AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6420AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6420AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4069AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4069AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6411AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6411AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6342AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6342AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GA5350AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GA5350AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HB8007AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HB8007AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4052AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4052AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4066AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4066AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4003AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4003AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8296AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8296AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3975AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3975AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3973AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3973AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_IA3651AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_IA3651AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6278AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6278AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3999AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3999AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_MA2736AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_MA2736AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4045AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4045AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4067AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4067AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4068AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4068AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4053AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4053AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4005AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4005AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_GB6943AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_GB6943AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_SA8273AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_SA8273AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_HA6332AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_HA6332AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4056AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4056AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LB6279AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LB6279AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4061AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4061AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_LA2840AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_LA2840AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA4072AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA4072AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/AVC171_chromosome/ESC_NA3980AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snippyout/pAVC171-IncF/ESC_NA3980AA_AS.out, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/fasttree/AVC171_chromosome.clean.fullcore.tree, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/fasttree/pAVC171-IncF.clean.fullcore.tree, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_dists/AVC171_chromosome.pairwise_snps.csv, /projects/AusGEM/Users/Max/Manuscripts/AVC171/AVC171/analysis/snippy/AVC171_HC50/snp_dists/pAVC171-IncF.pairwise_snps.csv
    jobid: 0

[Thu Sep 10 09:21:21 2020]
Finished job 0.
121 of 121 steps (100%) done
Complete log: /data/malcummi/pipelord/snplord/.snakemake/log/2020-09-10T090807.378480.snakemake.log
['ESC_NA4004AA_AS', 'ESC_NA4000AA_AS', 'ESC_HA6418AA_AS', 'ESC_SA8250AA_AS', 'ESC_HA6413AA_AS', 'ESC_BA8511AA_AS', 'ESC_VA0598AA_AS', 'ESC_NA3992AA_AS', 'ESC_LA1124AA_AS', 'ESC_SA8312AA_AS', 'ESC_SA8291AA_AS', 'ESC_NA4048AA_AS', 'ESC_NA4055AA_AS', 'ESC_LA2848AA_AS', 'ESC_NA4063AA_AS', 'ESC_NA3974AA_AS', 'ESC_IA0811AA_AS', 'ESC_NA4070AA_AS', 'ESC_NA4046AA_AS', 'ESC_NA4064AA_AS', 'ESC_NA3971AA_AS', 'ESC_NA3982AA_AS', 'ESC_NA4035AA_AS', 'ESC_NA4071AA_AS', 'ESC_HA6420AA_AS', 'ESC_NA4069AA_AS', 'ESC_HA6411AA_AS', 'ESC_HA6342AA_AS', 'ESC_GA5350AA_AS', 'ESC_HB8007AA_AS', 'ESC_NA4052AA_AS', 'ESC_NA4066AA_AS', 'ESC_NA4003AA_AS', 'ESC_SA8296AA_AS', 'ESC_NA3975AA_AS', 'ESC_NA3973AA_AS', 'ESC_IA3651AA_AS', 'ESC_LB6278AA_AS', 'ESC_NA3999AA_AS', 'ESC_MA2736AA_AS', 'ESC_NA4045AA_AS', 'ESC_NA4067AA_AS', 'ESC_NA4068AA_AS', 'ESC_NA4053AA_AS', 'ESC_NA4005AA_AS', 'ESC_GB6943AA_AS', 'ESC_SA8273AA_AS', 'ESC_HA6332AA_AS', 'ESC_NA4056AA_AS', 'ESC_LB6279AA_AS', 'ESC_NA4061AA_AS', 'ESC_LA2840AA_AS', 'ESC_NA4072AA_AS', 'ESC_NA3980AA_AS']
['AVC171_chromosome', 'pAVC171-IncF']
